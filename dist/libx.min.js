(function(f){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=f();else if("function"==typeof define&&define.amd)define([],f);else{var g;g="undefined"==typeof window?"undefined"==typeof global?"undefined"==typeof self?this:self:global:window,g.browserified_5199=f()}})(function(){var define,module,exports;return function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r}()({1:[function(require,module,exports){"use strict";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0}),exports.ModuleOptions=exports.DependencyInjector=void 0;const concurrency_libx_js_1=require("concurrency.libx.js"),Helpers_1=require("./Helpers");class DependencyInjector{constructor(parent,options){this.modules={},this.parent=null,this._options=new ModuleOptions,this._pendingRequireRequests=[],this._options=Object.assign(Object.assign({},this._options),options),this.parent=parent}register(moduleIdentifier,instance,noOverride=!1){if(null==moduleIdentifier)throw`DependencyInjector: identifier cannot be null`;if(null!=this.modules[moduleIdentifier]&&noOverride)throw`DependencyInjector: Module already exists!, identifier: ${moduleIdentifier.toString()}`;return this.modules[moduleIdentifier]=instance,this._recheckPendingRequireRequestsAndTrigger(moduleIdentifier,instance),instance}get(moduleIdentifier){return this.modules[moduleIdentifier]}require(moduleIdentifier){return __awaiter(this,void 0,void 0,function*(){return yield this.requireSingle(moduleIdentifier)})}requireMany(moduleIdentifiers){return __awaiter(this,void 0,void 0,function*(){const promises=[];for(let identifier of moduleIdentifiers){const p=this.requireSingle(identifier);promises.push(p)}return yield Promise.all(promises)})}inject(injectFunc,moduleIdentifiers){return __awaiter(this,void 0,void 0,function*(){null==moduleIdentifiers&&(moduleIdentifiers=Helpers_1.default.getParamNames(injectFunc));const modules=yield this.requireMany(moduleIdentifiers);return injectFunc.apply(injectFunc,modules)})}initiate(classPrototype,constructorDependenciesIdentifiers){return __awaiter(this,void 0,void 0,function*(){const modulesNames=constructorDependenciesIdentifiers||Helpers_1.default.getParamNames(classPrototype),deps=yield this.requireMany(modulesNames);return Reflect.construct(classPrototype,deps)})}injectAndRegister(moduleIdentifier,injectFunc){return __awaiter(this,void 0,void 0,function*(){const instance=yield this.inject(injectFunc);return this.register(moduleIdentifier,instance)})}hasPendingRequireRequests(){return 0<this._pendingRequireRequests.length}unregister(moduleIdentifier){delete this.modules[moduleIdentifier]}requireSingle(moduleIdentifier){return __awaiter(this,void 0,void 0,function*(){let existingModule=this.modules[moduleIdentifier];if(null==existingModule&&null!=this.parent&&(existingModule=this.parent.modules[moduleIdentifier]),null!=existingModule)return existingModule;const pendingRequire=new PendingRequireRequest(moduleIdentifier);return this._pendingRequireRequests.push(pendingRequire),pendingRequire.promise})}_recheckPendingRequireRequestsAndTrigger(newRegisteredModuleIdentifier,newInstance){for(let pendingRequire of[...this._pendingRequireRequests])pendingRequire.moduleIdentifier==newRegisteredModuleIdentifier&&(pendingRequire.promise.resolve(newInstance),Helpers_1.default.removeItemFromArr(this._pendingRequireRequests,pendingRequire))}}exports.DependencyInjector=DependencyInjector;class PendingRequireRequest{constructor(moduleIdentifier){this.moduleIdentifier=moduleIdentifier,this.promise=new concurrency_libx_js_1.Deferred}onResolve(instance){return this.promise.resolve(instance)}}class ModuleOptions{}exports.ModuleOptions=ModuleOptions,exports.default=new DependencyInjector},{"./Helpers":2,"concurrency.libx.js":8}],2:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});class Helpers{static isArray(obj){return Array.isArray?Array.isArray(obj):"[object Array]"===toString.call(obj)}}exports.default=Helpers,Helpers.STRIP_COMMENTS=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Helpers.ARGUMENT_NAMES=/([^\s,]+)/g,Helpers.getParamNames=function(func){const fnStr=func.toString().replace(Helpers.STRIP_COMMENTS,"");let m=null;if(m=null==fnStr.match(/^\s*class\s+/)?fnStr.match(/^\(?(?:async\s?)?(?:function\*?\s[\w\d]+\s?)?\(?([\w\d\,\s\$\_]+)\)?/):fnStr.match(/(?:constructor\s?)\(?([\w\d\,\s\$\_]+)\)?/),null==m||1>m.length)return null;const params=m[1].replace(/\s/g,"");let result=params.split(",");return null===result&&(result=[]),result},Helpers.getKeys=obj=>Object.keys(obj),Helpers.isEmpty=obj=>{if(null==obj)return!0;for(const prop in obj)if(obj.hasOwnProperty(prop))return!1;return JSON.stringify(obj)===JSON.stringify({})},Helpers.removeItemFromArr=(arr,item)=>{const index=arr.indexOf(item);return-1<index&&arr.splice(index,1),arr},Helpers.tryGetInstanceTypeName=function(instance){var _a,_b,_c;if(null==instance)return null;if("function"==typeof instance){if(""==instance.name)throw new Error("Helpers:tryGetInstanceName: Cannot imply instance name from anonymous functions");return instance.name}return(null===(_a=instance.constructor)||void 0===_a?void 0:_a.name)&&"Function"!=(null===(_b=instance.constructor)||void 0===_b?void 0:_b.name)?null===(_c=instance.constructor)||void 0===_c?void 0:_c.name:typeof instance}},{}],3:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});class Deferred{constructor(){this._settled=!1,this._promise=new Promise((resolve,reject)=>{this._resolve=resolve,this._reject=reject})}getPromise(){return this._promise}resolve(value){this._settled=!0,this._resolve(value)}reject(reason){this._settled=!0,this._reject(reason)}catch(){return Promise.prototype.catch.apply(this._promise,arguments)}then(){return Promise.prototype.then.apply(this._promise,arguments)}finally(){return Promise.prototype.finally.apply(this._promise,arguments)}get[Symbol.toStringTag](){return this.promise.toString()}done(){const promise=arguments.length?this._promise.then.apply(this._promise,arguments):this._promise;promise.then(void 0,function(err){setTimeout(function(){throw err},0)})}isSettled(){return this._settled}promise(){return this.getPromise()}static new(){return new Deferred}}exports.default=Deferred},{}],4:[function(require,module,exports){"use strict";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0});const Deferred_1=require("./Deferred"),isAsync_1=require("./isAsync");exports.default=function(func){if(isAsync_1.default(func))return func;let promise=Deferred_1.default.new(),wrapper=function(){return __awaiter(this,arguments,void 0,function*(){let args=arguments;try{let result=func.apply(func,args);return promise.resolve(result),result}catch(ex){return promise.reject(ex),null}})};return wrapper}},{"./Deferred":3,"./isAsync":9}],5:[function(require,module,exports){"use strict";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0}),exports.chainTasks=void 0,exports.chainTasks=(tasks,eachCb)=>__awaiter(void 0,void 0,void 0,function*(){for(var counter=0,i=0,t;i<tasks.length;i++)t=tasks[i],yield t().then(()=>{eachCb&&eachCb(counter++)})})},{}],6:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.default=(func,wait,immediate=!1,allowTaillingCall=!0)=>{var timeout;return function(){var context=this,args=arguments,callNow=immediate&&!timeout;clearTimeout(timeout),timeout=setTimeout(function(){timeout=null,allowTaillingCall&&func.apply(context,args)},wait),callNow&&func.apply(context,args)}}},{}],7:[function(require,module,exports){"use strict";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0});const Deferred_1=require("./Deferred");exports.default=milliseconds=>__awaiter(void 0,void 0,void 0,function*(){let p=Deferred_1.default.new();return setTimeout(()=>p.resolve(),milliseconds),p})},{"./Deferred":3}],8:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.async=exports.sleep=exports.chain=exports.measurements=exports.waitUntil=exports.isAsync=exports.delay=exports.throttle=exports.debounce=exports.Deferred=void 0;const Deferred_1=require("./Deferred");exports.Deferred=Deferred_1.default;const debounce_1=require("./debounce");exports.debounce=debounce_1.default;const throttle_1=require("./throttle");exports.throttle=throttle_1.default;const delay_1=require("./delay");exports.delay=delay_1.default;const isAsync_1=require("./isAsync");exports.isAsync=isAsync_1.default;const waitUntil_1=require("./waitUntil");exports.waitUntil=waitUntil_1.default;const measurements=require("./measurements");exports.measurements=measurements;const chain=require("./chain");exports.chain=chain;const sleep_1=require("./sleep");exports.sleep=sleep_1.default;const async_1=require("./async");exports.async=async_1.default},{"./Deferred":3,"./async":4,"./chain":5,"./debounce":6,"./delay":7,"./isAsync":9,"./measurements":10,"./sleep":11,"./throttle":12,"./waitUntil":13}],9:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.default=function(func){const string=func.toString().trim();return!!(string.match(/^async /)||string.match(/return _ref[^\.]*\.apply/)||string.match(/__awaiter/))}},{}],10:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getMeasureAndReset=exports.getMeasure=exports.measure=void 0;let _measures={};exports.measure=function(measureName="_"){return null==_measures[measureName]?(_measures[measureName]=new Date().getTime(),0):exports.getMeasure(measureName)},exports.getMeasure=function(measureName="_"){return null==_measures[measureName]?0:new Date().getTime()-_measures[measureName]},exports.getMeasureAndReset=function(measureName="_"){let ret=exports.getMeasure(measureName);return _measures[measureName]=null,ret}},{}],11:[function(require,module,exports){"use strict";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0});exports.default=millis=>__awaiter(void 0,void 0,void 0,function*(){return new Promise(resolve=>setTimeout(resolve,millis))})},{}],12:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.default=(func,wait,immediate=!0)=>{var timeout;return function(){var context=this,args=arguments;null!=timeout||(timeout=setTimeout(function(){timeout=null,immediate||func.apply(context,args)},wait),immediate&&func.apply(context,args))}}},{}],13:[function(require,module,exports){"use strict";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0});const Deferred_1=require("./Deferred"),async_1=require("./async");exports.default=(conditionFn,callback=null,interval=10,timeout=5e3)=>__awaiter(void 0,void 0,void 0,function*(){var expiry=new Date;expiry.setMilliseconds(expiry.getMilliseconds()+timeout);var wrapper=async_1.default(conditionFn);let p=Deferred_1.default.new();if(yield wrapper()){let ret=callback?callback():null;return p.resolve(ret)}var i=setInterval(()=>__awaiter(void 0,void 0,void 0,function*(){if(new Date>expiry)return clearInterval(i),p.reject();if(yield wrapper()){clearInterval(i);let ret=callback?callback():null;return p.resolve(ret)}}),interval);return p})},{"./Deferred":3,"./async":4}],14:[function(require,module,exports){"use strict";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0}),exports.browserHelpers=exports.BrowserHelpers=void 0;const helpers_1=require("../helpers"),ObjectHelpers_1=require("../helpers/ObjectHelpers"),log_1=require("../modules/log"),Network_1=require("../modules/Network");class BrowserHelpers{constructor(){this.isiOS=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,this.urlize=function(obj){var str="";for(var key in obj)null!=obj[key]&&(""!=str&&(str+="&"),str+=key+"="+encodeURIComponent(obj[key]));return str},this.cleanUrl=function(url){return null==url?null:url.replace(/([^:]\/)\/+/g,"$1")},this.querialize=function(obj,avoidPrefix){if(null==obj||1>obj.length)return null;var str=[];for(var p in obj)obj.hasOwnProperty(p)&&str.push(encodeURIComponent(p)+"="+encodeURIComponent(obj[p]));return(avoidPrefix?"":"?")+str.join("&")},this.injectScript=function(src,onReady,doc=document){var head=doc.getElementsByTagName("head")[0],script=doc.createElement("script");script.type="text/javascript",script.onreadystatechange=function(){"complete"==this.readyState&&onReady(src)},script.onload=onReady,script.src=src,head.appendChild(script)},this.injectCss=function(filename,doc=document){var fileref=doc.createElement("link");fileref.setAttribute("rel","stylesheet"),fileref.setAttribute("type","text/css"),fileref.setAttribute("href",filename),"undefined"!=typeof fileref&&doc.getElementsByTagName("head")[0].appendChild(fileref)},this.reload=()=>{window.location.reload()},this.events={subscribe:(eventName,callback)=>{document.addEventListener(eventName,callback)},broadcast:eventName=>{var event=document.createEvent("Event");event.initEvent(eventName),document.dispatchEvent(event)}},this.messages={subscribe:(channelName,callback)=>{document.addEventListener(channelName,function(e){callback(e.detail.message)})},broadcast:(channelName,message)=>{var newEvent=new CustomEvent(channelName,{detail:{message:message}});document.dispatchEvent(newEvent)}},this.uploadFile=function(folderName,filesInput,callback){var fd=new FormData;fd.append("file",filesInput[0]),fd.append("destFolder","cvs"),Network_1.network.httpPost("api/uploadFile",fd,{withCredentials:!0,headers:{"Content-Type":void 0,destFolder:folderName}}).then(function(data){log_1.log.verbose("uploadFile:success",data),callback(filesInput[0],data)}).catch(function(err){log_1.log.error("File upload failed!",err)})},this.isIframe=function(){try{return window.self!==window.top}catch(e){return!0}},this.copyToClipboard=text=>{function isOS(){return navigator.userAgent.match(/ipad|iphone/i)}function createTextArea(text){textArea=document.createElement("textArea"),textArea.value=text,document.body.appendChild(textArea)}function selectText(){var range,selection;isOS()?(range=document.createRange(),range.selectNodeContents(textArea),selection=window.getSelection(),selection.removeAllRanges(),selection.addRange(range),textArea.setSelectionRange(0,999999)):textArea.select()}function copyToClipboard(){document.execCommand("copy"),document.body.removeChild(textArea)}let p=helpers_1.helpers.newPromise(),textArea,copy;return copy=function(text){createTextArea(text),selectText(),copyToClipboard(),p.resolve(text)},copy(text),p},this.getHost=function(absUrl){var url=absUrl||location.href,hostname;return hostname=-1<url.indexOf("://")?url.split("/")[2]:url.split("/")[0],hostname=hostname.split("?")[0],url.substr(0,url.indexOf("://")+3)+hostname+"/"},this.getParameters=function(search){return null==search&&(search=location.search),search.startsWith("?")||(search="?"+search),search=search.replace(/(?![?&])([^=&?]+)(\=)?([^&]+)?/g,"$1=$3"),search=search.substring(1),null==search||""==search?{}:JSON.parse("{\""+decodeURI(search).replace(/\"/g,"\\\"").replace(/&/g,"\",\"").replace(/=/g,"\":\"")+"\"}")},this.getAttributes=function($node,pattern){var attrs={};return jQuery.each($node[0].attributes,function(index,attribute){var attrName=attribute.name;if(null!=pattern){var match=attrName.match(pattern);if(null==match)return;attrName=match[1]}attrName=attrName.replace("-","_"),attrs[attrName]=attribute.value}),attrs},this.getSubDomain=()=>{var p=window.location.host.split(".");return 2<p.length?p[0]:null},this.getDomain=()=>{var p=window.location.host.split(".");return 2<p.length?p[1]:1<p.length?p[0]:null},this.localDownload=(data,fileName,type="data:text/plain;charset=utf-8")=>{var downloadLink=document.createElement("a");downloadLink.href=type+","+data,downloadLink.download=fileName,document.body.appendChild(downloadLink),downloadLink.click(),document.body.removeChild(downloadLink)},this.localDownloadBlob=(data,fileName,type="octet/stream;charset=utf-8")=>{var a=document.createElement("a");document.body.appendChild(a),a.style="display: none",ObjectHelpers_1.objectHelpers.isObject(data)&&(data=JSON.stringify(data));var blob=new Blob([data],{type:type}),url=window.URL.createObjectURL(blob);a.href=url,a.download=fileName,a.click(),window.URL.revokeObjectURL(url)},this.jQueryExt={setup:function($){$.postJson=function(url,jsonData){var ret=$.ajax({url:url,type:"POST",dataType:"json",data:JSON.stringify(jsonData),contentType:"application/json; charset=utf-8"});return ret},$.getJson=function(url){for(var args=[],_i=0;_i<arguments.length-1;_i++)args[_i]=arguments[_i+1];var fullUrl=url.format(args);return $.when($.getJSON(fullUrl))},$.getJsonSync=function(url){for(var args=[],_i=0;_i<arguments.length-1;_i++)args[_i]=arguments[_i+1];var fullUrl=url.format(args),ret=$.ajax({url:fullUrl,type:"GET",async:!1,cache:!1,dataType:"json",contentType:"application/json; charset=utf-8"});return $.when(ret)},$.expr[":"].hasText=function(node,index,props){return node.textContent.trim()==props[3]}},applyReveal:function(){null==jQuery().viewportChecker||(jQuery("[reveal-reset]").viewportChecker({classToAdd:"visible animated",removeClassAfterAnimation:!1,repeat:!0,offset:"10%",callbackFunction:function(elem,action){var e=jQuery(elem);"add"==action?e.addClass(e.attr("reveal-reset")):e.removeClass(e.attr("reveal-reset"))}}),jQuery("[reveal]").viewportChecker({classToAdd:"visible animated",removeClassAfterAnimation:!1,offset:"10%",callbackFunction:function(elem,action){var e=jQuery(elem);"add"==action?e.addClass(e.attr("reveal")):e.removeClass(e.attr("reveal"))}}))}},this.getImageMeta=function(url){var defer=helpers_1.helpers.newPromise(),img=new Image;return img.addEventListener("load",function(){defer.resolve({width:this.naturalWidth,height:img.naturalHeight})}),img.src=url,defer.promise()},this.imgToBase64=(src,outputFormat)=>__awaiter(this,void 0,void 0,function*(){var p=helpers_1.helpers.newPromise(),img=new Image;return img.crossOrigin="Anonymous",img.onload=function(){var canvas=document.createElement("CANVAS"),ctx=canvas.getContext("2d"),dataURL;canvas.height=img.naturalHeight,canvas.width=img.naturalWidth,ctx.drawImage(this,0,0),dataURL=canvas.toDataURL(outputFormat),p.resolve(dataURL)},img.src=src,(img.complete||void 0===img.complete)&&(img.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",img.src=src),p.promise()}),this.queryString=function(name,url=window.location.href){name=name.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var regexS="[\\?&]"+name+"=([^&#]*)",regex=new RegExp(regexS),results=regex.exec(url);return null==results?"":decodeURIComponent(results[1].replace(/\+/g," "))},this.getIdFromUrl=function(){var matches=window.location.pathname.match(/\/(\d*)$/);return null==matches||2>matches.length?null:parseInt(matches[1])};helpers_1.helpers.isBrowser&&("undefined"==typeof jQuery?log_1.log&&log_1.log.debug("helpers: jQuery is not defined, skipping jQuery libx setup..."):jQuery(document).ready(function(){this.jQueryExt.applyReveal()}),console&&(console.watch=this.watch))}enableLogDisplay(){let log=document.querySelector("#log");null==log&&alert("app.enableLogDisplay: Could not find #log!"),["log","warn","error"].forEach(function(verb){console[verb]=function(method,verb,log){return function(){method(helpers_1.helpers._.join(arguments,""));var msg=document.createElement("code");msg.style="display:block;",msg.classList.add(verb),msg.textContent=verb+": "+helpers_1.helpers._.join(arguments,""),log.appendChild(msg),log.scrollTo(0,log.scrollHeight)}}(console[verb].bind(console),verb,log)})}watch(oObj,sProp){var sPrivateProp="$_"+sProp+"_$";oObj[sPrivateProp]=oObj[sProp],Object.defineProperty(oObj,sProp,{get:function(){return oObj[sPrivateProp]},set:function(value){debugger;oObj[sPrivateProp]=value}})}}exports.BrowserHelpers=BrowserHelpers,exports.browserHelpers=new BrowserHelpers},{"../helpers":29,"../helpers/ObjectHelpers":27,"../modules/Network":33,"../modules/log":37}],15:[function(require,module,exports){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.browser=void 0;const browserHelpers_1=require("./browserHelpers"),require_1=__importDefault(require("./require")),detect_js_1=__importDefault(require("detect.js")),getBrowserInfo=(userAgent=null)=>detect_js_1.default.parse(userAgent||navigator.userAgent),browserInfo=getBrowserInfo();exports.browser={helpers:browserHelpers_1.browserHelpers,require:require_1.default,detect:detect_js_1.default,getBrowserInfo,browserInfo}},{"./browserHelpers":14,"./require":16,"detect.js":83}],16:[function(require,module,exports){"use strict";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};const req=function(){if("undefined"==typeof window)return require;var mod={};return function(load){function fixSlash(url){var isDoubleSlash=url.startsWith("//"),ret=url.replace(/[\/]+/g,"/").replace(":/","://");return isDoubleSlash&&(ret=ret.replace(/^\//,"//")),ret}function resolve(identifier){if(0==identifier.indexOf("http://")||0==identifier.indexOf("https://")||0==identifier.indexOf("//")||-1!=identifier.indexOf("://"))return{id:identifier,uri:fixSlash(identifier)};if(0==identifier.indexOf("/")){var root=requirePath[0].substr(0,requirePath[0].indexOf("/",requirePath[0].indexOf("://")+3));return{id:identifier,uri:fixSlash(root+"/"+identifier)}}return{id:identifier,uri:fixSlash(identifier)};var m=identifier.match(/^(?:([^:\/]+):)?(\.\.?)?\/?((?:.*\/)?)([^\.]+)?(\..*)?$/),p=(pwd[0]?pwd[0].id:"").match(/^(?:([^:\/]+):)?(.*\/|)[^\/]*$/),root=m[2]?requirePath[p[1]?parseInt(p[1]):0]:requirePath[m[1]?parseInt(m[1]):0];var uri=parser.href+(m[5]?m[5]:".js");var id=(m[1]?m[1]+":":"0:")+parser.href.substr(root.length)}var RequireError=function(message){this.name="RequireError",this.message=message};RequireError.prototype=Object.create(Error.prototype),"string"==typeof new Error().fileName&&self.addEventListener("error",function(evt){if(evt.error instanceof Error)if(pwd[0])throw evt.preventDefault(),new evt.error.constructor(evt.error.message,pwd[0].uri,evt.error.lineNumber);else{var m=evt.error.stack.match(/^[^\n@]*@([^\n]+):\d+:\d+/);if(null===m)console.warn("libx.browser.require: unable to read file name from stack");else if(evt.error.fileName!=m[1])throw evt.preventDefault(),new evt.error.constructor(evt.error.message,m[1],evt.error.lineNumber)}},!1);var pwd=[],parser=URL?new URL(location.href):document.createElement("A");try{var cache={};Object.defineProperty(cache,"foo",{value:"bar",configurable:!0}),delete cache.foo}catch(e){console.warn("Falling back to DOM workaround for defineProperty: "+e),cache=document.createElement("DIV")}for(var lock={},requirePath=mod&&void 0!==mod.requirePath?mod.requirePath.slice(0):["./"],requireCompiler=mod&&void 0!==mod.requireCompiler?mod.requireCompiler:null,base=[location.origin,location.href.substr(0,location.href.lastIndexOf("/")+1)],i=0;i<requirePath.length;i++)parser.href=("."==requirePath[i][0]?base[1]:base[0])+requirePath[i],requirePath[i]=parser.href;for(var id in mod&&mod.requirePreloaded)cache["$"+resolve(id).id]=mod.requirePreloaded[id].toString();for(var id in mod&&mod.requireOverrides)cache["$"+resolve(id).id]=mod.requireOverrides[id];if(mod=function(identifier,callback,compiler){return __awaiter(this,void 0,void 0,function*(){return new Promise((resolvePromise,rejectPromise)=>{function onLoad(){try{if(4!=request.readyState)return;if(200!=request.status&&new RequireError("unable to load "+descriptor.id+" ("+request.status+" "+request.statusText+")"),200==request.status&&lock[cacheid]--,lock[cacheid])return(console.warn("module locked: "+descriptor.id),5>=lock[cacheid])?void 0:void(callback&&setTimeout(onLoad,0));if(!cache[cacheid]){var source=compiler?compiler(request.responseText):request.responseText;load(descriptor,cache,pwd,source,"boolean"==typeof callback)}callback||onLoad(),callback&&callback(cache[cacheid]),resolvePromise(cache[cacheid])}catch(err){rejectPromise(err)}}if(identifier instanceof Array){for(var modules=[],modcount=identifier.length,index=0;index<identifier.length;index++)(function(id,i){modules.push(mod(id,callback&&function(mod){modules[i]=mod,0==--modcount&&callback(modules)},compiler))})(identifier[index],index);return modules}compiler=void 0===compiler?requireCompiler:compiler;var descriptor=resolve(identifier),cacheid="$"+descriptor.id;if(cache[cacheid])return"string"==typeof cache[cacheid]&&load(descriptor,cache,pwd,cache[cacheid]),callback&&setTimeout(function(){callback(cache[cacheid])},0),resolvePromise(cache[cacheid]);var request=new XMLHttpRequest;callback&&(request[null===request.onload?"onload":"onreadystatechange"]=onLoad),request.addEventListener("load",onLoad),request.open("GET",descriptor.uri,!0);try{}catch(ex){console.warn("libx.require: Error setting CORS headers. ",ex)}lock[cacheid]=lock[cacheid]++||1,request.send(),callback||onLoad()})})},void 0===mod)try{Object.defineProperty("require",{value:mod}),Object.defineProperty(mod,"resolve",{value:resolve}),Object.defineProperty(mod,"path",{get:function(){return requirePath.slice(0)}})}catch(e){mod.resolve=resolve,mod.path=requirePath.slice(0)}}(function(module){var global=self,exports={};Object.defineProperty(module,"exports",{get:function(){return exports},set:function(e){exports=e}}),arguments[2].unshift(module),Object.defineProperty(arguments[1],"$"+module.id,{get:function(){return exports}});var content=arguments[3],isNotModule=arguments[4];if(!0===isNotModule)eval(content);else{var extra="var __moduleUri = \""+module.uri+"\";\n";module.uri.endsWith(".js")||(content="module.exports = "+content);var script="function(){\n"+extra+content+"\n}";let wrapper="("+script+")();\n//# sourceURL="+module.uri;eval(wrapper)}if("string"!=typeof module.id)for(id in module)arguments[1]["$"+mod.resolve(id).id]=module[id].toString();arguments[2].shift()}),mod}();null==window.libx&&(window.libx={}),window.libx.require=req,module.exports=req},{}],17:[function(require,module,exports){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.libx=void 0;const essentials_1=require("./essentials"),browser_1=require("../browser"),ObjectExtensions_1=require("../extensions/ObjectExtensions"),DeepProxy_1=__importDefault(require("../modules/DeepProxy")),ProxyCache_1=require("../modules/ProxyCache");exports.libx=ObjectExtensions_1.objectExtensions.extend(essentials_1.libx,{browser:browser_1.browser,ProxyCache:ProxyCache_1.ProxyCache,DeepProxy:DeepProxy_1.default}),window.libx=null==window.libx?exports.libx:Object.assign(Object.assign({},window.libx),exports.libx)},{"../browser":15,"../extensions/ObjectExtensions":22,"../modules/DeepProxy":32,"../modules/ProxyCache":34,"./essentials":18}],18:[function(require,module,exports){(function(global){(function(){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.libx=void 0;const helpers_1=require("../helpers"),Callbacks_1=require("../modules/Callbacks"),log_1=require("../modules/log"),buffer_1=require("buffer"),extensions_1=require("../extensions/"),dependencyInjector_1=require("../modules/dependencyInjector"),ObjectHelpers_1=require("../helpers/ObjectHelpers"),ObjectExtensions_1=require("../extensions/ObjectExtensions"),BitwiseEnumHelper_1=require("../helpers/BitwiseEnumHelper"),ObjectId_1=require("../helpers/ObjectId"),Time_1=require("../modules/Time");global._libx_avoidExtensions||extensions_1.extensions.applyAllExtensions();const libxBase={$:{},Callbacks:Callbacks_1.Callbacks,Buffer:buffer_1.Buffer,extensions:extensions_1.extensions,log:log_1.log,di:dependencyInjector_1.di,enum:BitwiseEnumHelper_1.BitwiseEnumHelper,objectId:ObjectId_1.ObjectId,Time:Time_1.Time},exLibx=ObjectExtensions_1.objectExtensions.extend(libxBase,ObjectHelpers_1.objectHelpers),exLibx2=ObjectExtensions_1.objectExtensions.extend(exLibx,helpers_1.helpers);exports.libx=exLibx2}).call(this)}).call(this,"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global)},{"../extensions/":24,"../extensions/ObjectExtensions":22,"../helpers":29,"../helpers/BitwiseEnumHelper":25,"../helpers/ObjectHelpers":27,"../helpers/ObjectId":28,"../modules/Callbacks":31,"../modules/Time":35,"../modules/dependencyInjector":36,"../modules/log":37,buffer:70}],19:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ArrayExtensions=void 0;class ArrayExtensions{}exports.ArrayExtensions=ArrayExtensions,ArrayExtensions.diff=function(a){return this.filter(function(i){return 0>a.indexOf(i)})},ArrayExtensions.myFilter=function(fn){var ret=[];for(var item of this)fn(item)&&ret.push(item);return ret},ArrayExtensions.contains=function(item){return-1!=this.indexOf(item)},ArrayExtensions.myFilterSingle=function(fn){var ret=null;for(var item of this)if(fn(item)){ret=item;break}return ret},ArrayExtensions.remove=function(item){var index=this.indexOf(item);return-1<index&&this.splice(index,1),this},ArrayExtensions.removeAt=function(index,replace=void 0){return-1<index&&(null===this||void 0===this?void 0:this.length)>index&&(replace?this.splice(index,1,replace):this.splice(index,1)),this},ArrayExtensions.move=function(from,to){return this.splice(to,0,this.splice(from,1)[0]),this},ArrayExtensions.last=function(){return null==this||0==this.length?null:this[this.length-1]}},{}],20:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DateExtensions=void 0;class DateExtensions{}exports.DateExtensions=DateExtensions,DateExtensions.isValid=function(){return this.getTime()===this.getTime()&&this.getTime()!=new Date(null).getTime()},DateExtensions.dateFormat=function(){var token=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,timezone=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,timezoneClip=/[^-+\dA-Z]/g;return function(date,mask,utc){if(1!=arguments.length||"[object String]"!=Object.prototype.toString.call(date)||/\d/.test(date)||(mask=date,date=void 0),date=date?new Date(date):new Date,isNaN(date))throw SyntaxError("invalid date");mask=(DateExtensions.masks[mask]||mask||DateExtensions.masks["default"])+"","UTC:"==mask.slice(0,4)&&(mask=mask.slice(4),utc=!0);var _=utc?"getUTC":"get",d=date[_+"Date"](),D=date[_+"Day"](),m=date[_+"Month"](),y=date[_+"FullYear"](),H=date[_+"Hours"](),M=date[_+"Minutes"](),s=date[_+"Seconds"](),L=date[_+"Milliseconds"](),o=utc?0:date.getTimezoneOffset(),flags={d:d,dd:DateExtensions.pad(d),ddd:DateExtensions.i18n.dayNames[D],dddd:DateExtensions.i18n.dayNames[D+7],m:m+1,mm:DateExtensions.pad(m+1),mmm:DateExtensions.i18n.monthNames[m],mmmm:DateExtensions.i18n.monthNames[m+12],yy:(y+"").slice(2),yyyy:y,h:H%12||12,hh:DateExtensions.pad(H%12||12),H:H,HH:DateExtensions.pad(H),M:M,MM:DateExtensions.pad(M),s:s,ss:DateExtensions.pad(s),l:DateExtensions.pad(L,3),L:DateExtensions.pad(99<L?Math.round(L/10):L),t:12>H?"a":"p",tt:12>H?"am":"pm",T:"T",TTT:12>H?"A":"P",TT:12>H?"AM":"PM",Z:"Z",ZZ:utc?"UTC":((date+"").match(timezone)||[""]).pop().replace(timezoneClip,""),o:(0<o?"-":"+")+DateExtensions.pad(100*Math.floor(Math.abs(o)/60)+Math.abs(o)%60,4),S:["th","st","nd","rd"][3<d%10?0:(10!=d%100-d%10)*d%10]};return mask.replace(token,function($0){return $0 in flags?flags[$0]:$0.slice(1,$0.length-1)})}}(),DateExtensions.pad=function(val,len){for(val+="",len=len||2;val.length<len;)val="0"+val;return val},DateExtensions.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"},DateExtensions.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]},DateExtensions.formatx=function(mask,utc=null){return null==mask?this:this.dateFormat(this,mask,utc)},DateExtensions.format=function(strFormat,utc=null){return isNaN(this.getTime())?null:this.dateFormat(this,strFormat,utc)},DateExtensions.fromJson=function(aJsonDate){if(aJsonDate==null||""==aJsonDate)return null;var stripped=aJsonDate.replace("/Date(","").replace(")/","");return new Date(parseInt(stripped,10))},DateExtensions.toJson=function(){return"/Date("+this.getTime()+")/"},DateExtensions.addHours=function(h){return this.addMilliseconds(1e3*(60*(60*h)))},DateExtensions.addMinutes=function(m){return this.addMilliseconds(1e3*(60*m))},DateExtensions.addDays=function(days){var date=new Date(this.valueOf());return date.setDate(date.getDate()+days),date},DateExtensions.addMilliseconds=function(ms){let ret=new Date(this);return ret.setTime(ret.getTime()+ms),ret},DateExtensions.toUTC=function(){var date=new Date(this),tz=/GMT([\-\+]?\d{4})/.exec(date.toString())[1],hour=parseInt(tz)/100,min=parseInt(tz)%100;return date.setHours(date.getHours()-hour),date.setMinutes(date.getMinutes()-min),date},DateExtensions.toISOStringUTC=function(isUTC=!1){let date=this;return date.formatx("yyyy-mm-ddTHH:MM:ss.lZ",!isUTC)},DateExtensions.toTimezone=function(timezone){const date=this;return new Date(("string"==typeof date?new Date(date):date).toLocaleString("en-US",{timeZone:timezone}))}},{}],21:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.numberExtensions=exports.NumberExtensions=void 0;class NumberExtensions{}exports.NumberExtensions=NumberExtensions,NumberExtensions.toFixedNum=function(digits=2,base=10){var pow=Math.pow(base||10,digits);return Math.round(this*pow)/pow},exports.numberExtensions=new NumberExtensions},{}],22:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.objectExtensions=exports.ObjectExtensions=void 0;const ObjectHelpers_1=require("../helpers/ObjectHelpers");class ObjectExtensions{extend(input,withObj){for(let key of ObjectExtensions.__getCustomProperties.call(withObj))input[key]=withObj[key];for(let key of ObjectExtensions.__getCustomProperties.call(withObj.__proto__))input[key]=withObj.__proto__[key];return input}}exports.ObjectExtensions=ObjectExtensions,ObjectExtensions.__getCustomProperties=function(){return ObjectHelpers_1.objectHelpers.getCustomProperties(this)},ObjectExtensions.__extend=function(withObj){return exports.objectExtensions.extend(this,withObj)},exports.objectExtensions=new ObjectExtensions},{"../helpers/ObjectHelpers":27}],23:[function(require,module,exports){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.StringExtensions=void 0;const capitalize_1=__importDefault(require("lodash/capitalize")),ObjectHelpers_1=require("../helpers/ObjectHelpers");class StringExtensions{}exports.StringExtensions=StringExtensions,StringExtensions.capitalize=function(){return this.replace(/(\w+)/g,capitalize_1.default).trim()},StringExtensions.ellipsis=function(maxLength){let ret=this;return ret.length>maxLength&&(ret=ret.substr(0,maxLength),ret+="..."),ret},StringExtensions.kebabCase=function(){return this.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase()},StringExtensions.camelize=function(){return this.replace(/(?:^\w|[A-Z]|\b\w)/g,function(letter,index){return 0==index?letter.toLowerCase():letter.toUpperCase()}).replace(/\s+|\-/g,"")},StringExtensions.padNumber=function(width,z="0"){var args=arguments,n=this+"";return n.length>=width?n:Array(width-n.length+1).join(z)+n},StringExtensions.contains=function(str){return 0<=this.indexOf(str)},StringExtensions.hashCode=function(){var hash=0;if(0==this.length)return hash.toString();for(var i=0,char;i<this.length;i++)char=this.charCodeAt(i),hash=(hash<<5)-hash+char,hash&=hash;return hash.toString()},StringExtensions.endsWith=function(suffix){return-1!==this.indexOf(suffix,this.length-suffix.length)},StringExtensions.removeLastPart=function(delimiter="/"){let parts=this.split(delimiter);return parts.pop(),parts.join(delimiter)},StringExtensions.startsWith=function(prefix){return 0==this.indexOf(prefix)},StringExtensions.isEmpty=function(input=null){var v=input||this;return!v||0==v.trim().length},StringExtensions.format=function(args){var args=[],ret=this,obj=arguments[0],_a,_b;if(null!==obj&&"object"==typeof obj){var isRemoveMissing=!(null===(_a=arguments[1])||void 0===_a)&&_a;const matches=null===ret||void 0===ret?void 0:ret.matchAll(/\{\{(.*?)\}\}/g),keys=null===(_b=[...matches])||void 0===_b?void 0:_b.map(m=>m[1]);for(const key of keys){let val=ObjectHelpers_1.objectHelpers.getDeep(obj,key,".");if(null==val){if(!isRemoveMissing)continue;val=""}ret=ret.replace("{{"+key+"}}",val)}}else{for(var _i=0;_i<arguments.length-0;_i++)args[_i]=arguments[_i+0];0<args.length&&Array.isArray(args[0])&&(args=args[0]),ret=this.replace(/{{(\d+)}}/g,function(match,number){return"undefined"==typeof args[number]?match:args[number]})}return ret},StringExtensions.replaceAt=function(index,replacement){return this.substr(0,index)+replacement+this.substr(index+replacement.length)},StringExtensions.getAbbreviation=function(){var _a,_b;return null==this||""===this?null:null!==(_b=null===(_a=this.match(/\b([A-Z])/g))||void 0===_a?void 0:_a.join(""))&&void 0!==_b?_b:this[0].toUpperCase()},StringExtensions.isDateString=function(checkShortFormat=!0){const isISO8601=/(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))/.test(this);if(isISO8601)return!0;if(checkShortFormat){const isShortFormat=/^(0[1-9]|1[0-2])\/(0[1-9]|1\d|2\d|3[01])\/(\d{2,4})$/.test(this);if(isShortFormat)return!0}return!1}},{"../helpers/ObjectHelpers":27,"lodash/capitalize":214}],24:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.extensions=exports.Extensions=void 0;const ArrayExtensions_1=require("./ArrayExtensions"),DateExtensions_1=require("./DateExtensions"),NumberExtensions_1=require("./NumberExtensions"),ObjectExtensions_1=require("./ObjectExtensions"),StringExtensions_1=require("./StringExtensions");class Extensions{constructor(){this.object=ObjectExtensions_1.ObjectExtensions,this.string=StringExtensions_1.StringExtensions,this.date=DateExtensions_1.DateExtensions,this.array=ArrayExtensions_1.ArrayExtensions,this.number=NumberExtensions_1.NumberExtensions}applyObjectExtensions(){ObjectExtensions_1.ObjectExtensions.__extend.call(Object.prototype,ObjectExtensions_1.ObjectExtensions)}applyStringExtensions(){ObjectExtensions_1.ObjectExtensions.__extend.call(String.prototype,StringExtensions_1.StringExtensions)}applyDateExtensions(){ObjectExtensions_1.ObjectExtensions.__extend.call(Date.prototype,DateExtensions_1.DateExtensions)}applyArrayExtensions(){ObjectExtensions_1.ObjectExtensions.__extend.call(Array.prototype,ArrayExtensions_1.ArrayExtensions)}applyNumberExtensions(){ObjectExtensions_1.ObjectExtensions.__extend.call(Number.prototype,NumberExtensions_1.NumberExtensions)}applyAllExtensions(){this.applyStringExtensions(),this.applyDateExtensions(),this.applyArrayExtensions(),this.applyNumberExtensions()}}exports.Extensions=Extensions,exports.extensions=new Extensions},{"./ArrayExtensions":19,"./DateExtensions":20,"./NumberExtensions":21,"./ObjectExtensions":22,"./StringExtensions":23}],25:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BitwiseEnumHelper=void 0;exports.BitwiseEnumHelper=class{static combine(...values){let ret=null;for(let v of values)ret|=v;return ret}static has(e,value){return(e&value)===value}static doesNotHave(e,value){return(e&value)!==value}static getValues(e,val){const ret=[];for(let k of Object.keys(e))0!=(e[k]&val)&&ret.push(e[k]);return 0<ret.length?ret:null}static getValueNames(e,val){const ret=[];for(let k of Object.keys(e))0!=(e[k]&val)&&ret.push(k);return 0<ret.length?ret:null}}},{}],26:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.NotImplemented=exports.HttpErrorDuplicate=exports.HttpErrorNotFound=exports.HttpErrorBadRequest=exports.HttpError=exports.ErrorDuplicate=exports.ErrorNotFound=exports.Exception=void 0;class Exception extends Error{constructor(message,metadata,stack){let json="";try{json=JSON.stringify(metadata)}catch(_a){}let msg=message;""!=json&&(msg+="\nMetadata: "+json),super(msg),this.name="Exception",this.message=message,this.metadataObj=metadata,this.metadata=json,this.stack=stack}metadataPretty(){return JSON.stringify(this.metadataObj,null,2)}static fromError(err){return new Exception(err.message,err,err.stack)}static assert(condition,message,metadata,exceptionType=Exception){let conditions=condition;Array.isArray(condition)||(conditions=[condition]);for(let cond of conditions){if(null===cond||"boolean"==typeof cond&&!0!==cond)throw new exceptionType(message,metadata)}}toString(){return this.message+="\n\tMetadata: "+this.metadata}}exports.Exception=Exception;class ErrorNotFound extends Exception{constructor(message,metadata,stack){super("Requested item not found",metadata,stack)}}exports.ErrorNotFound=ErrorNotFound;class ErrorDuplicate extends Exception{constructor(message,metadata,stack){super(message||"Requested item conflicts with exists",{metadata},stack)}}exports.ErrorDuplicate=ErrorDuplicate;class HttpError extends Exception{constructor(statusCode,message,metadata,stack){super(message,metadata,stack),this.statusCode=statusCode}static tryGetErrorCode(error,defaultCode){return null==error?defaultCode:error instanceof HttpError?error.statusCode:error instanceof ErrorNotFound?new HttpErrorNotFound(error.message,error.metadata,error.stack).statusCode:error instanceof ErrorDuplicate?new HttpErrorDuplicate(error.message,error.metadata,error.stack).statusCode:defaultCode}}exports.HttpError=HttpError;exports.HttpErrorBadRequest=class extends HttpError{constructor(message,metadata,stack){super(400,message,metadata,stack)}};class HttpErrorNotFound extends HttpError{constructor(message,metadata,stack){super(404,message,metadata,stack)}}exports.HttpErrorNotFound=HttpErrorNotFound;class HttpErrorDuplicate extends HttpError{constructor(message,metadata,stack){super(409,message,metadata,stack)}}exports.HttpErrorDuplicate=HttpErrorDuplicate;exports.NotImplemented=class extends Exception{constructor(){super("Not Implemented!")}},exports.default=Exception},{}],27:[function(require,module,exports){(function(global){(function(){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.objectHelpers=exports.ObjectHelpers=void 0;const each_1=__importDefault(require("lodash/each")),has_1=__importDefault(require("lodash/has")),isObject_1=__importDefault(require("lodash/isObject")),isPlainObject_1=__importDefault(require("lodash/isPlainObject")),transform_1=__importDefault(require("lodash/transform")),isEqual_1=__importDefault(require("lodash/isEqual")),isString_1=__importDefault(require("lodash/isString")),StringExtensions_1=require("../extensions/StringExtensions");class Dummy{constructor(){}}Dummy.___func=()=>{};class ObjectHelpers{constructor(){this.globalProperties=[...Object.getOwnPropertyNames(Dummy),...Object.getOwnPropertyNames({}),...Object.getOwnPropertyNames(Dummy.prototype),...Object.getOwnPropertyNames(Dummy.__proto__)],this.ARGUMENT_NAMES=/([^\s,]+)/g,this.STRIP_COMMENTS=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,this.class2type={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"}}diff(object,base,skipEmpty=!1){const changes=(object,base,skipEmpty=!1)=>{let ret=(0,transform_1.default)(object,(result,value,key)=>{if(!(0,isEqual_1.default)(value,base[key])){if(skipEmpty&&this.isEmpty(value))return void(result=null);result[key]=(0,isObject_1.default)(value)&&(0,isObject_1.default)(base[key])?changes(value,base[key],skipEmpty):value,skipEmpty&&this.isEmpty(result[key])&&delete result[key]}});return this.isDate(object)&&(ret=object),skipEmpty&&this.isEmpty(ret)?null:ret};return changes(object,base,skipEmpty)}isObject(object){return null!=object&&object.isProxy?"object"==typeof object&&object.constructor==Object:(0,isPlainObject_1.default)(object)}isString(object){return(0,isString_1.default)(object)}isFunction(obj){var isFunc="function"===this.type(obj);if(!isFunc)return!1;var fnStr=obj.toString().replace(this.STRIP_COMMENTS,"");return!(null!=fnStr.match(/\s*class\s+/))}isArray(obj){return Array.isArray?Array.isArray(obj):"array"===this.type(obj)}isWindow(obj){return null!=obj&&(obj==obj.window||"undefined"!=typeof global&&obj==global)}isNumeric(obj){return!isNaN(parseFloat(obj))&&isFinite(obj)}type(obj){return null==obj?obj+"":obj.isProxy?"object":this.class2type[toString.call(obj)]||"object"}isPlainObject(obj){var hasOwn=Object.prototype.hasOwnProperty;if(!obj||"object"!==this.type(obj)||obj.nodeType)return!1;try{if(obj.constructor&&!hasOwn.call(obj,"constructor")&&!hasOwn.call(obj.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}for(var key in obj);return key===void 0||hasOwn.call(obj,key)}isDefined(obj,prop){return"undefined"!=typeof obj&&(!(null!=prop)||(0,has_1.default)(obj,prop))}clone(source,target={}){return this.merge(!0,target,source)}merge(...args){var target=arguments[0],i=1,length=arguments.length,deep=!0,toString=Object.prototype.toString,hasOwn=Object.prototype.hasOwnProperty,push=Array.prototype.push,slice=Array.prototype.slice,trim=String.prototype.trim,indexOf=Array.prototype.indexOf,options,name,src,copy,copyIsArray,clone;for("boolean"==typeof target&&(deep=target,target=arguments[1]||{},i=2),"object"==typeof target||exports.objectHelpers.isFunction(target)||(target={}),length===i&&(target=this,--i),i;i<length;i++)if(null!=(options=arguments[i])){const list=[...Object.getOwnPropertyNames(arguments[i]),...Object.getOwnPropertySymbols(arguments[i])];for(name of list)(src=target[name],copy=options[name],target!==copy)&&(deep&&copy&&(exports.objectHelpers.isPlainObject(copy)||(copyIsArray=exports.objectHelpers.isArray(copy)))?(copyIsArray?(copyIsArray=!1,clone=src&&exports.objectHelpers.isArray(src)?src:[]):clone=src&&exports.objectHelpers.isPlainObject(src)?src:{},target[name]=exports.objectHelpers.merge(deep,clone,copy)):void 0!==copy&&(target[name]=copy))}return target}shallowCopy(obj){return this.merge(!1,{},obj)}getDeep(obj,path,delimiter="/"){let parts=path.split(delimiter),ret=obj;do{if(0==parts.length)return ret;let curPart=parts.shift();if(""==curPart)continue;ret=ret[curPart]}while(null!=ret);return ret}isNull(obj){return obj==null||null==obj}isEmptyObject(obj){const props=this.getCustomProperties(obj);for(var name in props)return!1;return!0}isEmptyString(obj){return null==obj||""==obj}isEmpty(obj){if(null==obj)return!0;for(var prop in obj)if(obj.hasOwnProperty(prop))return!1;return JSON.stringify(obj)===JSON.stringify({})}isDate(obj){return"function"==typeof(null===obj||void 0===obj?void 0:obj.getMonth)}makeEmpty(obj){return(0,each_1.default)(Object.keys(obj),prop=>{if(obj.hasOwnProperty(prop))if(Array.isArray(obj[prop]))obj[prop]=[];else if("object"==typeof obj[prop]){if(null==obj[prop])return void(obj[prop]=null);this.makeEmpty(obj[prop])}else obj[prop]=""}),obj}getCustomProperties(obj){var currentPropList=[...Object.getOwnPropertyNames(obj),...Object.getOwnPropertySymbols(obj)];const findDuplicate=propName=>-1===this.globalProperties.indexOf(propName);return currentPropList.filter(findDuplicate)}spawnHierarchy(path,root={},putValue=null,delimiter="."){let p=path.split(delimiter);null==root&&(root={});let cur=root,next=null,prev=null;for(let i=0;i<p.length;i++)next=p[i],null==cur&&(cur=prev[p[i-1]]={}),"undefined"==typeof cur[next]&&(cur[next]={}),prev=cur,cur=cur[next];return prev[next]=putValue,root}objectToKeyValue(obj){const props=this.getCustomProperties(obj);let ret={};for(let prop of props){const sub=obj[prop];if(this.isObject(sub)){const subKV=this.objectToKeyValue(sub);for(let subK in subKV)ret[prop+"/"+subK]=subKV[subK]}else ret[prop]=sub}return ret}keyValueToObject(keyValueMap,shouldParse=!1){let ret={};for(let path in keyValueMap){let value=keyValueMap[path];if(shouldParse&&this.isString(value))try{value=JSON.parse(value)}catch(_a){}exports.objectHelpers.spawnHierarchy(path,ret,value,"/")}return ret}flatterObjectToDotNotation(objectNotation,prefix){let set={};for(var key of Object.keys(objectNotation)){let pre=prefix===void 0?"":prefix+".",obj=objectNotation[key];obj&&"object"==typeof obj&&!1==Array.isArray(obj)&&null==obj._bsontype&&"function"!=typeof obj.getMonth?set=Object.assign(Object.assign({},set),this.flatterObjectToDotNotation(objectNotation[key],pre+key)):set[pre+key]=objectNotation[key]}return set}getObjectHash(obj){return null==obj?"":StringExtensions_1.StringExtensions.hashCode.call(JSON.stringify(obj))}}exports.ObjectHelpers=ObjectHelpers,exports.objectHelpers=new ObjectHelpers}).call(this)}).call(this,"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global)},{"../extensions/StringExtensions":23,"lodash/each":215,"lodash/has":219,"lodash/isEqual":226,"lodash/isObject":229,"lodash/isPlainObject":231,"lodash/isString":232,"lodash/transform":252}],28:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ObjectId=void 0;exports.ObjectId=class{static new(timestamp=new Date().getTime(),randomize=!0){var timestampHex=(0|timestamp/1e3).toString(16);return timestampHex+"xxxxxxxxxxxxxxxx".replace(/[x]/g,()=>randomize?(0|16*Math.random()).toString(16):"0").toLowerCase()}static toDate(id){return new Date(1e3*parseInt(id.substring(0,8),16))}}},{}],29:[function(require,module,exports){(function(global,Buffer){(function(){"use strict";var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){k2===void 0&&(k2=k),Object.defineProperty(o,k2,{enumerable:!0,get:function(){return m[k]}})}:function(o,m,k,k2){k2===void 0&&(k2=k),o[k2]=m[k]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:!0,value:v})}:function(o,v){o["default"]=v}),__importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)"default"!=k&&Object.prototype.hasOwnProperty.call(mod,k)&&__createBinding(result,mod,k);return __setModuleDefault(result,mod),result},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.SemverPart=exports.helpers=exports.Helpers=exports.Deferred=void 0;const concurrency=__importStar(require("concurrency.libx.js")),concurrency_libx_js_1=require("concurrency.libx.js");Object.defineProperty(exports,"Deferred",{enumerable:!0,get:function(){return concurrency_libx_js_1.Deferred}});const mixin_1=__importDefault(require("lodash/mixin")),forEach_1=__importDefault(require("lodash/forEach")),transform_1=__importDefault(require("lodash/transform")),reduce_1=__importDefault(require("lodash/reduce")),map_1=__importDefault(require("lodash/map")),mapKeys_1=__importDefault(require("lodash/mapKeys")),mapValues_1=__importDefault(require("lodash/mapValues")),each_1=__importDefault(require("lodash/each")),toPairs_1=__importDefault(require("lodash/toPairs")),repeat_1=__importDefault(require("lodash/repeat")),join_1=__importDefault(require("lodash/join")),has_1=__importDefault(require("lodash/has")),index_1=require("../extensions/index"),log_1=require("../modules/log"),ObjectHelpers_1=require("./ObjectHelpers"),StringExtensions_1=require("../extensions/StringExtensions"),DateExtensions_1=require("../extensions/DateExtensions"),__={forEach:forEach_1.default,mixin:mixin_1.default,transform:transform_1.default,reduce:reduce_1.default,map:map_1.default,mapKeys:mapKeys_1.default,mapValues:mapValues_1.default,each:each_1.default,toPairs:toPairs_1.default,repeat:repeat_1.default,join:join_1.default,has:has_1.default};class Helpers{constructor(){this._=__,this.ObjectHelpers=ObjectHelpers_1.objectHelpers,this.extensions=index_1.extensions,this.keys=obj=>null==obj?[]:Object.keys(obj),this.values=obj=>null==obj?[]:Object.values(obj),this.enumToArray=_enum=>Object.keys(_enum).map(key=>_enum[key]).filter(value=>"string"==typeof value),this.initConcurrency(),this.initCustomLodashMixins(),this.isBrowser="undefined"!=typeof window}bufferToArrayBuffer(buf){for(var ab=new ArrayBuffer(buf.length),view=new Uint8Array(ab),i=0;i<buf.length;++i)view[i]=buf[i];return ab}arrayBufferToBuffer(ab){for(var buf=Buffer.alloc(ab.byteLength),view=new Uint8Array(ab),i=0;i<buf.length;++i)buf[i]=view[i];return buf}newPromise(){var promise=new concurrency_libx_js_1.Deferred;return promise}parseJsonFileStripComments(content){const matchHashComment=new RegExp(/(?:^|\s)\/\/(.+?)$/,"gm"),json=content.replace(matchHashComment,"").trim(),ret=JSON.parse(json);return ret}parseConfig(contents,env){try{var obj=this.parseJsonFileStripComments(contents);obj.private=ObjectHelpers_1.objectHelpers.merge(obj.private,obj.envs[env].private),delete obj.envs[env].private,obj=ObjectHelpers_1.objectHelpers.merge(obj,obj.envs[env]),delete obj.envs;var obj2=JSON.stringify(obj);return obj2=StringExtensions_1.StringExtensions.format.call(obj2,ObjectHelpers_1.objectHelpers.merge(obj,obj.private)),obj=JSON.parse(obj2),obj}catch(ex){log_1.log.error("parseConfig error: ",ex)}}formatify(objectWithFormat,...args){var str=JSON.stringify(objectWithFormat);const trailingArg=1<(null===args||void 0===args?void 0:args.length)?args[args.length-1]:null;return str=StringExtensions_1.StringExtensions.format.call(str,ObjectHelpers_1.objectHelpers.merge(objectWithFormat,...args),trailingArg),JSON.parse(str)}hexc(colorval){try{var parts=colorval.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);delete parts[0];for(var i=1;3>=i;++i)parts[i]=parseInt(parts[i]).toString(16),1==parts[i].length&&(parts[i]="0"+parts[i]);return"#"+parts.join("")}catch(e){}}parse(str){return JSON.parse(str)}jsonify(obj,isCompact=!1){return isCompact?isCompact?JSON.stringify(obj):JSON.stringify(obj,function(k,v){return v instanceof Array?JSON.stringify(v):v},4):JSON.stringify(obj,null,2)}newGuid(useDash=!1){function s4(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}var dash=useDash?"-":"";return s4()+s4()+dash+s4()+dash+s4()+dash+s4()+dash+s4()+s4()+s4()}stringifyOnce(obj,replacer=null,indent=null){var printedObjects=[],printedObjectKeys=[];return JSON.stringify(obj,function(key,value){if(2e3<printedObjects.length)return"object too long";var printedObjIndex=!1;if(printedObjects.forEach(function(obj,index){obj===value&&(printedObjIndex=index)}),""==key)return printedObjects.push(obj),printedObjectKeys.push("root"),value;if("false"!=printedObjIndex+""&&"object"==typeof value)return"root"==printedObjectKeys[printedObjIndex]?"(pointer to root)":"(see "+(value&&value.constructor?value.constructor.name.toLowerCase():typeof value)+" with key "+printedObjectKeys[printedObjIndex]+")";return printedObjects.push(value),printedObjectKeys.push(key||"(empty key)"),replacer?replacer(key,value):value},indent)}getMatch(string,regex,index){index||(index=1);var matches=[],rxp=RegExp(regex,"g");for(let match;(match=rxp.exec(string))&&(matches.push(match[index]),0!=rxp.lastIndex););return matches}getMatches(string,regex,grab=null){var matches=[],rxp=RegExp(regex,"g");for(let match,res;(match=rxp.exec(string))&&(res=[],matches.push(match),0!=rxp.lastIndex););return null==grab?matches:"number"==typeof grab?this._.map(matches,item=>item[grab]):"string"==typeof grab?this._.map(matches,item=>item.groups[grab]):"boolean"==typeof grab?this._.map(matches,item=>item.groups):matches}base64ToUint8Array(base64String){for(var padding=this._.repeat("=",(4-base64String.length%4)%4),base64=(base64String+padding).replace(/\-/g,"+").replace(/_/g,"/"),rawData=Buffer.from(base64,"base64").toString("binary"),outputArray=new Uint8Array(rawData.length),i=0;i<rawData.length;++i)outputArray[i]=rawData.charCodeAt(i);return outputArray}getParamNames(func){var fnStr=func.toString().replace(ObjectHelpers_1.objectHelpers.STRIP_COMMENTS,"");if(null!=fnStr.match(/^\s*class\s+/))return null;var m=fnStr.match(/^\(?(?:async\s?)?(?:function\s?)?\(?([\w\d\,\s\$\_]+)\)?/);if(null==m||1>m.length)return null;var params=m[1].replace(/\s/g,""),result=params.split(",");return null===result&&(result=[]),result}randomNumber(max,min){return null==max&&(max=100),null==min&&(min=0),Math.floor(Math.random()*(max-min+1))+min}shuffle(a){var ret=ObjectHelpers_1.objectHelpers.clone(a,[]),j,x,i;for(i=ret.length;i;i--)j=Math.floor(Math.random()*i),x=ret[i-1],ret[i-1]=ret[j],ret[j]=x;return ret}fileStreamToBuffer(readStream){return __awaiter(this,void 0,void 0,function*(){let p=this.newPromise(),chunks=[];return readStream.readable||p.reject("fileStreamToBuffer: ex: stream no readable!"),readStream.on("error",err=>{p.reject(err)}),readStream.on("data",chunk=>{chunks.push(chunk)}),readStream.on("close",()=>{p.resolve(Buffer.concat(chunks))}),p})}getObjectByPath(path,obj=null){null==obj&&(obj=window||global),path=path.replace(/\[(\w+)\]/g,".$1"),path=path.replace(/^\./,"");for(var a=path.split("."),i=0,n=a.length,k;i<n;++i)if(k=a[i],k in obj)obj=obj[k];else return;return obj}querialize(obj,avoidPrefix){if(null==obj||1>obj.length)return null;var str=[];for(var p in obj)obj.hasOwnProperty(p)&&str.push(encodeURIComponent(p)+"="+encodeURIComponent(obj[p]));return(avoidPrefix?"":"?")+str.join("&")}toUnicode(input){for(var unicodeString="",i=0,theUnicode;i<input.length;i++){for(theUnicode=input.charCodeAt(i).toString(16).toUpperCase();4>theUnicode.length;)theUnicode="0"+theUnicode;theUnicode="\\u"+theUnicode,unicodeString+=theUnicode}return unicodeString}parseUrl(url){var _a,_b,_c,_d;const match=null===(_a=this.getMatches(url,/((?<protocol>\w+):\/\/(?<domainName>[\w\d]+)\.(?<domainExt>[\w\d]+))?\/(?<path>[^\?]+)\/?([\?\&](?<queryParams>.*))?/g,!0))||void 0===_a?void 0:_a[0];if(null==match)return null;(null===(_b=match.path)||void 0===_b?void 0:_b.endsWith("/"))&&(match.path=match.path.slice(0,-1));const params=null===(_c=match.queryParams)||void 0===_c?void 0:_c.split("&").reduce((agg,x)=>{const parts=x.split("=");return agg[parts[0]]=parts[1]||!0,agg},{});return Object.assign(Object.assign({},match),{segments:null===(_d=match.path)||void 0===_d?void 0:_d.split("/"),params})}stringToColour(str){for(var hash=0,i=0;i<str.length;i++)hash=str.charCodeAt(i)+((hash<<5)-hash);for(var colour="#",i=0,value;3>i;i++)value=255&hash>>8*i,colour+=("00"+value.toString(16)).substr(-2);return colour}for(iteration,max,min=0,step=1){const ret=[];for(let i=min;i<max;i+=step)ret.push(iteration(i));return ret}each(arr,iteration){let count=0;for(let item of arr)iteration(item,count),count++;return arr}csvToJson(csvStr,cellDelimiter=",",lineDelimiter="\n"){const lines=csvStr.split(lineDelimiter),result=[];for(var headers=lines[0].split(cellDelimiter).map(x=>x.replace(/^\s*\"?\s*(.*?)\s*\"?$/g,"$1")),i=1;i<lines.length;i++){for(var obj={},currentline=lines[i].match(new RegExp(`(".*?"|[^"${cellDelimiter}]+)(?=\\s*${cellDelimiter}|\s*$)`,"g")),j=0;j<headers.length;j++)obj[headers[j]]=currentline[j].replace(/^\s*\"?\s*(.*?)\s*\"?$/g,"$1");result.push(obj)}return result}median(values){const copy=[...values];if(0===copy.length)throw new Error("No inputs");copy.sort(function(a,b){return a-b});var half=Math.floor(copy.length/2);return copy.length%2?copy[half]:(copy[half-1]+copy[half])/2}average(values){const sum=values.reduce((a,b)=>a+b,0),avg=sum/values.length||0;return avg}std(values){const mean=values.reduce((s,n)=>s+n)/values.length,variance=values.reduce((s,n)=>s+Math.pow(n-mean,2),0)/(values.length-1);return Math.sqrt(variance)}humanizeTime(ms){const seconds=Math.floor(ms/1e3%60),minutes=Math.floor(ms/1e3/60%60),hours=parseInt(ms/3600000),humanized=[DateExtensions_1.DateExtensions.pad(hours.toString(),2),DateExtensions_1.DateExtensions.pad(minutes.toString(),2),DateExtensions_1.DateExtensions.pad(seconds.toString(),2)].join(":");return humanized}bumpVersion(version,bumpType=SemverPart.Patch,replace){if("replace"==bumpType)return replace.toString();const parts=this.parseSemVer(version);parts[bumpType]=null!==replace&&void 0!==replace?replace:parseInt(parts[bumpType])+1;let found=!1;return(0,forEach_1.default)(Object.values(SemverPart),key=>key==bumpType||found?key==bumpType?void(found=!0):void(parts[key]=0):void 0),Object.values(parts).join(".")}parseSemVer(version){var _a;return null===(_a=this.getMatches(version,/^(?<major>\d+)\.(?<minor>\d+)\.(?<patch>\d+)$/,!0))||void 0===_a?void 0:_a[0]}dictToArray(dict){var pairs=exports.helpers._.toPairs(dict),ret=[];return exports.helpers._.each(pairs,pair=>{const key=pair[0];let val=pair[1];ObjectHelpers_1.objectHelpers.isObject(val)?null==val.id?val.id=key:val._id=key:val={id:key,val},ret.push(val)}),ret}arrayToDic(arr){return this._.transform(arr,(agg,key)=>agg[key]=!0,{})}initConcurrency(){this.concurrency=concurrency,this.Deferred=concurrency.Deferred,this.throttle=concurrency.throttle,this.debounce=concurrency.debounce,this.delay=concurrency.delay,this.async=concurrency.async,this.isAsync=concurrency.isAsync,this.forceAsync=concurrency.async,this.waitUntil=concurrency.waitUntil,this.measurements=concurrency.measurements,this.measure=this.measurements.measure,this.startMeasure=this.measurements.startMeasure,this.peekMeasure=this.measurements.peekMeasure,this.getMeasureAndReset=this.measurements.getMeasureAndReset,this.chainTasks=concurrency.chain.chainTasks,this.sleep=concurrency.sleep}initCustomLodashMixins(){this._.mixin({sortKeysBy:function(obj,comparator){var keys=this._.sortBy(this._.keys(obj),function(key){return comparator?comparator(obj[key],key):key});return this._.zipObject(keys,this._.map(keys,function(key){return obj[key]}))}})}}exports.Helpers=Helpers,exports.helpers=new Helpers;var SemverPart;(function(SemverPart){SemverPart.Major="major",SemverPart.Minor="minor",SemverPart.Patch="patch"})(SemverPart=exports.SemverPart||(exports.SemverPart={}))}).call(this)}).call(this,"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global,require("buffer").Buffer)},{"../extensions/DateExtensions":20,"../extensions/StringExtensions":23,"../extensions/index":24,"../modules/log":37,"./ObjectHelpers":27,buffer:70,"concurrency.libx.js":77,"lodash/each":215,"lodash/forEach":217,"lodash/has":219,"lodash/join":235,"lodash/map":237,"lodash/mapKeys":238,"lodash/mapValues":239,"lodash/mixin":241,"lodash/reduce":243,"lodash/repeat":244,"lodash/toPairs":250,"lodash/transform":252}],30:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Cache=void 0;const StringExtensions_1=require("../extensions/StringExtensions"),helpers_1=require("../helpers"),ObjectHelpers_1=require("../helpers/ObjectHelpers"),Callbacks_1=require("./Callbacks"),log_1=require("./log");class Cache{constructor(prefix,expiryPeriodMS=Cache._DefaultExpiryMS,delimiter,store=null){this.delimiter="/",this.onChange=new Callbacks_1.Callbacks,this.listenersMap={},delimiter&&(this.delimiter=delimiter),this.prefix=prefix,null!=expiryPeriodMS&&(this._expiryPeriodMS=expiryPeriodMS),""==(null===this||void 0===this?void 0:this.prefix)||this.prefix.endsWith||(this.prefix+=this.delimiter),this.store=store||localStorage,this.onChange.subscribe((path,data)=>this.changesListener(path,data))}get(path,ignoreCache=!1){if(ignoreCache||this.isExpired(path))return null;const keyPath=this.prefix+this.delimiter+path;let ret=this.store[keyPath];if(null!=ret)try{return JSON.parse(ret)}catch(ex){return log_1.log.w("Cache:get: Failed to parse content",ex),null}else if(null==ret)return this.getAll(keyPath)}set(path,data){this.store[this.prefix+this.delimiter+path]=helpers_1.helpers.jsonify(data,!0),0!=this._expiryPeriodMS&&null!=this._expiryPeriodMS&&this.setExpiry(path),this.onChange.trigger(path,data)}delete(path){delete this.store[this.prefix+this.delimiter+path],this.onChange.trigger(path,null)}push(path,data){null==this.store[this.prefix+this.delimiter+path]&&(this.store[this.prefix+this.delimiter+path]=[]),this.store[this.prefix+this.delimiter+path].push(data),this.onChange.trigger(path,this.store[this.prefix+this.delimiter+path])}listen(path="/",callback){this.listenersMap[path]=callback}unlisten(path){delete this.listenersMap[path]}isExpired(path){if(0==this._expiryPeriodMS)return!1;let expiryObj=this.store[`${this.prefix}/__expiry/${path}`];if(null==expiryObj)return!0;let expiry=new Date(expiryObj);return!(null!=expiry)||!(expiry>new Date)}setExpiry(path,expiryPeriodMS=null){let expiry=new Date().addMilliseconds(expiryPeriodMS||this._expiryPeriodMS);return this.store[`${this.prefix}/__expiry/${path}`]=expiry,expiry}clear(prefix){for(let key in this.store)key.startsWith(prefix||this.prefix)&&(delete this.store[key],this.onChange.trigger(key,null))}getAll(prefix){let ret=null;for(let key in prefix=prefix||this.prefix,this.store){const orgKey=key;if(!key.startsWith(prefix||this.prefix))continue;if(key=key.substr(prefix.length+1),StringExtensions_1.StringExtensions.contains.call(key,"__expiry"))continue;let value=this.store[orgKey];try{value=JSON.parse(value)}catch(_a){}ret=ObjectHelpers_1.objectHelpers.spawnHierarchy(key,ret,value,"/")}return ret}fixPath(path){return path.replace(/\/\//g,"/")}changesListener(path,data){const rootCallback=this.listenersMap["/"];null!=rootCallback&&rootCallback(path,data);const registeredCallback=this.listenersMap[path];null==registeredCallback||registeredCallback(path,data)}}exports.Cache=Cache,Cache._DefaultExpiryMS=300000},{"../extensions/StringExtensions":23,"../helpers":29,"../helpers/ObjectHelpers":27,"./Callbacks":31,"./log":37}],31:[function(require,module,exports){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.ModuleOptions=exports.Callbacks=void 0;const concurrency_libx_js_1=require("concurrency.libx.js"),each_1=__importDefault(require("lodash/each")),helpers_1=require("../helpers"),dependencyInjector_1=require("./dependencyInjector");class Callbacks{constructor(options){this.options=new ModuleOptions,this.options=Object.assign(Object.assign({},this.options),options),this.counter=0,this.list={},null!=this.options.cb&&this.subscribe(this.options.cb)}subscribe(cb){this.list[this.counter]=cb;var ret=this.counter;return this.counter++,ret}once(cb){let _this=this,handle=this.subscribe(function(){_this.clear(handle),cb.apply(null,arguments)})}until(cb){let handle=this.subscribe(cb);return()=>{this.clear(handle)}}trigger(...args){const p=helpers_1.helpers.newPromise(),allP=[];return(0,each_1.default)(this.list,cb=>{if(null!=cb){const promise=(0,concurrency_libx_js_1.async)(cb).apply(cb,args);allP.push(promise)}}),Promise.all(allP).then(()=>{p.resolve()}).catch(err=>{p.reject(err)}),p}unsubscribe(id){return this.clear(id)}clear(id){delete this.list[id]}clearAll(){delete this.list,this.list={}}getSubscribersCount(){return this.counter}}exports.Callbacks=Callbacks;class ModuleOptions{}exports.ModuleOptions=ModuleOptions,dependencyInjector_1.di.register("Callbacks",Callbacks)},{"../helpers":29,"./dependencyInjector":36,"concurrency.libx.js":77,"lodash/each":215}],32:[function(require,module,exports){"use strict";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0});const helpers_1=require("../helpers"),Exceptions_1=require("../helpers/Exceptions"),ObjectHelpers_1=require("../helpers/ObjectHelpers"),log_1=require("./log");class DeepProxy{constructor(target=null,handler,isDeep=!0){var _a;if(this.handler=handler,this.isDeep=isDeep,this.proxy=null,this._skip=!1,this.preproxy=new WeakMap,this.delimiter="/",this.input=target,this.proxy=this.proxify(target,"",!0),null===(_a=this.input)||void 0===_a?void 0:_a.isProxy)throw new Exceptions_1.Exception("DeepProxy:ctor: input cannot be proxy!");this.target=target}static create(target=null,handler,isDeep=!0){const newProxy=new DeepProxy(target,handler,isDeep);return newProxy.proxy}set(target,path,key,value){var _a,_b;return log_1.log.debug("DeepProxy:set",path,key,value),(null===(_a=this.handler)||void 0===_a?void 0:_a.set)&&this.handler.set(target,path,key,value),this.isDeep&&(null===(_b=value)||void 0===_b||!_b.isProxy)&&(value=this.proxify(value,path+this.delimiter+key,!0)),target[key]=value,null==value&&Reflect.has(target,key)&&(log_1.log.debug("set: has existing value"),this.unproxy(target,path+this.delimiter+key)),!0}skip(cb,condition){return __awaiter(this,void 0,void 0,function*(){null==cb||"function"!=typeof cb||this._skip||(null==condition&&(condition=!0),condition&&(this._skip=!0),yield cb(),condition&&(this._skip=!1))})}wrapHandler(path){return{get:(target,key)=>{var _a;if("isProxy"==key)return!0;if("toString"==key)return()=>helpers_1.helpers.stringifyOnce(target,null,2);if("toJSON"==key)return()=>helpers_1.helpers.stringifyOnce(target,null,2);let ret=null;return(null===(_a=this.handler)||void 0===_a?void 0:_a.get)&&(ret=this.handler.get(target,path,key)),null==ret&&(ret=target[key]||ObjectHelpers_1.objectHelpers.getDeep(this.input,path)[key]),ret},set:(target,key,value,receiver)=>{var _a;if(this.skip(()=>{ObjectHelpers_1.objectHelpers.getDeep(this.input,path)[key]=value}),null===(_a=this.handler)||void 0===_a?void 0:_a.preSet){const preSetRet=this.handler.preSet(target,path,key,value);if(!1==preSetRet)return null}return this.set(target,path,key,value,receiver)},deleteProperty:(target,key)=>{var _a,_b;if(log_1.log.debug("deleteProperty: ",key),Reflect.has(target,key)){let deleted=null;return this.unproxy(target,key),delete ObjectHelpers_1.objectHelpers.getDeep(this.input,path)[key],deleted=Reflect.deleteProperty(target,key),deleted&&(null===(_a=this.handler)||void 0===_a?void 0:_a.preSet)&&this.handler.preSet(target,path,key,null),deleted&&(null===(_b=this.handler)||void 0===_b?void 0:_b.set)&&this.handler.set(target,path,key,null),deleted}return!1}}}unproxy(obj,key){if(this.preproxy.has(obj[key])&&(obj[key]=this.preproxy.get(obj[key]),this.preproxy.delete(obj[key])),this.isDeep&&null!=obj[key])for(let k of Object.keys(obj[key]))this.isDeep&&"object"==typeof obj[key][k]&&this.unproxy(obj[key],k)}proxify(obj,path,clone=!1){if(null==obj)return null;let copy=clone?ObjectHelpers_1.objectHelpers.clone(obj):obj;if(this.isDeep&&(ObjectHelpers_1.objectHelpers.isObject(obj)||ObjectHelpers_1.objectHelpers.isArray(obj)))for(let key of Object.keys(copy)){const prop=copy[key];"object"!=typeof prop||(null===prop||void 0===prop?void 0:prop.isProxy)||(copy[key]=this.proxify(prop,path+this.delimiter+key))}else return obj;let p=new Proxy(copy,this.wrapHandler(path));return this.preproxy.set(p,copy),p}}exports.default=DeepProxy},{"../helpers":29,"../helpers/Exceptions":26,"../helpers/ObjectHelpers":27,"./log":37}],33:[function(require,module,exports){"use strict";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.network=exports.Network=void 0;const http_1=__importDefault(require("http")),https_1=__importDefault(require("https")),url_1=__importDefault(require("url")),axios_1=__importDefault(require("axios")),form_data_1=__importDefault(require("form-data")),helpers_1=require("../helpers"),dependencyInjector_1=require("./dependencyInjector"),buffer_1=require("buffer"),log_1=require("./log"),ObjectHelpers_1=require("../helpers/ObjectHelpers");class Network{constructor(){this.url=url_1.default,this.helper=new Helper,this.httpGetJson=(url,_options={})=>__awaiter(this,void 0,void 0,function*(){let headers={"content-type":"application/json; charset=UTF-8"};_options.cors&&(headers=null),_options=ObjectHelpers_1.objectHelpers.merge({},_options,{headers:headers,enc:"utf-8"});let ret=yield this.httpGet(url,_options);return JSON.parse(ret)}),this.httpGetString=(url,_options={})=>__awaiter(this,void 0,void 0,function*(){_options=ObjectHelpers_1.objectHelpers.merge({},_options,{enc:"utf-8"});let ret=yield this.httpGet(url,_options);return ret.toString()}),this.httpGet=(url,_options={})=>__awaiter(this,void 0,void 0,function*(){let ret=yield this.httpRequest(url,null,"GET",_options);return ret}),this.httpPost=(url,data,_options={})=>__awaiter(this,void 0,void 0,function*(){return yield this.httpRequest(url,data,"POST",_options)}),this.httpPostJson=(url,data,_options={})=>__awaiter(this,void 0,void 0,function*(){let ret=yield this.httpRequest(url,data,"POST",_options);return null==ret?null:JSON.parse(ret.toString())}),this.httpRequest=(url,data,method,_options={})=>__awaiter(this,void 0,void 0,function*(){var defer=helpers_1.helpers.newPromise();url=this.helper.fixUrl(url);var dest=this.helper.parseUrl(url),options={headers:{Accept:"*/*"},cors:!1,enc:null,method:method||"GET",withCredentials:!1,dataType:"json",autoParse:!1,formData:null};ObjectHelpers_1.objectHelpers.clone(_options,options),ObjectHelpers_1.objectHelpers.clone(dest,options),null!=options.dataType&&null==options.headers["content-type"]&&("json"!=options.dataType||options.cors?"formData"==options.dataType&&(options.headers["content-type"]="multipart/form-data"):options.headers["content-type"]="application/json; charset=UTF-8");var operation=http_1.default;"https:"==dest.protocol&&(operation=https_1.default),"formData"==options.dataType&&(options.formData=data);var request=operation.request(options,res=>{options.enc&&res.setEncoding(options.enc);var data=[];res.on("data",function(chunk){data.push(buffer_1.Buffer.from(chunk))}),res.on("end",function(){let buffer=null;return buffer=1==data.length?data[0]:buffer_1.Buffer.concat(data),200==res.statusCode?defer.resolve(buffer):void defer.reject({statusCode:res.statusCode,response:buffer.toString()})})});if(null!=data){var dataObj=data;"json"==options.dataType&&(dataObj=JSON.stringify(data),request.write(dataObj))}return request.on("error",function(e){log_1.log.error(e.message),defer.reject(e)}),request.end(),defer}),this.request=(method,url,params=null,data=null,options={})=>__awaiter(this,void 0,void 0,function*(){let p=helpers_1.helpers.newPromise();return url=this.helper.fixUrl(url),options=ObjectHelpers_1.objectHelpers.merge(options,{method:method},{url:url}),options.data=data,null==options.responseType&&(options.responseType="arraybuffer"),(0,axios_1.default)(options).then(response=>{p.resolve(response.data)}).catch(err=>p.reject(err)),p}),this.get=(url,params=null,options={})=>__awaiter(this,void 0,void 0,function*(){if(null!=params){let includePrefix=!url.contains("?"),queryString=this.helper.toQueryString(params,!includePrefix);url+=includePrefix?queryString:"&"+queryString}return options=ObjectHelpers_1.objectHelpers.merge(options,{url:url}),yield this.request("GET",url,params,null,options)}),this.post=(url,data=null,options={})=>__awaiter(this,void 0,void 0,function*(){helpers_1.helpers.newPromise();return options=ObjectHelpers_1.objectHelpers.merge(options,{url:url}),yield this.request("POST",url,null,data,options)}),this.upload=(url,fileReadStream,options={})=>__awaiter(this,void 0,void 0,function*(){let p=helpers_1.helpers.newPromise(),formData=new form_data_1.default;if(formData.append("file",fileReadStream),null!=options.data){let props=ObjectHelpers_1.objectHelpers.getCustomProperties(options.data);for(let prop of props)formData.append(prop,options.data[prop])}return axios_1.default.create({headers:formData.getHeaders()}).post(url,formData).then(response=>{p.resolve(response.data)}).catch(err=>p.reject(err)),p})}}exports.Network=Network;class Helper{constructor(){this.toQueryString=(obj,excludePrefix=!1)=>helpers_1.helpers.querialize(obj,excludePrefix)}fixUrl(url,prefixUrl){var pos=url.indexOf("://");if(-1<pos){var startOfUrl=url.slice(0,pos),restOfUrl=url.slice(pos+3);restOfUrl=restOfUrl.replace(/\/+/g,"/"),url=startOfUrl+"://"+restOfUrl}else url=url.replace(/\/+/g,"/");prefixUrl=prefixUrl||"";return url=this.cleanUrl((-1<pos?"":prefixUrl)+url),url}parseUrl(url){return url_1.default.parse(url);var l=document.createElement("a")}cleanUrl(url){return null==url?null:url.replace(/([^:]\/)\/+/g,"$1")}}exports.network=new Network,dependencyInjector_1.di.register("network",exports.network)},{"../helpers":29,"../helpers/ObjectHelpers":27,"./dependencyInjector":36,"./log":37,axios:38,buffer:70,"form-data":85,http:259,https:86,url:279}],34:[function(require,module,exports){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.ModuleOptions=exports.ProxyCache=void 0;const ObjectHelpers_1=require("../helpers/ObjectHelpers"),Cache_1=require("./Cache"),log_1=require("./log"),DeepProxy_1=__importDefault(require("./DeepProxy"));exports.ProxyCache=class{constructor(name,target,options){this._cache=null,this._options=new ModuleOptions,this._options=Object.assign(Object.assign({},this._options),options),this._cache=new Cache_1.Cache(name,0,"/",this._options.store);const mergedObj=Object.assign(Object.assign({},target),this._cache.getAll());this.storeObjectAsKeyValueCache("",mergedObj),this._deepProxy=new DeepProxy_1.default(mergedObj,{get:(target,path,key)=>{var _a,_b;path=path+"/"+key.toString(),path.startsWith("/")&&(path=path.substr(1)),log_1.log.debug(`ProxyCache:get: ${path}`,key);let ret=null;null!=target[key]&&(ret=target[key]);const cached=this._cache.get(path);return null==(null===(_a=this._options.customHandler)||void 0===_a?void 0:_a.get)?null!==ret&&void 0!==ret&&ret.isProxy||ObjectHelpers_1.objectHelpers.isObject(ret)||cached==ret?ret:cached:null===(_b=this._options.customHandler)||void 0===_b?void 0:_b.get(target,path,key)},set:(target,path,key,value)=>{var _a,_b;path=path+"/"+key.toString(),path.startsWith("/")&&(path=path.substr(1)),log_1.log.debug(`ProxyCache:changes: ${path}`,key),null!=(null===(_a=this._options.customHandler)||void 0===_a?void 0:_a.set)&&(null===(_b=this._options.customHandler)||void 0===_b?void 0:_b.set(target,path,key,value)),null==value?(path.startsWith("/")&&(path=path.substr(1,path.length)),log_1.log.debug(`ProxyCache:delete: ${path}`,key),this._cache.delete(path)):this.storeObjectAsKeyValueCache(path,value)}},!0),this.proxy=this._deepProxy.proxy}set(path,value){return ObjectHelpers_1.objectHelpers.merge.call(this,this.proxy,value)}storeObjectAsKeyValueCache(path,value){if(path.startsWith("/")&&(path=path.substr(1)),ObjectHelpers_1.objectHelpers.isObject(value)){const kvObj=ObjectHelpers_1.objectHelpers.objectToKeyValue(value);for(let key in""==path||path.endsWith("/")||(path+="/"),kvObj){const val=kvObj[key];null!=val&&this._cache.set(path+key,val)}}else this._cache.set(path,value)}};class ModuleOptions{}exports.ModuleOptions=ModuleOptions},{"../helpers/ObjectHelpers":27,"./Cache":30,"./DeepProxy":32,"./log":37}],35:[function(require,module,exports){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Time=void 0;const StringExtensions_1=require("../extensions/StringExtensions"),helpers_1=require("../helpers"),Exceptions_1=__importDefault(require("../helpers/Exceptions"));class Time{constructor(hoursMinSecStr,timezone,baseTimestamp){this.timezone=timezone,this.baseTimestamp=baseTimestamp,this.offsetHours=0,this.totalSeconds=0,this.isUTC=()=>0==this.offsetHours;const isNow=null==hoursMinSecStr;baseTimestamp=null==baseTimestamp?new Date:new Date(baseTimestamp.getTime()),isNow&&(hoursMinSecStr=`${baseTimestamp.getUTCHours()}:${baseTimestamp.getUTCMinutes()}:${baseTimestamp.getUTCSeconds()}`);const parts=Time.parse(hoursMinSecStr);null==timezone||isNow||(this.offsetHours=Time.getTimezoneOffset(timezone,baseTimestamp),parts.hours-=Math.floor(this.offsetHours),parts.minutes=Math.abs(parts.minutes-60*(this.offsetHours%1))),baseTimestamp.setUTCHours(parts.hours,parts.minutes,parts.seconds),this.totalSeconds=(parts.seconds||0)+60*parts.minutes+60*(60*parts.hours)}get hour(){return Time.totalSecondsToHoursMinutesSeconds(this.totalSeconds).hours}set hour(value){this.totalSeconds=this.totalSeconds-60*(60*Math.floor(this.totalSeconds/60/60))+60*(60*value)}get min(){return Time.totalSecondsToHoursMinutesSeconds(this.totalSeconds).minutes}set min(value){this.totalSeconds=this.totalSeconds-60*Math.floor(this.totalSeconds%3600/60)+60*value}get sec(){return Time.totalSecondsToHoursMinutesSeconds(this.totalSeconds).seconds}set sec(value){this.totalSeconds=this.totalSeconds-Math.floor(this.totalSeconds%60)+value}add(hours,mins=0,sec=0){this.totalSeconds+=60*(60*hours)+60*mins+sec}subtract(hours,mins=0,sec=0){this.totalSeconds-=60*(60*hours)+60*mins+sec}static parse(input){var _a,_b,_c,_d;const matches=helpers_1.helpers.getMatches(input,/(?<hour>\d+)\:(?<min>\d+)(\:(?<sec>\d+))?\s?(?<timezone>.*)?/,!0);if(null==matches||0==matches.length)throw new Exceptions_1.default("Time: Unable to parse time input",{input});return{hours:parseInt(null===(_a=matches[0])||void 0===_a?void 0:_a.hour)||0,minutes:parseInt(null===(_b=matches[0])||void 0===_b?void 0:_b.min)||0,seconds:parseInt(null===(_c=matches[0])||void 0===_c?void 0:_c.sec)||0,timezone:null===(_d=matches[0])||void 0===_d?void 0:_d.timezone}}static formDate(date){const hour=date.getUTCHours(),min=date.getUTCMinutes(),sec=date.getUTCSeconds(),ret=new Time(`${hour}:${min}:${sec}`,null,date);return ret}toDate(baseTimestamp){const ret=null==baseTimestamp?new Date:new Date(baseTimestamp||this.baseTimestamp);return ret.setUTCHours(this.hour,this.min,this.sec,0),ret}compare(to){const a=this.totalSeconds,b=to.totalSeconds;return a==b?0:a>b?1:a<b?-1:null}toString(timezone,baseTimestamp,includeSeconds=!1,asDuration=!1){let tzOffset=this.offsetHours;const tz=timezone||this.timezone;let tzStr="";if(null!=tz){tzOffset=Time.getTimezoneOffset(tz,this.toDate(baseTimestamp||this.baseTimestamp));const tzAbbr=Time.getTimeZoneName(tz,baseTimestamp||this.baseTimestamp,!0);tzStr=` ${tzAbbr}`}let isNegative=0>this.totalSeconds;const newTime=Time.totalSecondsToHoursMinutesSeconds(this.totalSeconds+60*(60*tzOffset));let sign=isNegative?"-":"",h=StringExtensions_1.StringExtensions.padNumber.call(Math.abs(asDuration?newTime.hours:newTime.hours%24),2),m=StringExtensions_1.StringExtensions.padNumber.call(Math.abs(newTime.minutes),2),s=!0==includeSeconds&&null!=this.sec?`:${StringExtensions_1.StringExtensions.padNumber.call(Math.abs(newTime.seconds),2)}`:"";return`${sign}${h}:${m}${s}${tzStr}`}static getTimezoneOffset(timezone,hereDate=new Date){hereDate=new Date(hereDate),hereDate.setMilliseconds(0);const hereOffsetHrs=-1*(hereDate.getTimezoneOffset()/60),thereLocaleStr=hereDate.toLocaleString("en-US",{timeZone:timezone}),thereDate=new Date(thereLocaleStr),diffHrs=(thereDate.getTime()-hereDate.getTime())/1e3/60/60;return hereOffsetHrs+diffHrs}static getLocalTimezone(){return Intl.DateTimeFormat().resolvedOptions().timeZone}static getTimeZoneName(timezone,date=new Date,inAbbreviation=!0){const format=Intl.DateTimeFormat("en",{timeZoneName:"long",timeZone:timezone});let ret=format.formatToParts(date||new Date).find(p=>"timeZoneName"===p.type).value;return ret.startsWith("GMT")&&(ret=format.formatToParts(null).find(p=>"timeZoneName"===p.type).value),inAbbreviation&&!ret.startsWith("GMT")&&(ret=StringExtensions_1.StringExtensions.getAbbreviation.call(ret)),ret}static totalSecondsToHoursMinutesSeconds(totalSeconds){return{hours:Math.floor(totalSeconds/3600),minutes:Math.floor(totalSeconds%3600/60),seconds:Math.floor(totalSeconds%60)}}}exports.Time=Time,Time.TimeZones=["Europe/Andorra","Asia/Dubai","Asia/Kabul","Europe/Tirane","Asia/Yerevan","Antarctica/Casey","Antarctica/Davis","Antarctica/DumontDUrville","Antarctica/Mawson","Antarctica/Palmer","Antarctica/Rothera","Antarctica/Syowa","Antarctica/Troll","Antarctica/Vostok","America/Argentina/Buenos_Aires","America/Argentina/Cordoba","America/Argentina/Salta","America/Argentina/Jujuy","America/Argentina/Tucuman","America/Argentina/Catamarca","America/Argentina/La_Rioja","America/Argentina/San_Juan","America/Argentina/Mendoza","America/Argentina/San_Luis","America/Argentina/Rio_Gallegos","America/Argentina/Ushuaia","Pacific/Pago_Pago","Europe/Vienna","Australia/Lord_Howe","Antarctica/Macquarie","Australia/Hobart","Australia/Currie","Australia/Melbourne","Australia/Sydney","Australia/Broken_Hill","Australia/Brisbane","Australia/Lindeman","Australia/Adelaide","Australia/Darwin","Australia/Perth","Australia/Eucla","Asia/Baku","America/Barbados","Asia/Dhaka","Europe/Brussels","Europe/Sofia","Atlantic/Bermuda","Asia/Brunei","America/La_Paz","America/Noronha","America/Belem","America/Fortaleza","America/Recife","America/Araguaina","America/Maceio","America/Bahia","America/Sao_Paulo","America/Campo_Grande","America/Cuiaba","America/Santarem","America/Porto_Velho","America/Boa_Vista","America/Manaus","America/Eirunepe","America/Rio_Branco","America/Nassau","Asia/Thimphu","Europe/Minsk","America/Belize","America/St_Johns","America/Halifax","America/Glace_Bay","America/Moncton","America/Goose_Bay","America/Blanc-Sablon","America/Toronto","America/Nipigon","America/Thunder_Bay","America/Iqaluit","America/Pangnirtung","America/Atikokan","America/Winnipeg","America/Rainy_River","America/Resolute","America/Rankin_Inlet","America/Regina","America/Swift_Current","America/Edmonton","America/Cambridge_Bay","America/Yellowknife","America/Inuvik","America/Creston","America/Dawson_Creek","America/Fort_Nelson","America/Vancouver","America/Whitehorse","America/Dawson","Indian/Cocos","Europe/Zurich","Africa/Abidjan","Pacific/Rarotonga","America/Santiago","America/Punta_Arenas","Pacific/Easter","Asia/Shanghai","Asia/Urumqi","America/Bogota","America/Costa_Rica","America/Havana","Atlantic/Cape_Verde","America/Curacao","Indian/Christmas","Asia/Nicosia","Asia/Famagusta","Europe/Prague","Europe/Berlin","Europe/Copenhagen","America/Santo_Domingo","Africa/Algiers","America/Guayaquil","Pacific/Galapagos","Europe/Tallinn","Africa/Cairo","Africa/El_Aaiun","Europe/Madrid","Africa/Ceuta","Atlantic/Canary","Europe/Helsinki","Pacific/Fiji","Atlantic/Stanley","Pacific/Chuuk","Pacific/Pohnpei","Pacific/Kosrae","Atlantic/Faroe","Europe/Paris","Europe/London","Asia/Tbilisi","America/Cayenne","Africa/Accra","Europe/Gibraltar","America/Godthab","America/Danmarkshavn","America/Scoresbysund","America/Thule","Europe/Athens","Atlantic/South_Georgia","America/Guatemala","Pacific/Guam","Africa/Bissau","America/Guyana","Asia/Hong_Kong","America/Tegucigalpa","America/Port-au-Prince","Europe/Budapest","Asia/Jakarta","Asia/Pontianak","Asia/Makassar","Asia/Jayapura","Europe/Dublin","Asia/Jerusalem","Asia/Kolkata","Indian/Chagos","Asia/Baghdad","Asia/Tehran","Atlantic/Reykjavik","Europe/Rome","America/Jamaica","Asia/Amman","Asia/Tokyo","Africa/Nairobi","Asia/Bishkek","Pacific/Tarawa","Pacific/Enderbury","Pacific/Kiritimati","Asia/Pyongyang","Asia/Seoul","Asia/Almaty","Asia/Qyzylorda","Asia/Qostanay","Asia/Aqtobe","Asia/Aqtau","Asia/Atyrau","Asia/Oral","Asia/Beirut","Asia/Colombo","Africa/Monrovia","Europe/Vilnius","Europe/Luxembourg","Europe/Riga","Africa/Tripoli","Africa/Casablanca","Europe/Monaco","Europe/Chisinau","Pacific/Majuro","Pacific/Kwajalein","Asia/Yangon","Asia/Ulaanbaatar","Asia/Hovd","Asia/Choibalsan","Asia/Macau","America/Martinique","Europe/Malta","Indian/Mauritius","Indian/Maldives","America/Mexico_City","America/Cancun","America/Merida","America/Monterrey","America/Matamoros","America/Mazatlan","America/Chihuahua","America/Ojinaga","America/Hermosillo","America/Tijuana","America/Bahia_Banderas","Asia/Kuala_Lumpur","Asia/Kuching","Africa/Maputo","Africa/Windhoek","Pacific/Noumea","Pacific/Norfolk","Africa/Lagos","America/Managua","Europe/Amsterdam","Europe/Oslo","Asia/Kathmandu","Pacific/Nauru","Pacific/Niue","Pacific/Auckland","Pacific/Chatham","America/Panama","America/Lima","Pacific/Tahiti","Pacific/Marquesas","Pacific/Gambier","Pacific/Port_Moresby","Pacific/Bougainville","Asia/Manila","Asia/Karachi","Europe/Warsaw","America/Miquelon","Pacific/Pitcairn","America/Puerto_Rico","Asia/Gaza","Asia/Hebron","Europe/Lisbon","Atlantic/Madeira","Atlantic/Azores","Pacific/Palau","America/Asuncion","Asia/Qatar","Indian/Reunion","Europe/Bucharest","Europe/Belgrade","Europe/Kaliningrad","Europe/Moscow","Europe/Simferopol","Europe/Kirov","Europe/Astrakhan","Europe/Volgograd","Europe/Saratov","Europe/Ulyanovsk","Europe/Samara","Asia/Yekaterinburg","Asia/Omsk","Asia/Novosibirsk","Asia/Barnaul","Asia/Tomsk","Asia/Novokuznetsk","Asia/Krasnoyarsk","Asia/Irkutsk","Asia/Chita","Asia/Yakutsk","Asia/Khandyga","Asia/Vladivostok","Asia/Ust-Nera","Asia/Magadan","Asia/Sakhalin","Asia/Srednekolymsk","Asia/Kamchatka","Asia/Anadyr","Asia/Riyadh","Pacific/Guadalcanal","Indian/Mahe","Africa/Khartoum","Europe/Stockholm","Asia/Singapore","America/Paramaribo","Africa/Juba","Africa/Sao_Tome","America/El_Salvador","Asia/Damascus","America/Grand_Turk","Africa/Ndjamena","Indian/Kerguelen","Asia/Bangkok","Asia/Dushanbe","Pacific/Fakaofo","Asia/Dili","Asia/Ashgabat","Africa/Tunis","Pacific/Tongatapu","Europe/Istanbul","America/Port_of_Spain","Pacific/Funafuti","Asia/Taipei","Europe/Kiev","Europe/Uzhgorod","Europe/Zaporozhye","Pacific/Wake","America/New_York","America/Detroit","America/Kentucky/Louisville","America/Kentucky/Monticello","America/Indiana/Indianapolis","America/Indiana/Vincennes","America/Indiana/Winamac","America/Indiana/Marengo","America/Indiana/Petersburg","America/Indiana/Vevay","America/Chicago","America/Indiana/Tell_City","America/Indiana/Knox","America/Menominee","America/North_Dakota/Center","America/North_Dakota/New_Salem","America/North_Dakota/Beulah","America/Denver","America/Boise","America/Phoenix","America/Los_Angeles","America/Anchorage","America/Juneau","America/Sitka","America/Metlakatla","America/Yakutat","America/Nome","America/Adak","Pacific/Honolulu","America/Montevideo","Asia/Samarkand","Asia/Tashkent","America/Caracas","Asia/Ho_Chi_Minh","Pacific/Efate","Pacific/Wallis","Pacific/Apia","Africa/Johannesburg"]},{"../extensions/StringExtensions":23,"../helpers":29,"../helpers/Exceptions":26}],36:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.di=void 0;const DependencyInjector_1=require("di.libx.js/build/DependencyInjector");exports.di=new DependencyInjector_1.DependencyInjector},{"di.libx.js/build/DependencyInjector":1}],37:[function(require,module,exports){(function(process){(function(){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.log=exports.LogLevel=exports.ConsoleColors=exports.Log=void 0;const extensions_1=require("../extensions/");extensions_1.extensions.applyDateExtensions();class Log{constructor(filterLevel=LogLevel.Verbose){this.colors=ConsoleColors,this.isDebug=!1,this.isShowStacktrace=!1,this.isShowPrefix=!0,this.severities=LogLevel,this.filterLevel=LogLevel.Verbose,this.isBrowser="undefined"!=typeof window&&null!=window.document&&"undefined"==typeof process,this.isShowTime=!this.isBrowser,this.filterLevel=filterLevel}debug(msg,...args){this.write(this.severities.Debug,msg,args)}d(msg,...args){this.write(this.severities.Debug,msg,args)}verbose(msg,...args){this.write(this.severities.Verbose,msg,args)}v(msg,...args){this.write(this.severities.Verbose,msg,args)}info(msg,...args){this.write(this.severities.Info,msg,args)}i(msg,...args){this.write(this.severities.Info,msg,args)}warning(msg,...args){this.write(this.severities.Warning,msg,args)}w(msg,...args){this.write(this.severities.Warning,msg,args)}error(msg,...args){this.write(this.severities.Error,msg,args)}e(msg,...args){this.write(this.severities.Error,msg,args)}fatal(msg,...args){this.write(this.severities.Fatal,msg,args)}write(severity,msg,args=[]){var time=this.isShowTime?"["+new Date().format("HH:MM:ss.l")+"]":"",prefix="",style="",func="log",_a;if((severity!=this.severities.Debug||this.isDebug)&&!(severity!=this.severities.Debug&&severity>this.filterLevel)){severity===this.severities.Debug?(func="log",prefix=" [DBG]",style+="font-size:10px;"):severity===this.severities.Verbose?(func="log",prefix=" [v]"):severity===this.severities.Info?(func="info",prefix=" [>>]"):severity===this.severities.Warning?(func="warn",prefix=" [*]"):severity===this.severities.Error?(func="error",prefix=" [!]"):severity===this.severities.Fatal?(func="error",prefix=" [!!!]",style+="color:red;"):void 0,prefix+="\t",this.isShowPrefix||(prefix="");var trace="";this.isShowStacktrace&&(trace=this.getStackTrace());const argsStr=JSON.stringify(args||"");if("object"==typeof msg&&(null===(_a=msg)||void 0===_a?void 0:_a.constructor)==Object&&(msg=JSON.stringify(msg)),this.isBrowser){var _msg=`${prefix}${time} ${msg} %c${trace}`;0==args.length?console[func].call(console,_msg,"font-size:8px;"):console[func].call(console,_msg,"font-size:8px;",argsStr)}else{var _msg=`${prefix}${time} ${msg} ${trace}`;console[func].call(console,_msg,0==args.length?"":this.color(argsStr,this.colors.fgYellow))}return msg}}color(str,color){var c=null;if(c=color.startsWith("\x1B[")?color:ConsoleColors["fg"+color.capitalize()],null==c&&null==ConsoleColors[color])throw"given color ({0}) is not supported. options: black, red, green, yellow, blue, magenta, cyan, white".format(color);return c+str+ConsoleColors.reset}getStackTrace(){try{var err=new Error,ret=err.stack,lines=ret.split("\n"),i=4;return lines.length<i&&(i=lines.length-1),lines[i].replace(/^\s+/g,"\n\t")}catch(ex){}}}exports.Log=Log;var ConsoleColors;(function(ConsoleColors){ConsoleColors.reset="\x1B[0m",ConsoleColors.bright="\x1B[1m",ConsoleColors.dim="\x1B[2m",ConsoleColors.underscore="\x1B[4m",ConsoleColors.blink="\x1B[5m",ConsoleColors.reverse="\x1B[7m",ConsoleColors.hidden="\x1B[8m",ConsoleColors.fgBlack="\x1B[30m",ConsoleColors.fgRed="\x1B[31m",ConsoleColors.fgGreen="\x1B[32m",ConsoleColors.fgYellow="\x1B[33m",ConsoleColors.fgBlue="\x1B[34m",ConsoleColors.fgMagenta="\x1B[35m",ConsoleColors.fgCyan="\x1B[36m",ConsoleColors.fgWhite="\x1B[37m",ConsoleColors.bgBlack="\x1B[40m",ConsoleColors.bgRed="\x1B[41m",ConsoleColors.bgGreen="\x1B[42m",ConsoleColors.bgYellow="\x1B[43m",ConsoleColors.bgBlue="\x1B[44m",ConsoleColors.bgMagenta="\x1B[45m",ConsoleColors.bgCyan="\x1B[46m",ConsoleColors.bgWhite="\x1B[47m"})(ConsoleColors=exports.ConsoleColors||(exports.ConsoleColors={}));var LogLevel;(function(LogLevel){LogLevel[LogLevel.None=0]="None",LogLevel[LogLevel.Fatal=1]="Fatal",LogLevel[LogLevel.Error=2]="Error",LogLevel[LogLevel.Warning=4]="Warning",LogLevel[LogLevel.Info=8]="Info",LogLevel[LogLevel.Verbose=16]="Verbose",LogLevel[LogLevel.Debug=32]="Debug",LogLevel[LogLevel.All=255]="All"})(LogLevel=exports.LogLevel||(exports.LogLevel={})),exports.log=new Log}).call(this)}).call(this,require("_process"))},{"../extensions/":24,_process:254}],38:[function(require,module){module.exports=require("./lib/axios")},{"./lib/axios":40}],39:[function(require,module){'use strict';var utils=require("./../utils"),settle=require("./../core/settle"),cookies=require("./../helpers/cookies"),buildURL=require("./../helpers/buildURL"),buildFullPath=require("../core/buildFullPath"),parseHeaders=require("./../helpers/parseHeaders"),isURLSameOrigin=require("./../helpers/isURLSameOrigin"),createError=require("../core/createError");module.exports=function(config){return new Promise(function(resolve,reject){function onloadend(){if(request){var responseHeaders="getAllResponseHeaders"in request?parseHeaders(request.getAllResponseHeaders()):null,responseData=responseType&&"text"!==responseType&&"json"!==responseType?request.response:request.responseText,response={data:responseData,status:request.status,statusText:request.statusText,headers:responseHeaders,config:config,request:request};settle(resolve,reject,response),request=null}}var requestData=config.data,requestHeaders=config.headers,responseType=config.responseType;utils.isFormData(requestData)&&delete requestHeaders["Content-Type"];var request=new XMLHttpRequest;if(config.auth){var username=config.auth.username||"",password=config.auth.password?unescape(encodeURIComponent(config.auth.password)):"";requestHeaders.Authorization="Basic "+btoa(username+":"+password)}var fullPath=buildFullPath(config.baseURL,config.url);if(request.open(config.method.toUpperCase(),buildURL(fullPath,config.params,config.paramsSerializer),!0),request.timeout=config.timeout,"onloadend"in request?request.onloadend=onloadend:request.onreadystatechange=function(){request&&4===request.readyState&&(0!==request.status||request.responseURL&&0===request.responseURL.indexOf("file:"))&&setTimeout(onloadend)},request.onabort=function(){request&&(reject(createError("Request aborted",config,"ECONNABORTED",request)),request=null)},request.onerror=function(){reject(createError("Network Error",config,null,request)),request=null},request.ontimeout=function(){var timeoutErrorMessage="timeout of "+config.timeout+"ms exceeded";config.timeoutErrorMessage&&(timeoutErrorMessage=config.timeoutErrorMessage),reject(createError(timeoutErrorMessage,config,config.transitional&&config.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",request)),request=null},utils.isStandardBrowserEnv()){var xsrfValue=(config.withCredentials||isURLSameOrigin(fullPath))&&config.xsrfCookieName?cookies.read(config.xsrfCookieName):void 0;xsrfValue&&(requestHeaders[config.xsrfHeaderName]=xsrfValue)}"setRequestHeader"in request&&utils.forEach(requestHeaders,function(val,key){"undefined"==typeof requestData&&"content-type"===key.toLowerCase()?delete requestHeaders[key]:request.setRequestHeader(key,val)}),utils.isUndefined(config.withCredentials)||(request.withCredentials=!!config.withCredentials),responseType&&"json"!==responseType&&(request.responseType=config.responseType),"function"==typeof config.onDownloadProgress&&request.addEventListener("progress",config.onDownloadProgress),"function"==typeof config.onUploadProgress&&request.upload&&request.upload.addEventListener("progress",config.onUploadProgress),config.cancelToken&&config.cancelToken.promise.then(function(cancel){request&&(request.abort(),reject(cancel),request=null)}),requestData||(requestData=null),request.send(requestData)})}},{"../core/buildFullPath":46,"../core/createError":47,"./../core/settle":51,"./../helpers/buildURL":55,"./../helpers/cookies":57,"./../helpers/isURLSameOrigin":60,"./../helpers/parseHeaders":62,"./../utils":65}],40:[function(require,module){'use strict';function createInstance(defaultConfig){var context=new Axios(defaultConfig),instance=bind(Axios.prototype.request,context);return utils.extend(instance,Axios.prototype,context),utils.extend(instance,context),instance}var utils=require("./utils"),bind=require("./helpers/bind"),Axios=require("./core/Axios"),mergeConfig=require("./core/mergeConfig"),defaults=require("./defaults"),axios=createInstance(defaults);axios.Axios=Axios,axios.create=function(instanceConfig){return createInstance(mergeConfig(axios.defaults,instanceConfig))},axios.Cancel=require("./cancel/Cancel"),axios.CancelToken=require("./cancel/CancelToken"),axios.isCancel=require("./cancel/isCancel"),axios.all=function(promises){return Promise.all(promises)},axios.spread=require("./helpers/spread"),axios.isAxiosError=require("./helpers/isAxiosError"),module.exports=axios,module.exports.default=axios},{"./cancel/Cancel":41,"./cancel/CancelToken":42,"./cancel/isCancel":43,"./core/Axios":44,"./core/mergeConfig":50,"./defaults":53,"./helpers/bind":54,"./helpers/isAxiosError":59,"./helpers/spread":63,"./utils":65}],41:[function(require,module){'use strict';function Cancel(message){this.message=message}Cancel.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},Cancel.prototype.__CANCEL__=!0,module.exports=Cancel},{}],42:[function(require,module){'use strict';function CancelToken(executor){if("function"!=typeof executor)throw new TypeError("executor must be a function.");var resolvePromise;this.promise=new Promise(function(resolve){resolvePromise=resolve});var token=this;executor(function(message){token.reason||(token.reason=new Cancel(message),resolvePromise(token.reason))})}var Cancel=require("./Cancel");CancelToken.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},CancelToken.source=function(){var token=new CancelToken(function(c){cancel=c}),cancel;return{token:token,cancel:cancel}},module.exports=CancelToken},{"./Cancel":41}],43:[function(require,module){'use strict';module.exports=function(value){return!!(value&&value.__CANCEL__)}},{}],44:[function(require,module){'use strict';function Axios(instanceConfig){this.defaults=instanceConfig,this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}var utils=require("./../utils"),buildURL=require("../helpers/buildURL"),InterceptorManager=require("./InterceptorManager"),dispatchRequest=require("./dispatchRequest"),mergeConfig=require("./mergeConfig"),validator=require("../helpers/validator"),validators=validator.validators;Axios.prototype.request=function(config){"string"==typeof config?(config=arguments[1]||{},config.url=arguments[0]):config=config||{},config=mergeConfig(this.defaults,config),config.method=config.method?config.method.toLowerCase():this.defaults.method?this.defaults.method.toLowerCase():"get";var transitional=config.transitional;transitional!==void 0&&validator.assertOptions(transitional,{silentJSONParsing:validators.transitional(validators.boolean,"1.0.0"),forcedJSONParsing:validators.transitional(validators.boolean,"1.0.0"),clarifyTimeoutError:validators.transitional(validators.boolean,"1.0.0")},!1);var requestInterceptorChain=[],synchronousRequestInterceptors=!0;this.interceptors.request.forEach(function(interceptor){"function"==typeof interceptor.runWhen&&!1===interceptor.runWhen(config)||(synchronousRequestInterceptors=synchronousRequestInterceptors&&interceptor.synchronous,requestInterceptorChain.unshift(interceptor.fulfilled,interceptor.rejected))});var responseInterceptorChain=[];this.interceptors.response.forEach(function(interceptor){responseInterceptorChain.push(interceptor.fulfilled,interceptor.rejected)});var promise;if(!synchronousRequestInterceptors){var chain=[dispatchRequest,void 0];for(Array.prototype.unshift.apply(chain,requestInterceptorChain),chain=chain.concat(responseInterceptorChain),promise=Promise.resolve(config);chain.length;)promise=promise.then(chain.shift(),chain.shift());return promise}for(var newConfig=config;requestInterceptorChain.length;){var onFulfilled=requestInterceptorChain.shift(),onRejected=requestInterceptorChain.shift();try{newConfig=onFulfilled(newConfig)}catch(error){onRejected(error);break}}try{promise=dispatchRequest(newConfig)}catch(error){return Promise.reject(error)}for(;responseInterceptorChain.length;)promise=promise.then(responseInterceptorChain.shift(),responseInterceptorChain.shift());return promise},Axios.prototype.getUri=function(config){return config=mergeConfig(this.defaults,config),buildURL(config.url,config.params,config.paramsSerializer).replace(/^\?/,"")},utils.forEach(["delete","get","head","options"],function(method){Axios.prototype[method]=function(url,config){return this.request(mergeConfig(config||{},{method:method,url:url,data:(config||{}).data}))}}),utils.forEach(["post","put","patch"],function(method){Axios.prototype[method]=function(url,data,config){return this.request(mergeConfig(config||{},{method:method,url:url,data:data}))}}),module.exports=Axios},{"../helpers/buildURL":55,"../helpers/validator":64,"./../utils":65,"./InterceptorManager":45,"./dispatchRequest":48,"./mergeConfig":50}],45:[function(require,module){'use strict';function InterceptorManager(){this.handlers=[]}var utils=require("./../utils");InterceptorManager.prototype.use=function(fulfilled,rejected,options){return this.handlers.push({fulfilled:fulfilled,rejected:rejected,synchronous:!!options&&options.synchronous,runWhen:options?options.runWhen:null}),this.handlers.length-1},InterceptorManager.prototype.eject=function(id){this.handlers[id]&&(this.handlers[id]=null)},InterceptorManager.prototype.forEach=function(fn){utils.forEach(this.handlers,function(h){null!==h&&fn(h)})},module.exports=InterceptorManager},{"./../utils":65}],46:[function(require,module){'use strict';var isAbsoluteURL=require("../helpers/isAbsoluteURL"),combineURLs=require("../helpers/combineURLs");module.exports=function(baseURL,requestedURL){return baseURL&&!isAbsoluteURL(requestedURL)?combineURLs(baseURL,requestedURL):requestedURL}},{"../helpers/combineURLs":56,"../helpers/isAbsoluteURL":58}],47:[function(require,module){'use strict';var enhanceError=require("./enhanceError");module.exports=function(message,config,code,request,response){var error=new Error(message);return enhanceError(error,config,code,request,response)}},{"./enhanceError":49}],48:[function(require,module){'use strict';function throwIfCancellationRequested(config){config.cancelToken&&config.cancelToken.throwIfRequested()}var utils=require("./../utils"),transformData=require("./transformData"),isCancel=require("../cancel/isCancel"),defaults=require("../defaults");module.exports=function(config){throwIfCancellationRequested(config),config.headers=config.headers||{},config.data=transformData.call(config,config.data,config.headers,config.transformRequest),config.headers=utils.merge(config.headers.common||{},config.headers[config.method]||{},config.headers),utils.forEach(["delete","get","head","post","put","patch","common"],function(method){delete config.headers[method]});var adapter=config.adapter||defaults.adapter;return adapter(config).then(function(response){return throwIfCancellationRequested(config),response.data=transformData.call(config,response.data,response.headers,config.transformResponse),response},function(reason){return isCancel(reason)||(throwIfCancellationRequested(config),reason&&reason.response&&(reason.response.data=transformData.call(config,reason.response.data,reason.response.headers,config.transformResponse))),Promise.reject(reason)})}},{"../cancel/isCancel":43,"../defaults":53,"./../utils":65,"./transformData":52}],49:[function(require,module){'use strict';module.exports=function(error,config,code,request,response){return error.config=config,code&&(error.code=code),error.request=request,error.response=response,error.isAxiosError=!0,error.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},error}},{}],50:[function(require,module){'use strict';var utils=require("../utils");module.exports=function(config1,config2){function getMergedValue(target,source){return utils.isPlainObject(target)&&utils.isPlainObject(source)?utils.merge(target,source):utils.isPlainObject(source)?utils.merge({},source):utils.isArray(source)?source.slice():source}function mergeDeepProperties(prop){utils.isUndefined(config2[prop])?!utils.isUndefined(config1[prop])&&(config[prop]=getMergedValue(void 0,config1[prop])):config[prop]=getMergedValue(config1[prop],config2[prop])}config2=config2||{};var config={},valueFromConfig2Keys=["url","method","data"],mergeDeepPropertiesKeys=["headers","auth","proxy","params"],defaultToConfig2Keys=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],directMergeKeys=["validateStatus"];utils.forEach(valueFromConfig2Keys,function(prop){utils.isUndefined(config2[prop])||(config[prop]=getMergedValue(void 0,config2[prop]))}),utils.forEach(mergeDeepPropertiesKeys,mergeDeepProperties),utils.forEach(defaultToConfig2Keys,function(prop){utils.isUndefined(config2[prop])?!utils.isUndefined(config1[prop])&&(config[prop]=getMergedValue(void 0,config1[prop])):config[prop]=getMergedValue(void 0,config2[prop])}),utils.forEach(directMergeKeys,function(prop){prop in config2?config[prop]=getMergedValue(config1[prop],config2[prop]):prop in config1&&(config[prop]=getMergedValue(void 0,config1[prop]))});var axiosKeys=valueFromConfig2Keys.concat(mergeDeepPropertiesKeys).concat(defaultToConfig2Keys).concat(directMergeKeys),otherKeys=Object.keys(config1).concat(Object.keys(config2)).filter(function(key){return-1===axiosKeys.indexOf(key)});return utils.forEach(otherKeys,mergeDeepProperties),config}},{"../utils":65}],51:[function(require,module){'use strict';var createError=require("./createError");module.exports=function(resolve,reject,response){var validateStatus=response.config.validateStatus;response.status&&validateStatus&&!validateStatus(response.status)?reject(createError("Request failed with status code "+response.status,response.config,null,response.request,response)):resolve(response)}},{"./createError":47}],52:[function(require,module){'use strict';var utils=require("./../utils"),defaults=require("./../defaults");module.exports=function(data,headers,fns){var context=this||defaults;return utils.forEach(fns,function(fn){data=fn.call(context,data,headers)}),data}},{"./../defaults":53,"./../utils":65}],53:[function(require,module){(function(process){(function(){'use strict';function setContentTypeIfUnset(headers,value){!utils.isUndefined(headers)&&utils.isUndefined(headers["Content-Type"])&&(headers["Content-Type"]=value)}var utils=require("./utils"),normalizeHeaderName=require("./helpers/normalizeHeaderName"),enhanceError=require("./core/enhanceError"),DEFAULT_CONTENT_TYPE={"Content-Type":"application/x-www-form-urlencoded"},defaults={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:function(){var adapter;return"undefined"==typeof XMLHttpRequest?"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process)&&(adapter=require("./adapters/http")):adapter=require("./adapters/xhr"),adapter}(),transformRequest:[function(data,headers){return normalizeHeaderName(headers,"Accept"),normalizeHeaderName(headers,"Content-Type"),utils.isFormData(data)||utils.isArrayBuffer(data)||utils.isBuffer(data)||utils.isStream(data)||utils.isFile(data)||utils.isBlob(data)?data:utils.isArrayBufferView(data)?data.buffer:utils.isURLSearchParams(data)?(setContentTypeIfUnset(headers,"application/x-www-form-urlencoded;charset=utf-8"),data.toString()):utils.isObject(data)||headers&&"application/json"===headers["Content-Type"]?(setContentTypeIfUnset(headers,"application/json"),JSON.stringify(data)):data}],transformResponse:[function(data){var transitional=this.transitional,silentJSONParsing=transitional&&transitional.silentJSONParsing,forcedJSONParsing=transitional&&transitional.forcedJSONParsing,strictJSONParsing=!silentJSONParsing&&"json"===this.responseType;if(strictJSONParsing||forcedJSONParsing&&utils.isString(data)&&data.length)try{return JSON.parse(data)}catch(e){if(strictJSONParsing){if("SyntaxError"===e.name)throw enhanceError(e,this,"E_JSON_PARSE");throw e}}return data}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(status){return 200<=status&&300>status}};defaults.headers={common:{Accept:"application/json, text/plain, */*"}},utils.forEach(["delete","get","head"],function(method){defaults.headers[method]={}}),utils.forEach(["post","put","patch"],function(method){defaults.headers[method]=utils.merge(DEFAULT_CONTENT_TYPE)}),module.exports=defaults}).call(this)}).call(this,require("_process"))},{"./adapters/http":39,"./adapters/xhr":39,"./core/enhanceError":49,"./helpers/normalizeHeaderName":61,"./utils":65,_process:254}],54:[function(require,module){'use strict';module.exports=function(fn,thisArg){return function(){for(var args=Array(arguments.length),i=0;i<args.length;i++)args[i]=arguments[i];return fn.apply(thisArg,args)}}},{}],55:[function(require,module){'use strict';function encode(val){return encodeURIComponent(val).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var utils=require("./../utils");module.exports=function(url,params,paramsSerializer){if(!params)return url;var serializedParams;if(paramsSerializer)serializedParams=paramsSerializer(params);else if(utils.isURLSearchParams(params))serializedParams=params.toString();else{var parts=[];utils.forEach(params,function(val,key){null===val||"undefined"==typeof val||(utils.isArray(val)?key+="[]":val=[val],utils.forEach(val,function(v){utils.isDate(v)?v=v.toISOString():utils.isObject(v)&&(v=JSON.stringify(v)),parts.push(encode(key)+"="+encode(v))}))}),serializedParams=parts.join("&")}if(serializedParams){var hashmarkIndex=url.indexOf("#");-1!==hashmarkIndex&&(url=url.slice(0,hashmarkIndex)),url+=(-1===url.indexOf("?")?"?":"&")+serializedParams}return url}},{"./../utils":65}],56:[function(require,module){'use strict';module.exports=function(baseURL,relativeURL){return relativeURL?baseURL.replace(/\/+$/,"")+"/"+relativeURL.replace(/^\/+/,""):baseURL}},{}],57:[function(require,module){'use strict';var utils=require("./../utils");module.exports=utils.isStandardBrowserEnv()?function(){return{write:function(name,value,expires,path,domain,secure){var cookie=[];cookie.push(name+"="+encodeURIComponent(value)),utils.isNumber(expires)&&cookie.push("expires="+new Date(expires).toGMTString()),utils.isString(path)&&cookie.push("path="+path),utils.isString(domain)&&cookie.push("domain="+domain),!0===secure&&cookie.push("secure"),document.cookie=cookie.join("; ")},read:function(name){var match=document.cookie.match(new RegExp("(^|;\\s*)("+name+")=([^;]*)"));return match?decodeURIComponent(match[3]):null},remove:function(name){this.write(name,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},{"./../utils":65}],58:[function(require,module){'use strict';module.exports=function(url){return /^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(url)}},{}],59:[function(require,module){'use strict';module.exports=function(payload){return"object"==typeof payload&&!0===payload.isAxiosError}},{}],60:[function(require,module){'use strict';var utils=require("./../utils");module.exports=utils.isStandardBrowserEnv()?function(){function resolveURL(url){var href=url;return msie&&(urlParsingNode.setAttribute("href",href),href=urlParsingNode.href),urlParsingNode.setAttribute("href",href),{href:urlParsingNode.href,protocol:urlParsingNode.protocol?urlParsingNode.protocol.replace(/:$/,""):"",host:urlParsingNode.host,search:urlParsingNode.search?urlParsingNode.search.replace(/^\?/,""):"",hash:urlParsingNode.hash?urlParsingNode.hash.replace(/^#/,""):"",hostname:urlParsingNode.hostname,port:urlParsingNode.port,pathname:"/"===urlParsingNode.pathname.charAt(0)?urlParsingNode.pathname:"/"+urlParsingNode.pathname}}var msie=/(msie|trident)/i.test(navigator.userAgent),urlParsingNode=document.createElement("a"),originURL;return originURL=resolveURL(window.location.href),function(requestURL){var parsed=utils.isString(requestURL)?resolveURL(requestURL):requestURL;return parsed.protocol===originURL.protocol&&parsed.host===originURL.host}}():function(){return function(){return!0}}()},{"./../utils":65}],61:[function(require,module){'use strict';var utils=require("../utils");module.exports=function(headers,normalizedName){utils.forEach(headers,function(value,name){name!==normalizedName&&name.toUpperCase()===normalizedName.toUpperCase()&&(headers[normalizedName]=value,delete headers[name])})}},{"../utils":65}],62:[function(require,module){'use strict';var utils=require("./../utils"),ignoreDuplicateOf=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];module.exports=function(headers){var parsed={},key,val,i;return headers?(utils.forEach(headers.split("\n"),function(line){if(i=line.indexOf(":"),key=utils.trim(line.substr(0,i)).toLowerCase(),val=utils.trim(line.substr(i+1)),key){if(parsed[key]&&0<=ignoreDuplicateOf.indexOf(key))return;parsed[key]="set-cookie"===key?(parsed[key]?parsed[key]:[]).concat([val]):parsed[key]?parsed[key]+", "+val:val}}),parsed):parsed}},{"./../utils":65}],63:[function(require,module){'use strict';module.exports=function(callback){return function(arr){return callback.apply(null,arr)}}},{}],64:[function(require,module){'use strict';function isOlderVersion(version,thanVersion){for(var pkgVersionArr=thanVersion?thanVersion.split("."):currentVerArr,destVer=version.split("."),i=0;3>i;i++){if(pkgVersionArr[i]>destVer[i])return!0;if(pkgVersionArr[i]<destVer[i])return!1}return!1}var pkg=require("./../../package.json"),validators={};["object","boolean","number","function","string","symbol"].forEach(function(type,i){validators[type]=function(thing){return typeof thing===type||"a"+(1>i?"n ":" ")+type}});var deprecatedWarnings={},currentVerArr=pkg.version.split(".");validators.transitional=function(validator,version,message){function formatMessage(opt,desc){return"[Axios v"+pkg.version+"] Transitional option '"+opt+"'"+desc+(message?". "+message:"")}var isDeprecated=version&&isOlderVersion(version);return function(value,opt,opts){if(!1===validator)throw new Error(formatMessage(opt," has been removed in "+version));return isDeprecated&&!deprecatedWarnings[opt]&&(deprecatedWarnings[opt]=!0,console.warn(formatMessage(opt," has been deprecated since v"+version+" and will be removed in the near future"))),!validator||validator(value,opt,opts)}},module.exports={isOlderVersion:isOlderVersion,assertOptions:function(options,schema,allowUnknown){if("object"!=typeof options)throw new TypeError("options must be an object");for(var keys=Object.keys(options),i=keys.length;0<i--;){var opt=keys[i],validator=schema[opt];if(validator){var value=options[opt],result=value===void 0||validator(value,opt,options);if(!0!==result)throw new TypeError("option "+opt+" must be "+result);continue}if(!0!==allowUnknown)throw Error("Unknown option "+opt)}},validators:validators}},{"./../../package.json":66}],65:[function(require,module){'use strict';function isArray(val){return"[object Array]"===toString.call(val)}function isUndefined(val){return"undefined"==typeof val}function isObject(val){return null!==val&&"object"==typeof val}function isPlainObject(val){if("[object Object]"!==toString.call(val))return!1;var prototype=Object.getPrototypeOf(val);return null===prototype||prototype===Object.prototype}function isFunction(val){return"[object Function]"===toString.call(val)}function forEach(obj,fn){if(null!==obj&&"undefined"!=typeof obj)if("object"!=typeof obj&&(obj=[obj]),isArray(obj))for(var i=0,l=obj.length;i<l;i++)fn.call(null,obj[i],i,obj);else for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&fn.call(null,obj[key],key,obj)}function merge(){function assignValue(val,key){result[key]=isPlainObject(result[key])&&isPlainObject(val)?merge(result[key],val):isPlainObject(val)?merge({},val):isArray(val)?val.slice():val}for(var result={},i=0,l=arguments.length;i<l;i++)forEach(arguments[i],assignValue);return result}var bind=require("./helpers/bind"),toString=Object.prototype.toString;module.exports={isArray:isArray,isArrayBuffer:function(val){return"[object ArrayBuffer]"===toString.call(val)},isBuffer:function(val){return null!==val&&!isUndefined(val)&&null!==val.constructor&&!isUndefined(val.constructor)&&"function"==typeof val.constructor.isBuffer&&val.constructor.isBuffer(val)},isFormData:function(val){return"undefined"!=typeof FormData&&val instanceof FormData},isArrayBufferView:function(val){var result;return result="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(val):val&&val.buffer&&val.buffer instanceof ArrayBuffer,result},isString:function(val){return"string"==typeof val},isNumber:function(val){return"number"==typeof val},isObject:isObject,isPlainObject:isPlainObject,isUndefined:isUndefined,isDate:function(val){return"[object Date]"===toString.call(val)},isFile:function(val){return"[object File]"===toString.call(val)},isBlob:function(val){return"[object Blob]"===toString.call(val)},isFunction:isFunction,isStream:function(val){return isObject(val)&&isFunction(val.pipe)},isURLSearchParams:function(val){return"undefined"!=typeof URLSearchParams&&val instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:forEach,merge:merge,extend:function(a,b,thisArg){return forEach(b,function(val,key){a[key]=thisArg&&"function"==typeof val?bind(val,thisArg):val}),a},trim:function(str){return str.trim?str.trim():str.replace(/^\s+|\s+$/g,"")},stripBOM:function(content){return 65279===content.charCodeAt(0)&&(content=content.slice(1)),content}}},{"./helpers/bind":54}],66:[function(require,module){module.exports={name:"axios",version:"0.21.3",description:"Promise based HTTP client for the browser and node.js",main:"index.js",scripts:{test:"grunt test",start:"node ./sandbox/server.js",build:"NODE_ENV=production grunt build",preversion:"npm test",version:"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json",postversion:"git push && git push --tags",examples:"node ./examples/server.js",coveralls:"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js",fix:"eslint --fix lib/**/*.js"},repository:{type:"git",url:"https://github.com/axios/axios.git"},keywords:["xhr","http","ajax","promise","node"],author:"Matt Zabriskie",license:"MIT",bugs:{url:"https://github.com/axios/axios/issues"},homepage:"https://axios-http.com",devDependencies:{coveralls:"^3.0.0","es6-promise":"^4.2.4",grunt:"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1",karma:"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2",minimist:"^1.2.0",mocha:"^8.2.1",sinon:"^4.5.0","terser-webpack-plugin":"^4.2.3",typescript:"^4.0.5","url-search-params":"^0.10.0",webpack:"^4.44.2","webpack-dev-server":"^3.11.0"},browser:{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},jsdelivr:"dist/axios.min.js",unpkg:"dist/axios.min.js",typings:"./index.d.ts",dependencies:{"follow-redirects":"^1.14.0"},bundlesize:[{path:"./dist/axios.min.js",threshold:"5kB"}]}},{}],67:[function(require,module,exports){'use strict';function getLens(b64){var len=b64.length;if(0<len%4)throw new Error("Invalid string. Length must be a multiple of 4");var validLen=b64.indexOf("=");-1===validLen&&(validLen=len);var placeHoldersLen=validLen===len?0:4-validLen%4;return[validLen,placeHoldersLen]}function _byteLength(b64,validLen,placeHoldersLen){return 3*(validLen+placeHoldersLen)/4-placeHoldersLen}function toByteArray(b64){var lens=getLens(b64),validLen=lens[0],placeHoldersLen=lens[1],arr=new Arr(_byteLength(b64,validLen,placeHoldersLen)),curByte=0,len=0<placeHoldersLen?validLen-4:validLen,tmp,i;for(i=0;i<len;i+=4)tmp=revLookup[b64.charCodeAt(i)]<<18|revLookup[b64.charCodeAt(i+1)]<<12|revLookup[b64.charCodeAt(i+2)]<<6|revLookup[b64.charCodeAt(i+3)],arr[curByte++]=255&tmp>>16,arr[curByte++]=255&tmp>>8,arr[curByte++]=255&tmp;return 2===placeHoldersLen&&(tmp=revLookup[b64.charCodeAt(i)]<<2|revLookup[b64.charCodeAt(i+1)]>>4,arr[curByte++]=255&tmp),1===placeHoldersLen&&(tmp=revLookup[b64.charCodeAt(i)]<<10|revLookup[b64.charCodeAt(i+1)]<<4|revLookup[b64.charCodeAt(i+2)]>>2,arr[curByte++]=255&tmp>>8,arr[curByte++]=255&tmp),arr}function tripletToBase64(num){return lookup[63&num>>18]+lookup[63&num>>12]+lookup[63&num>>6]+lookup[63&num]}function encodeChunk(uint8,start,end){for(var output=[],i=start,tmp;i<end;i+=3)tmp=(16711680&uint8[i]<<16)+(65280&uint8[i+1]<<8)+(255&uint8[i+2]),output.push(tripletToBase64(tmp));return output.join("")}exports.byteLength=function byteLength(b64){var lens=getLens(b64),validLen=lens[0],placeHoldersLen=lens[1];return 3*(validLen+placeHoldersLen)/4-placeHoldersLen},exports.toByteArray=toByteArray,exports.fromByteArray=function fromByteArray(uint8){for(var len=uint8.length,extraBytes=len%3,parts=[],maxChunkLength=16383,i=0,len2=len-extraBytes,tmp;i<len2;i+=maxChunkLength)parts.push(encodeChunk(uint8,i,i+maxChunkLength>len2?len2:i+maxChunkLength));return 1===extraBytes?(tmp=uint8[len-1],parts.push(lookup[tmp>>2]+lookup[63&tmp<<4]+"==")):2===extraBytes&&(tmp=(uint8[len-2]<<8)+uint8[len-1],parts.push(lookup[tmp>>10]+lookup[63&tmp>>4]+lookup[63&tmp<<2]+"=")),parts.join("")};for(var lookup=[],revLookup=[],Arr="undefined"==typeof Uint8Array?Array:Uint8Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,len=code.length;i<len;++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;revLookup[45]=62,revLookup[95]=63},{}],68:[function(){},{}],69:[function(require,module,exports){(function(global){(function(){/*! https://mths.be/punycode v1.4.1 by @mathias */(function(root){function error(type){throw new RangeError(errors[type])}function map(array,fn){for(var length=array.length,result=[];length--;)result[length]=fn(array[length]);return result}function mapDomain(string,fn){var parts=string.split("@"),result="";1<parts.length&&(result=parts[0]+"@",string=parts[1]),string=string.replace(regexSeparators,".");var labels=string.split("."),encoded=map(labels,fn).join(".");return result+encoded}function ucs2decode(string){for(var output=[],counter=0,length=string.length,value,extra;counter<length;)value=string.charCodeAt(counter++),55296<=value&&56319>=value&&counter<length?(extra=string.charCodeAt(counter++),56320==(64512&extra)?output.push(((1023&value)<<10)+(1023&extra)+65536):(output.push(value),counter--)):output.push(value);return output}function ucs2encode(array){return map(array,function(value){var output="";return 65535<value&&(value-=65536,output+=stringFromCharCode(55296|1023&value>>>10),value=56320|1023&value),output+=stringFromCharCode(value),output}).join("")}function basicToDigit(codePoint){return 10>codePoint-48?codePoint-22:26>codePoint-65?codePoint-65:26>codePoint-97?codePoint-97:36}function digitToBasic(digit,flag){return digit+22+75*(26>digit)-((0!=flag)<<5)}function adapt(delta,numPoints,firstTime){var k=0;for(delta=firstTime?floor(delta/700):delta>>1,delta+=floor(delta/numPoints);455<delta;k+=36)delta=floor(delta/35);return floor(k+36*delta/(delta+38))}function decode(input){var output=[],inputLength=input.length,i=0,n=128,bias=72,out,basic,j,index,oldi,w,k,digit,t,baseMinusT;for(basic=input.lastIndexOf("-"),0>basic&&(basic=0),j=0;j<basic;++j)128<=input.charCodeAt(j)&&error("not-basic"),output.push(input.charCodeAt(j));for(index=0<basic?basic+1:0;index<inputLength;){for(oldi=i,w=1,k=36;;k+=36){if(index>=inputLength&&error("invalid-input"),digit=basicToDigit(input.charCodeAt(index++)),(36<=digit||digit>floor((2147483647-i)/w))&&error("overflow"),i+=digit*w,t=k<=bias?1:k>=bias+26?26:k-bias,digit<t)break;baseMinusT=36-t,w>floor(2147483647/baseMinusT)&&error("overflow"),w*=baseMinusT}out=output.length+1,bias=adapt(i-oldi,out,0==oldi),floor(i/out)>2147483647-n&&error("overflow"),n+=floor(i/out),i%=out,output.splice(i++,0,n)}return ucs2encode(output)}function encode(input){var output=[],n,delta,handledCPCount,basicLength,bias,j,m,q,k,t,currentValue,inputLength,handledCPCountPlusOne,baseMinusT,qMinusT;for(input=ucs2decode(input),inputLength=input.length,n=128,delta=0,bias=72,j=0;j<inputLength;++j)currentValue=input[j],128>currentValue&&output.push(stringFromCharCode(currentValue));for(handledCPCount=basicLength=output.length,basicLength&&output.push("-");handledCPCount<inputLength;){for(m=2147483647,j=0;j<inputLength;++j)currentValue=input[j],currentValue>=n&&currentValue<m&&(m=currentValue);for(handledCPCountPlusOne=handledCPCount+1,m-n>floor((2147483647-delta)/handledCPCountPlusOne)&&error("overflow"),delta+=(m-n)*handledCPCountPlusOne,n=m,j=0;j<inputLength;++j)if(currentValue=input[j],currentValue<n&&2147483647<++delta&&error("overflow"),currentValue==n){for(q=delta,k=36;;k+=36){if(t=k<=bias?1:k>=bias+26?26:k-bias,q<t)break;qMinusT=q-t,baseMinusT=36-t,output.push(stringFromCharCode(digitToBasic(t+qMinusT%baseMinusT,0))),q=floor(qMinusT/baseMinusT)}output.push(stringFromCharCode(digitToBasic(q,0))),bias=adapt(delta,handledCPCountPlusOne,handledCPCount==basicLength),delta=0,++handledCPCount}++delta,++n}return output.join("")}var freeExports="object"==typeof exports&&exports&&!exports.nodeType&&exports,freeModule="object"==typeof module&&module&&!module.nodeType&&module,freeGlobal="object"==typeof global&&global;(freeGlobal.global===freeGlobal||freeGlobal.window===freeGlobal||freeGlobal.self===freeGlobal)&&(root=freeGlobal);var regexPunycode=/^xn--/,regexNonASCII=/[^\x20-\x7E]/,regexSeparators=/[\x2E\u3002\uFF0E\uFF61]/g,errors={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},floor=Math.floor,stringFromCharCode=String.fromCharCode,punycode,key;if(punycode={version:"1.4.1",ucs2:{decode:ucs2decode,encode:ucs2encode},decode:decode,encode:encode,toASCII:function(input){return mapDomain(input,function(string){return regexNonASCII.test(string)?"xn--"+encode(string):string})},toUnicode:function(input){return mapDomain(input,function(string){return regexPunycode.test(string)?decode(string.slice(4).toLowerCase()):string})}},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return punycode});else if(!(freeExports&&freeModule))root.punycode=punycode;else if(module.exports==freeExports)freeModule.exports=punycode;else for(key in punycode)punycode.hasOwnProperty(key)&&(freeExports[key]=punycode[key])})(this)}).call(this)}).call(this,"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global)},{}],70:[function(require,module,exports){(function(){(function(){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */'use strict';function createBuffer(length){if(2147483647<length)throw new RangeError("The value \""+length+"\" is invalid for option \"size\"");var buf=new Uint8Array(length);return buf.__proto__=Buffer.prototype,buf}function Buffer(arg,encodingOrOffset,length){if("number"==typeof arg){if("string"==typeof encodingOrOffset)throw new TypeError("The \"string\" argument must be of type string. Received type number");return allocUnsafe(arg)}return from(arg,encodingOrOffset,length)}function from(value,encodingOrOffset,length){if("string"==typeof value)return fromString(value,encodingOrOffset);if(ArrayBuffer.isView(value))return fromArrayLike(value);if(null==value)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof value);if(isInstance(value,ArrayBuffer)||value&&isInstance(value.buffer,ArrayBuffer))return fromArrayBuffer(value,encodingOrOffset,length);if("number"==typeof value)throw new TypeError("The \"value\" argument must not be of type number. Received type number");var valueOf=value.valueOf&&value.valueOf();if(null!=valueOf&&valueOf!==value)return Buffer.from(valueOf,encodingOrOffset,length);var b=fromObject(value);if(b)return b;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof value[Symbol.toPrimitive])return Buffer.from(value[Symbol.toPrimitive]("string"),encodingOrOffset,length);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof value)}function assertSize(size){if("number"!=typeof size)throw new TypeError("\"size\" argument must be of type number");else if(0>size)throw new RangeError("The value \""+size+"\" is invalid for option \"size\"")}function alloc(size,fill,encoding){return assertSize(size),0>=size?createBuffer(size):void 0===fill?createBuffer(size):"string"==typeof encoding?createBuffer(size).fill(fill,encoding):createBuffer(size).fill(fill)}function allocUnsafe(size){return assertSize(size),createBuffer(0>size?0:0|checked(size))}function fromString(string,encoding){if(("string"!=typeof encoding||""===encoding)&&(encoding="utf8"),!Buffer.isEncoding(encoding))throw new TypeError("Unknown encoding: "+encoding);var length=0|byteLength(string,encoding),buf=createBuffer(length),actual=buf.write(string,encoding);return actual!==length&&(buf=buf.slice(0,actual)),buf}function fromArrayLike(array){for(var length=0>array.length?0:0|checked(array.length),buf=createBuffer(length),i=0;i<length;i+=1)buf[i]=255&array[i];return buf}function fromArrayBuffer(array,byteOffset,length){if(0>byteOffset||array.byteLength<byteOffset)throw new RangeError("\"offset\" is outside of buffer bounds");if(array.byteLength<byteOffset+(length||0))throw new RangeError("\"length\" is outside of buffer bounds");var buf;return buf=void 0===byteOffset&&void 0===length?new Uint8Array(array):void 0===length?new Uint8Array(array,byteOffset):new Uint8Array(array,byteOffset,length),buf.__proto__=Buffer.prototype,buf}function fromObject(obj){if(Buffer.isBuffer(obj)){var len=0|checked(obj.length),buf=createBuffer(len);return 0===buf.length?buf:(obj.copy(buf,0,0,len),buf)}return void 0===obj.length?"Buffer"===obj.type&&Array.isArray(obj.data)?fromArrayLike(obj.data):void 0:"number"!=typeof obj.length||numberIsNaN(obj.length)?createBuffer(0):fromArrayLike(obj)}function checked(length){if(length>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647 .toString(16)+" bytes");return 0|length}function byteLength(string,encoding){if(Buffer.isBuffer(string))return string.length;if(ArrayBuffer.isView(string)||isInstance(string,ArrayBuffer))return string.byteLength;if("string"!=typeof string)throw new TypeError("The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. Received type "+typeof string);var len=string.length,mustMatch=2<arguments.length&&!0===arguments[2];if(!mustMatch&&0===len)return 0;for(var loweredCase=!1;;)switch(encoding){case"ascii":case"latin1":case"binary":return len;case"utf8":case"utf-8":return utf8ToBytes(string).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*len;case"hex":return len>>>1;case"base64":return base64ToBytes(string).length;default:if(loweredCase)return mustMatch?-1:utf8ToBytes(string).length;encoding=(""+encoding).toLowerCase(),loweredCase=!0;}}function slowToString(encoding,start,end){var loweredCase=!1;if((void 0===start||0>start)&&(start=0),start>this.length)return"";if((void 0===end||end>this.length)&&(end=this.length),0>=end)return"";if(end>>>=0,start>>>=0,end<=start)return"";for(encoding||(encoding="utf8");;)switch(encoding){case"hex":return hexSlice(this,start,end);case"utf8":case"utf-8":return utf8Slice(this,start,end);case"ascii":return asciiSlice(this,start,end);case"latin1":case"binary":return latin1Slice(this,start,end);case"base64":return base64Slice(this,start,end);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,start,end);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(encoding+"").toLowerCase(),loweredCase=!0;}}function swap(b,n,m){var i=b[n];b[n]=b[m],b[m]=i}function bidirectionalIndexOf(buffer,val,byteOffset,encoding,dir){if(0===buffer.length)return-1;if("string"==typeof byteOffset?(encoding=byteOffset,byteOffset=0):2147483647<byteOffset?byteOffset=2147483647:-2147483648>byteOffset&&(byteOffset=-2147483648),byteOffset=+byteOffset,numberIsNaN(byteOffset)&&(byteOffset=dir?0:buffer.length-1),0>byteOffset&&(byteOffset=buffer.length+byteOffset),byteOffset>=buffer.length){if(dir)return-1;byteOffset=buffer.length-1}else if(0>byteOffset)if(dir)byteOffset=0;else return-1;if("string"==typeof val&&(val=Buffer.from(val,encoding)),Buffer.isBuffer(val))return 0===val.length?-1:arrayIndexOf(buffer,val,byteOffset,encoding,dir);if("number"==typeof val)return val&=255,"function"==typeof Uint8Array.prototype.indexOf?dir?Uint8Array.prototype.indexOf.call(buffer,val,byteOffset):Uint8Array.prototype.lastIndexOf.call(buffer,val,byteOffset):arrayIndexOf(buffer,[val],byteOffset,encoding,dir);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(arr,val,byteOffset,encoding,dir){function read(buf,i){return 1===indexSize?buf[i]:buf.readUInt16BE(i*indexSize)}var indexSize=1,arrLength=arr.length,valLength=val.length;if(void 0!==encoding&&(encoding=(encoding+"").toLowerCase(),"ucs2"===encoding||"ucs-2"===encoding||"utf16le"===encoding||"utf-16le"===encoding)){if(2>arr.length||2>val.length)return-1;indexSize=2,arrLength/=2,valLength/=2,byteOffset/=2}var i;if(dir){var foundIndex=-1;for(i=byteOffset;i<arrLength;i++)if(read(arr,i)!==read(val,-1===foundIndex?0:i-foundIndex))-1!==foundIndex&&(i-=i-foundIndex),foundIndex=-1;else if(-1===foundIndex&&(foundIndex=i),i-foundIndex+1===valLength)return foundIndex*indexSize}else for(byteOffset+valLength>arrLength&&(byteOffset=arrLength-valLength),i=byteOffset;0<=i;i--){for(var found=!0,j=0;j<valLength;j++)if(read(arr,i+j)!==read(val,j)){found=!1;break}if(found)return i}return-1}function hexWrite(buf,string,offset,length){offset=+offset||0;var remaining=buf.length-offset;length?(length=+length,length>remaining&&(length=remaining)):length=remaining;var strLen=string.length;length>strLen/2&&(length=strLen/2);for(var i=0,parsed;i<length;++i){if(parsed=parseInt(string.substr(2*i,2),16),numberIsNaN(parsed))return i;buf[offset+i]=parsed}return i}function utf8Write(buf,string,offset,length){return blitBuffer(utf8ToBytes(string,buf.length-offset),buf,offset,length)}function asciiWrite(buf,string,offset,length){return blitBuffer(asciiToBytes(string),buf,offset,length)}function latin1Write(buf,string,offset,length){return asciiWrite(buf,string,offset,length)}function base64Write(buf,string,offset,length){return blitBuffer(base64ToBytes(string),buf,offset,length)}function ucs2Write(buf,string,offset,length){return blitBuffer(utf16leToBytes(string,buf.length-offset),buf,offset,length)}function base64Slice(buf,start,end){return 0===start&&end===buf.length?base64.fromByteArray(buf):base64.fromByteArray(buf.slice(start,end))}function utf8Slice(buf,start,end){end=Math.min(buf.length,end);for(var res=[],i=start;i<end;){var firstByte=buf[i],codePoint=null,bytesPerSequence=239<firstByte?4:223<firstByte?3:191<firstByte?2:1;if(i+bytesPerSequence<=end){var secondByte,thirdByte,fourthByte,tempCodePoint;1===bytesPerSequence?128>firstByte&&(codePoint=firstByte):2===bytesPerSequence?(secondByte=buf[i+1],128==(192&secondByte)&&(tempCodePoint=(31&firstByte)<<6|63&secondByte,127<tempCodePoint&&(codePoint=tempCodePoint))):3===bytesPerSequence?(secondByte=buf[i+1],thirdByte=buf[i+2],128==(192&secondByte)&&128==(192&thirdByte)&&(tempCodePoint=(15&firstByte)<<12|(63&secondByte)<<6|63&thirdByte,2047<tempCodePoint&&(55296>tempCodePoint||57343<tempCodePoint)&&(codePoint=tempCodePoint))):4===bytesPerSequence?(secondByte=buf[i+1],thirdByte=buf[i+2],fourthByte=buf[i+3],128==(192&secondByte)&&128==(192&thirdByte)&&128==(192&fourthByte)&&(tempCodePoint=(15&firstByte)<<18|(63&secondByte)<<12|(63&thirdByte)<<6|63&fourthByte,65535<tempCodePoint&&1114112>tempCodePoint&&(codePoint=tempCodePoint))):void 0}null===codePoint?(codePoint=65533,bytesPerSequence=1):65535<codePoint&&(codePoint-=65536,res.push(55296|1023&codePoint>>>10),codePoint=56320|1023&codePoint),res.push(codePoint),i+=bytesPerSequence}return decodeCodePointsArray(res)}function decodeCodePointsArray(codePoints){var len=codePoints.length;if(len<=4096)return String.fromCharCode.apply(String,codePoints);for(var res="",i=0;i<len;)res+=String.fromCharCode.apply(String,codePoints.slice(i,i+=4096));return res}function asciiSlice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i)ret+=String.fromCharCode(127&buf[i]);return ret}function latin1Slice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i)ret+=String.fromCharCode(buf[i]);return ret}function hexSlice(buf,start,end){var len=buf.length;(!start||0>start)&&(start=0),(!end||0>end||end>len)&&(end=len);for(var out="",i=start;i<end;++i)out+=toHex(buf[i]);return out}function utf16leSlice(buf,start,end){for(var bytes=buf.slice(start,end),res="",i=0;i<bytes.length;i+=2)res+=String.fromCharCode(bytes[i]+256*bytes[i+1]);return res}function checkOffset(offset,ext,length){if(0!=offset%1||0>offset)throw new RangeError("offset is not uint");if(offset+ext>length)throw new RangeError("Trying to access beyond buffer length")}function checkInt(buf,value,offset,ext,max,min){if(!Buffer.isBuffer(buf))throw new TypeError("\"buffer\" argument must be a Buffer instance");if(value>max||value<min)throw new RangeError("\"value\" argument is out of bounds");if(offset+ext>buf.length)throw new RangeError("Index out of range")}function checkIEEE754(buf,value,offset,ext){if(offset+ext>buf.length)throw new RangeError("Index out of range");if(0>offset)throw new RangeError("Index out of range")}function writeFloat(buf,value,offset,littleEndian,noAssert){return value=+value,offset>>>=0,noAssert||checkIEEE754(buf,value,offset,4,34028234663852886e22,-34028234663852886e22),ieee754.write(buf,value,offset,littleEndian,23,4),offset+4}function writeDouble(buf,value,offset,littleEndian,noAssert){return value=+value,offset>>>=0,noAssert||checkIEEE754(buf,value,offset,8,17976931348623157e292,-17976931348623157e292),ieee754.write(buf,value,offset,littleEndian,52,8),offset+8}function base64clean(str){if(str=str.split("=")[0],str=str.trim().replace(INVALID_BASE64_RE,""),2>str.length)return"";for(;0!=str.length%4;)str+="=";return str}function toHex(n){return 16>n?"0"+n.toString(16):n.toString(16)}function utf8ToBytes(string,units){units=units||1/0;for(var length=string.length,leadSurrogate=null,bytes=[],i=0,codePoint;i<length;++i){if(codePoint=string.charCodeAt(i),55295<codePoint&&57344>codePoint){if(!leadSurrogate){if(56319<codePoint){-1<(units-=3)&&bytes.push(239,191,189);continue}else if(i+1===length){-1<(units-=3)&&bytes.push(239,191,189);continue}leadSurrogate=codePoint;continue}if(56320>codePoint){-1<(units-=3)&&bytes.push(239,191,189),leadSurrogate=codePoint;continue}codePoint=(leadSurrogate-55296<<10|codePoint-56320)+65536}else leadSurrogate&&-1<(units-=3)&&bytes.push(239,191,189);if(leadSurrogate=null,128>codePoint){if(0>(units-=1))break;bytes.push(codePoint)}else if(2048>codePoint){if(0>(units-=2))break;bytes.push(192|codePoint>>6,128|63&codePoint)}else if(65536>codePoint){if(0>(units-=3))break;bytes.push(224|codePoint>>12,128|63&codePoint>>6,128|63&codePoint)}else if(1114112>codePoint){if(0>(units-=4))break;bytes.push(240|codePoint>>18,128|63&codePoint>>12,128|63&codePoint>>6,128|63&codePoint)}else throw new Error("Invalid code point")}return bytes}function asciiToBytes(str){for(var byteArray=[],i=0;i<str.length;++i)byteArray.push(255&str.charCodeAt(i));return byteArray}function utf16leToBytes(str,units){for(var byteArray=[],i=0,c,hi,lo;i<str.length&&!(0>(units-=2));++i)c=str.charCodeAt(i),hi=c>>8,lo=c%256,byteArray.push(lo),byteArray.push(hi);return byteArray}function base64ToBytes(str){return base64.toByteArray(base64clean(str))}function blitBuffer(src,dst,offset,length){for(var i=0;i<length&&!(i+offset>=dst.length||i>=src.length);++i)dst[i+offset]=src[i];return i}function isInstance(obj,type){return obj instanceof type||null!=obj&&null!=obj.constructor&&null!=obj.constructor.name&&obj.constructor.name===type.name}function numberIsNaN(obj){return obj!==obj}var base64=require("base64-js"),ieee754=require("ieee754");exports.Buffer=Buffer,exports.SlowBuffer=function(length){return+length!=length&&(length=0),Buffer.alloc(+length)},exports.INSPECT_MAX_BYTES=50;exports.kMaxLength=2147483647,Buffer.TYPED_ARRAY_SUPPORT=function(){try{var arr=new Uint8Array(1);return arr.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===arr.foo()}catch(e){return!1}}(),Buffer.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(Buffer.prototype,"parent",{enumerable:!0,get:function(){return Buffer.isBuffer(this)?this.buffer:void 0}}),Object.defineProperty(Buffer.prototype,"offset",{enumerable:!0,get:function(){return Buffer.isBuffer(this)?this.byteOffset:void 0}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),Buffer.poolSize=8192,Buffer.from=function(value,encodingOrOffset,length){return from(value,encodingOrOffset,length)},Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,Buffer.alloc=function(size,fill,encoding){return alloc(size,fill,encoding)},Buffer.allocUnsafe=function(size){return allocUnsafe(size)},Buffer.allocUnsafeSlow=function(size){return allocUnsafe(size)},Buffer.isBuffer=function(b){return null!=b&&!0===b._isBuffer&&b!==Buffer.prototype},Buffer.compare=function(a,b){if(isInstance(a,Uint8Array)&&(a=Buffer.from(a,a.offset,a.byteLength)),isInstance(b,Uint8Array)&&(b=Buffer.from(b,b.offset,b.byteLength)),!Buffer.isBuffer(a)||!Buffer.isBuffer(b))throw new TypeError("The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array");if(a===b)return 0;for(var x=a.length,y=b.length,i=0,len=Math.min(x,y);i<len;++i)if(a[i]!==b[i]){x=a[i],y=b[i];break}return x<y?-1:y<x?1:0},Buffer.isEncoding=function(encoding){switch((encoding+"").toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1;}},Buffer.concat=function(list,length){if(!Array.isArray(list))throw new TypeError("\"list\" argument must be an Array of Buffers");if(0===list.length)return Buffer.alloc(0);var i;if(length===void 0)for(length=0,i=0;i<list.length;++i)length+=list[i].length;var buffer=Buffer.allocUnsafe(length),pos=0;for(i=0;i<list.length;++i){var buf=list[i];if(isInstance(buf,Uint8Array)&&(buf=Buffer.from(buf)),!Buffer.isBuffer(buf))throw new TypeError("\"list\" argument must be an Array of Buffers");buf.copy(buffer,pos),pos+=buf.length}return buffer},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function(){var len=this.length;if(0!=len%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var i=0;i<len;i+=2)swap(this,i,i+1);return this},Buffer.prototype.swap32=function(){var len=this.length;if(0!=len%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var i=0;i<len;i+=4)swap(this,i,i+3),swap(this,i+1,i+2);return this},Buffer.prototype.swap64=function(){var len=this.length;if(0!=len%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var i=0;i<len;i+=8)swap(this,i,i+7),swap(this,i+1,i+6),swap(this,i+2,i+5),swap(this,i+3,i+4);return this},Buffer.prototype.toString=function(){var length=this.length;return 0===length?"":0===arguments.length?utf8Slice(this,0,length):slowToString.apply(this,arguments)},Buffer.prototype.toLocaleString=Buffer.prototype.toString,Buffer.prototype.equals=function(b){if(!Buffer.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b||0===Buffer.compare(this,b)},Buffer.prototype.inspect=function(){var str="",max=exports.INSPECT_MAX_BYTES;return str=this.toString("hex",0,max).replace(/(.{2})/g,"$1 ").trim(),this.length>max&&(str+=" ... "),"<Buffer "+str+">"},Buffer.prototype.compare=function(target,start,end,thisStart,thisEnd){if(isInstance(target,Uint8Array)&&(target=Buffer.from(target,target.offset,target.byteLength)),!Buffer.isBuffer(target))throw new TypeError("The \"target\" argument must be one of type Buffer or Uint8Array. Received type "+typeof target);if(void 0===start&&(start=0),void 0===end&&(end=target?target.length:0),void 0===thisStart&&(thisStart=0),void 0===thisEnd&&(thisEnd=this.length),0>start||end>target.length||0>thisStart||thisEnd>this.length)throw new RangeError("out of range index");if(thisStart>=thisEnd&&start>=end)return 0;if(thisStart>=thisEnd)return-1;if(start>=end)return 1;if(start>>>=0,end>>>=0,thisStart>>>=0,thisEnd>>>=0,this===target)return 0;for(var x=thisEnd-thisStart,y=end-start,len=Math.min(x,y),thisCopy=this.slice(thisStart,thisEnd),targetCopy=target.slice(start,end),i=0;i<len;++i)if(thisCopy[i]!==targetCopy[i]){x=thisCopy[i],y=targetCopy[i];break}return x<y?-1:y<x?1:0},Buffer.prototype.includes=function(val,byteOffset,encoding){return-1!==this.indexOf(val,byteOffset,encoding)},Buffer.prototype.indexOf=function(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,!0)},Buffer.prototype.lastIndexOf=function(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,!1)},Buffer.prototype.write=function(string,offset,length,encoding){if(void 0===offset)encoding="utf8",length=this.length,offset=0;else if(void 0===length&&"string"==typeof offset)encoding=offset,length=this.length,offset=0;else if(isFinite(offset))offset>>>=0,isFinite(length)?(length>>>=0,void 0===encoding&&(encoding="utf8")):(encoding=length,length=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var remaining=this.length-offset;if((void 0===length||length>remaining)&&(length=remaining),0<string.length&&(0>length||0>offset)||offset>this.length)throw new RangeError("Attempt to write outside buffer bounds");encoding||(encoding="utf8");for(var loweredCase=!1;;)switch(encoding){case"hex":return hexWrite(this,string,offset,length);case"utf8":case"utf-8":return utf8Write(this,string,offset,length);case"ascii":return asciiWrite(this,string,offset,length);case"latin1":case"binary":return latin1Write(this,string,offset,length);case"base64":return base64Write(this,string,offset,length);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,string,offset,length);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(""+encoding).toLowerCase(),loweredCase=!0;}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};Buffer.prototype.slice=function(start,end){var len=this.length;start=~~start,end=end===void 0?len:~~end,0>start?(start+=len,0>start&&(start=0)):start>len&&(start=len),0>end?(end+=len,0>end&&(end=0)):end>len&&(end=len),end<start&&(end=start);var newBuf=this.subarray(start,end);return newBuf.__proto__=Buffer.prototype,newBuf},Buffer.prototype.readUIntLE=function(offset,byteLength,noAssert){offset>>>=0,byteLength>>>=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset],mul=1,i=0;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return val},Buffer.prototype.readUIntBE=function(offset,byteLength,noAssert){offset>>>=0,byteLength>>>=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset+--byteLength],mul=1;0<byteLength&&(mul*=256);)val+=this[offset+--byteLength]*mul;return val},Buffer.prototype.readUInt8=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,1,this.length),this[offset]},Buffer.prototype.readUInt16LE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,2,this.length),this[offset]|this[offset+1]<<8},Buffer.prototype.readUInt16BE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,2,this.length),this[offset]<<8|this[offset+1]},Buffer.prototype.readUInt32LE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,4,this.length),(this[offset]|this[offset+1]<<8|this[offset+2]<<16)+16777216*this[offset+3]},Buffer.prototype.readUInt32BE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,4,this.length),16777216*this[offset]+(this[offset+1]<<16|this[offset+2]<<8|this[offset+3])},Buffer.prototype.readIntLE=function(offset,byteLength,noAssert){offset>>>=0,byteLength>>>=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset],mul=1,i=0;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return mul*=128,val>=mul&&(val-=Math.pow(2,8*byteLength)),val},Buffer.prototype.readIntBE=function(offset,byteLength,noAssert){offset>>>=0,byteLength>>>=0,noAssert||checkOffset(offset,byteLength,this.length);for(var i=byteLength,mul=1,val=this[offset+--i];0<i&&(mul*=256);)val+=this[offset+--i]*mul;return mul*=128,val>=mul&&(val-=Math.pow(2,8*byteLength)),val},Buffer.prototype.readInt8=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,1,this.length),128&this[offset]?-1*(255-this[offset]+1):this[offset]},Buffer.prototype.readInt16LE=function(offset,noAssert){offset>>>=0,noAssert||checkOffset(offset,2,this.length);var val=this[offset]|this[offset+1]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt16BE=function(offset,noAssert){offset>>>=0,noAssert||checkOffset(offset,2,this.length);var val=this[offset+1]|this[offset]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt32LE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,4,this.length),this[offset]|this[offset+1]<<8|this[offset+2]<<16|this[offset+3]<<24},Buffer.prototype.readInt32BE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,4,this.length),this[offset]<<24|this[offset+1]<<16|this[offset+2]<<8|this[offset+3]},Buffer.prototype.readFloatLE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,4,this.length),ieee754.read(this,offset,!0,23,4)},Buffer.prototype.readFloatBE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,4,this.length),ieee754.read(this,offset,!1,23,4)},Buffer.prototype.readDoubleLE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,8,this.length),ieee754.read(this,offset,!0,52,8)},Buffer.prototype.readDoubleBE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,8,this.length),ieee754.read(this,offset,!1,52,8)},Buffer.prototype.writeUIntLE=function(value,offset,byteLength,noAssert){if(value=+value,offset>>>=0,byteLength>>>=0,!noAssert){var maxBytes=Math.pow(2,8*byteLength)-1;checkInt(this,value,offset,byteLength,maxBytes,0)}var mul=1,i=0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)this[offset+i]=255&value/mul;return offset+byteLength},Buffer.prototype.writeUIntBE=function(value,offset,byteLength,noAssert){if(value=+value,offset>>>=0,byteLength>>>=0,!noAssert){var maxBytes=Math.pow(2,8*byteLength)-1;checkInt(this,value,offset,byteLength,maxBytes,0)}var i=byteLength-1,mul=1;for(this[offset+i]=255&value;0<=--i&&(mul*=256);)this[offset+i]=255&value/mul;return offset+byteLength},Buffer.prototype.writeUInt8=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,1,255,0),this[offset]=255&value,offset+1},Buffer.prototype.writeUInt16LE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,2,65535,0),this[offset]=255&value,this[offset+1]=value>>>8,offset+2},Buffer.prototype.writeUInt16BE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,2,65535,0),this[offset]=value>>>8,this[offset+1]=255&value,offset+2},Buffer.prototype.writeUInt32LE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,4,4294967295,0),this[offset+3]=value>>>24,this[offset+2]=value>>>16,this[offset+1]=value>>>8,this[offset]=255&value,offset+4},Buffer.prototype.writeUInt32BE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,4,4294967295,0),this[offset]=value>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=255&value,offset+4},Buffer.prototype.writeIntLE=function(value,offset,byteLength,noAssert){if(value=+value,offset>>>=0,!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=0,mul=1,sub=0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)0>value&&0===sub&&0!==this[offset+i-1]&&(sub=1),this[offset+i]=255&(value/mul>>0)-sub;return offset+byteLength},Buffer.prototype.writeIntBE=function(value,offset,byteLength,noAssert){if(value=+value,offset>>>=0,!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=byteLength-1,mul=1,sub=0;for(this[offset+i]=255&value;0<=--i&&(mul*=256);)0>value&&0===sub&&0!==this[offset+i+1]&&(sub=1),this[offset+i]=255&(value/mul>>0)-sub;return offset+byteLength},Buffer.prototype.writeInt8=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,1,127,-128),0>value&&(value=255+value+1),this[offset]=255&value,offset+1},Buffer.prototype.writeInt16LE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,2,32767,-32768),this[offset]=255&value,this[offset+1]=value>>>8,offset+2},Buffer.prototype.writeInt16BE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,2,32767,-32768),this[offset]=value>>>8,this[offset+1]=255&value,offset+2},Buffer.prototype.writeInt32LE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),this[offset]=255&value,this[offset+1]=value>>>8,this[offset+2]=value>>>16,this[offset+3]=value>>>24,offset+4},Buffer.prototype.writeInt32BE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),0>value&&(value=4294967295+value+1),this[offset]=value>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=255&value,offset+4},Buffer.prototype.writeFloatLE=function(value,offset,noAssert){return writeFloat(this,value,offset,!0,noAssert)},Buffer.prototype.writeFloatBE=function(value,offset,noAssert){return writeFloat(this,value,offset,!1,noAssert)},Buffer.prototype.writeDoubleLE=function(value,offset,noAssert){return writeDouble(this,value,offset,!0,noAssert)},Buffer.prototype.writeDoubleBE=function(value,offset,noAssert){return writeDouble(this,value,offset,!1,noAssert)},Buffer.prototype.copy=function(target,targetStart,start,end){if(!Buffer.isBuffer(target))throw new TypeError("argument should be a Buffer");if(start||(start=0),end||0===end||(end=this.length),targetStart>=target.length&&(targetStart=target.length),targetStart||(targetStart=0),0<end&&end<start&&(end=start),end===start)return 0;if(0===target.length||0===this.length)return 0;if(0>targetStart)throw new RangeError("targetStart out of bounds");if(0>start||start>=this.length)throw new RangeError("Index out of range");if(0>end)throw new RangeError("sourceEnd out of bounds");end>this.length&&(end=this.length),target.length-targetStart<end-start&&(end=target.length-targetStart+start);var len=end-start;if(this===target&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(targetStart,start,end);else if(this===target&&start<targetStart&&targetStart<end)for(var i=len-1;0<=i;--i)target[i+targetStart]=this[i+start];else Uint8Array.prototype.set.call(target,this.subarray(start,end),targetStart);return len},Buffer.prototype.fill=function(val,start,end,encoding){if("string"==typeof val){if("string"==typeof start?(encoding=start,start=0,end=this.length):"string"==typeof end&&(encoding=end,end=this.length),void 0!==encoding&&"string"!=typeof encoding)throw new TypeError("encoding must be a string");if("string"==typeof encoding&&!Buffer.isEncoding(encoding))throw new TypeError("Unknown encoding: "+encoding);if(1===val.length){var code=val.charCodeAt(0);("utf8"===encoding&&128>code||"latin1"===encoding)&&(val=code)}}else"number"==typeof val&&(val&=255);if(0>start||this.length<start||this.length<end)throw new RangeError("Out of range index");if(end<=start)return this;start>>>=0,end=end===void 0?this.length:end>>>0,val||(val=0);var i;if("number"==typeof val)for(i=start;i<end;++i)this[i]=val;else{var bytes=Buffer.isBuffer(val)?val:Buffer.from(val,encoding),len=bytes.length;if(0===len)throw new TypeError("The value \""+val+"\" is invalid for argument \"value\"");for(i=0;i<end-start;++i)this[i+start]=bytes[i%len]}return this};var INVALID_BASE64_RE=/[^+/0-9A-Za-z-_]/g}).call(this)}).call(this,require("buffer").Buffer)},{"base64-js":67,buffer:70,ieee754:87}],71:[function(require,module){module.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},{}],72:[function(require,module,exports){arguments[4][3][0].apply(exports,arguments)},{dup:3}],73:[function(require,module,exports){arguments[4][4][0].apply(exports,arguments)},{"./Deferred":72,"./isAsync":78,dup:4}],74:[function(require,module,exports){arguments[4][5][0].apply(exports,arguments)},{dup:5}],75:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.default=(func,wait,immediate=!1,allowTriallingCall=!0)=>{var timeout;return function(){var context=this,args=arguments,callNow=immediate&&!timeout;clearTimeout(timeout),timeout=setTimeout(function(){timeout=null,allowTriallingCall&&func.apply(context,args)},wait),callNow&&func.apply(context,args)}}},{}],76:[function(require,module,exports){arguments[4][7][0].apply(exports,arguments)},{"./Deferred":72,dup:7}],77:[function(require,module,exports){arguments[4][8][0].apply(exports,arguments)},{"./Deferred":72,"./async":73,"./chain":74,"./debounce":75,"./delay":76,"./isAsync":78,"./measurements":79,"./sleep":80,"./throttle":81,"./waitUntil":82,dup:8}],78:[function(require,module,exports){arguments[4][9][0].apply(exports,arguments)},{dup:9}],79:[function(require,module,exports){"use strict";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0}),exports.getMeasureAndReset=exports.peekMeasure=exports.startMeasure=exports.measure=void 0;let _measures={};exports.measure=function(fn){return __awaiter(this,void 0,void 0,function*(){const start=new Date().getTime();yield fn();const duration=new Date().getTime()-start;return duration})},exports.startMeasure=function(measureName="_"){return null==_measures[measureName]?(_measures[measureName]=new Date().getTime(),0):exports.peekMeasure(measureName)},exports.peekMeasure=function(measureName="_"){return null==_measures[measureName]?0:new Date().getTime()-_measures[measureName]},exports.getMeasureAndReset=function(measureName="_"){let ret=exports.peekMeasure(measureName);return _measures[measureName]=null,ret}},{}],80:[function(require,module,exports){arguments[4][11][0].apply(exports,arguments)},{dup:11}],81:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.default=(func,wait,immediate=!0,allowTriallingCall=!1)=>{var timeout;return function(){var context=this,args=arguments;null!=timeout||(timeout=setTimeout(function(){timeout=null,(!immediate||allowTriallingCall)&&func.apply(context,args)},wait),immediate&&func.apply(context,args))}}},{}],82:[function(require,module,exports){arguments[4][13][0].apply(exports,arguments)},{"./Deferred":72,"./async":73,dup:13}],83:[function(require,module,exports){(function(root){Array.prototype.map||(Array.prototype.map=function(callback,thisArg){var T,A,k;if(null==this)throw new TypeError(" this is null or not defined");var O=Object(this),len=O.length>>>0;if("function"!=typeof callback)throw new TypeError(callback+" is not a function");for(thisArg&&(T=thisArg),A=Array(len),k=0;k<len;){var kValue,mappedValue;k in O&&(kValue=O[k],mappedValue=callback.call(T,kValue,k,O),A[k]=mappedValue),k++}return A});var detect=root.detect=function(){var _this=function(){};_this.parsers=["device_parsers","browser_parsers","os_parsers","mobile_os_families","mobile_browser_families"],_this.types=["browser","os","device"],_this.regexes={browser_parsers:[{regex:"^(Opera)/(\\d+)\\.(\\d+) \\(Nintendo Wii",family_replacement:"Wii",manufacturer:"Nintendo"},{regex:"(SeaMonkey|Camino)/(\\d+)\\.(\\d+)\\.?([ab]?\\d+[a-z]*)",family_replacement:"Camino",other:!0},{regex:"(Pale[Mm]oon)/(\\d+)\\.(\\d+)\\.?(\\d+)?",family_replacement:"Pale Moon (Firefox Variant)",other:!0},{regex:"(Fennec)/(\\d+)\\.(\\d+)\\.?([ab]?\\d+[a-z]*)",family_replacement:"Firefox Mobile"},{regex:"(Fennec)/(\\d+)\\.(\\d+)(pre)",family_replacment:"Firefox Mobile"},{regex:"(Fennec)/(\\d+)\\.(\\d+)",family_replacement:"Firefox Mobile"},{regex:"Mobile.*(Firefox)/(\\d+)\\.(\\d+)",family_replacement:"Firefox Mobile"},{regex:"(Namoroka|Shiretoko|Minefield)/(\\d+)\\.(\\d+)\\.(\\d+(?:pre)?)",family_replacement:"Firefox ($1)"},{regex:"(Firefox)/(\\d+)\\.(\\d+)(a\\d+[a-z]*)",family_replacement:"Firefox Alpha"},{regex:"(Firefox)/(\\d+)\\.(\\d+)(b\\d+[a-z]*)",family_replacement:"Firefox Beta"},{regex:"(Firefox)-(?:\\d+\\.\\d+)?/(\\d+)\\.(\\d+)(a\\d+[a-z]*)",family_replacement:"Firefox Alpha"},{regex:"(Firefox)-(?:\\d+\\.\\d+)?/(\\d+)\\.(\\d+)(b\\d+[a-z]*)",family_replacement:"Firefox Beta"},{regex:"(Namoroka|Shiretoko|Minefield)/(\\d+)\\.(\\d+)([ab]\\d+[a-z]*)?",family_replacement:"Firefox ($1)"},{regex:"(Firefox).*Tablet browser (\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"MicroB",tablet:!0},{regex:"(MozillaDeveloperPreview)/(\\d+)\\.(\\d+)([ab]\\d+[a-z]*)?"},{regex:"(Flock)/(\\d+)\\.(\\d+)(b\\d+?)",family_replacement:"Flock",other:!0},{regex:"(RockMelt)/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Rockmelt",other:!0},{regex:"(Navigator)/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Netscape"},{regex:"(Navigator)/(\\d+)\\.(\\d+)([ab]\\d+)",family_replacement:"Netscape"},{regex:"(Netscape6)/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Netscape"},{regex:"(MyIBrow)/(\\d+)\\.(\\d+)",family_replacement:"My Internet Browser",other:!0},{regex:"(Opera Tablet).*Version/(\\d+)\\.(\\d+)(?:\\.(\\d+))?",family_replacement:"Opera Tablet",tablet:!0},{regex:"(Opera)/.+Opera Mobi.+Version/(\\d+)\\.(\\d+)",family_replacement:"Opera Mobile"},{regex:"Opera Mobi",family_replacement:"Opera Mobile"},{regex:"(Opera Mini)/(\\d+)\\.(\\d+)",family_replacement:"Opera Mini"},{regex:"(Opera Mini)/att/(\\d+)\\.(\\d+)",family_replacement:"Opera Mini"},{regex:"(Opera)/9.80.*Version/(\\d+)\\.(\\d+)(?:\\.(\\d+))?",family_replacement:"Opera"},{regex:"(OPR)/(\\d+)\\.(\\d+)(?:\\.(\\d+))?",family_replacement:"Opera"},{regex:"(webOSBrowser)/(\\d+)\\.(\\d+)",family_replacement:"webOS"},{regex:"(webOS)/(\\d+)\\.(\\d+)",family_replacement:"webOS"},{regex:"(wOSBrowser).+TouchPad/(\\d+)\\.(\\d+)",family_replacement:"webOS TouchPad"},{regex:"(luakit)",family_replacement:"LuaKit",other:!0},{regex:"(Lightning)/(\\d+)\\.(\\d+)([ab]?\\d+[a-z]*)",family_replacement:"Lightning",other:!0},{regex:"(Firefox)/(\\d+)\\.(\\d+)\\.(\\d+(?:pre)?) \\(Swiftfox\\)",family_replacement:"Swiftfox",other:!0},{regex:"(Firefox)/(\\d+)\\.(\\d+)([ab]\\d+[a-z]*)? \\(Swiftfox\\)",family_replacement:"Swiftfox",other:!0},{regex:"rekonq",family_replacement:"Rekonq",other:!0},{regex:"(conkeror|Conkeror)/(\\d+)\\.(\\d+)\\.?(\\d+)?",family_replacement:"Conkeror",other:!0},{regex:"(konqueror)/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Konqueror",other:!0},{regex:"(WeTab)-Browser",family_replacement:"WeTab",other:!0},{regex:"(Comodo_Dragon)/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Comodo Dragon",other:!0},{regex:"(YottaaMonitor)",family_replacement:"Yottaa Monitor",other:!0},{regex:"(Kindle)/(\\d+)\\.(\\d+)",family_replacement:"Kindle"},{regex:"(Symphony) (\\d+).(\\d+)",family_replacement:"Symphony",other:!0},{regex:"Minimo",family_replacement:"Minimo",other:!0},{regex:"(Edge)/(\\d+)\\.(\\d+)",family_replacement:"Edge"},{regex:"(CrMo)/(\\d+)\\.(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Chrome Mobile"},{regex:"(CriOS)/(\\d+)\\.(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Chrome Mobile iOS"},{regex:"(Chrome)/(\\d+)\\.(\\d+)\\.(\\d+)\\.(\\d+) Mobile",family_replacement:"Chrome Mobile"},{regex:"(chromeframe)/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Chrome Frame"},{regex:"(UC Browser)(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"UC Browser",other:!0},{regex:"(SLP Browser)/(\\d+)\\.(\\d+)",family_replacement:"Tizen Browser",other:!0},{regex:"(Epiphany)/(\\d+)\\.(\\d+).(\\d+)",family_replacement:"Epiphany",other:!0},{regex:"(SE 2\\.X) MetaSr (\\d+)\\.(\\d+)",family_replacement:"Sogou Explorer",other:!0},{regex:"(Pingdom.com_bot_version_)(\\d+)\\.(\\d+)",family_replacement:"PingdomBot",other:!0},{regex:"(facebookexternalhit)/(\\d+)\\.(\\d+)",family_replacement:"FacebookBot"},{regex:"(Twitterbot)/(\\d+)\\.(\\d+)",family_replacement:"TwitterBot"},{regex:"(AdobeAIR|Chromium|FireWeb|Jasmine|ANTGalio|Midori|Fresco|Lobo|PaleMoon|Maxthon|Lynx|OmniWeb|Dillo|Camino|Demeter|Fluid|Fennec|Shiira|Sunrise|Chrome|Flock|Netscape|Lunascape|WebPilot|NetFront|Netfront|Konqueror|SeaMonkey|Kazehakase|Vienna|Iceape|Iceweasel|IceWeasel|Iron|K-Meleon|Sleipnir|Galeon|GranParadiso|Opera Mini|iCab|NetNewsWire|ThunderBrowse|Iron|Iris|UP\\.Browser|Bunjaloo|Google Earth|Raven for Mac)/(\\d+)\\.(\\d+)\\.(\\d+)"},{regex:"(Bolt|Jasmine|IceCat|Skyfire|Midori|Maxthon|Lynx|Arora|IBrowse|Dillo|Camino|Shiira|Fennec|Phoenix|Chrome|Flock|Netscape|Lunascape|Epiphany|WebPilot|Opera Mini|Opera|NetFront|Netfront|Konqueror|Googlebot|SeaMonkey|Kazehakase|Vienna|Iceape|Iceweasel|IceWeasel|Iron|K-Meleon|Sleipnir|Galeon|GranParadiso|iCab|NetNewsWire|Iron|Space Bison|Stainless|Orca|Dolfin|BOLT|Minimo|Tizen Browser|Polaris)/(\\d+)\\.(\\d+)"},{regex:"(iRider|Crazy Browser|SkipStone|iCab|Lunascape|Sleipnir|Maemo Browser) (\\d+)\\.(\\d+)\\.(\\d+)"},{regex:"(iCab|Lunascape|Opera|Android|Jasmine|Polaris|BREW) (\\d+)\\.(\\d+)\\.?(\\d+)?"},{regex:"(Android) Donut",v2_replacement:"2",v1_replacement:"1"},{regex:"(Android) Eclair",v2_replacement:"1",v1_replacement:"2"},{regex:"(Android) Froyo",v2_replacement:"2",v1_replacement:"2"},{regex:"(Android) Gingerbread",v2_replacement:"3",v1_replacement:"2"},{regex:"(Android) Honeycomb",v1_replacement:"3"},{regex:"(IEMobile)[ /](\\d+)\\.(\\d+)",family_replacement:"IE Mobile"},{regex:"(MSIE) (\\d+)\\.(\\d+).*XBLWP7",family_replacement:"IE Large Screen"},{regex:"(Firefox)/(\\d+)\\.(\\d+)\\.(\\d+)"},{regex:"(Firefox)/(\\d+)\\.(\\d+)(pre|[ab]\\d+[a-z]*)?"},{regex:"(Obigo)InternetBrowser",other:!0},{regex:"(Obigo)\\-Browser",other:!0},{regex:"(Obigo|OBIGO)[^\\d]*(\\d+)(?:.(\\d+))?",other:!0},{regex:"(MAXTHON|Maxthon) (\\d+)\\.(\\d+)",family_replacement:"Maxthon",other:!0},{regex:"(Maxthon|MyIE2|Uzbl|Shiira)",v1_replacement:"0",other:!0},{regex:"(PLAYSTATION) (\\d+)",family_replacement:"PlayStation",manufacturer:"Sony"},{regex:"(PlayStation Portable)[^\\d]+(\\d+).(\\d+)",manufacturer:"Sony"},{regex:"(BrowseX) \\((\\d+)\\.(\\d+)\\.(\\d+)",other:!0},{regex:"(POLARIS)/(\\d+)\\.(\\d+)",family_replacement:"Polaris",other:!0},{regex:"(Embider)/(\\d+)\\.(\\d+)",family_replacement:"Polaris",other:!0},{regex:"(BonEcho)/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Bon Echo",other:!0},{regex:"(iPod).+Version/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Mobile Safari",manufacturer:"Apple"},{regex:"(iPod).*Version/(\\d+)\\.(\\d+)",family_replacement:"Mobile Safari",manufacturer:"Apple"},{regex:"(iPod)",family_replacement:"Mobile Safari",manufacturer:"Apple"},{regex:"(iPhone).*Version/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Mobile Safari",manufacturer:"Apple"},{regex:"(iPhone).*Version/(\\d+)\\.(\\d+)",family_replacement:"Mobile Safari",manufacturer:"Apple"},{regex:"(iPhone)",family_replacement:"Mobile Safari",manufacturer:"Apple"},{regex:"(iPad).*Version/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Mobile Safari",tablet:!0,manufacturer:"Apple"},{regex:"(iPad).*Version/(\\d+)\\.(\\d+)",family_replacement:"Mobile Safari",tablet:!0,manufacturer:"Apple"},{regex:"(iPad)",family_replacement:"Mobile Safari",tablet:!0,manufacturer:"Apple"},{regex:"(AvantGo) (\\d+).(\\d+)",other:!0},{regex:"(Avant)",v1_replacement:"1",other:!0},{regex:"^(Nokia)",family_replacement:"Nokia Services (WAP) Browser",manufacturer:"Nokia"},{regex:"(NokiaBrowser)/(\\d+)\\.(\\d+).(\\d+)\\.(\\d+)",manufacturer:"Nokia"},{regex:"(NokiaBrowser)/(\\d+)\\.(\\d+).(\\d+)",manufacturer:"Nokia"},{regex:"(NokiaBrowser)/(\\d+)\\.(\\d+)",manufacturer:"Nokia"},{regex:"(BrowserNG)/(\\d+)\\.(\\d+).(\\d+)",family_replacement:"NokiaBrowser",manufacturer:"Nokia"},{regex:"(Series60)/5\\.0",v2_replacement:"0",v1_replacement:"7",family_replacement:"NokiaBrowser",manufacturer:"Nokia"},{regex:"(Series60)/(\\d+)\\.(\\d+)",family_replacement:"Nokia OSS Browser",manufacturer:"Nokia"},{regex:"(S40OviBrowser)/(\\d+)\\.(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Nokia Series 40 Ovi Browser",manufacturer:"Nokia"},{regex:"(Nokia)[EN]?(\\d+)",manufacturer:"Nokia"},{regex:"(PlayBook).+RIM Tablet OS (\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Blackberry WebKit",tablet:!0,manufacturer:"Nokia"},{regex:"(Black[bB]erry).+Version/(\\d+)\\.(\\d+)\\.(\\d+)",family_replacement:"Blackberry WebKit",manufacturer:"RIM"},{regex:"(Black[bB]erry)\\s?(\\d+)",family_replacement:"Blackberry",manufacturer:"RIM"},{regex:"(OmniWeb)/v(\\d+)\\.(\\d+)",other:!0},{regex:"(Blazer)/(\\d+)\\.(\\d+)",family_replacement:"Palm Blazer",manufacturer:"Palm"},{regex:"(Pre)/(\\d+)\\.(\\d+)",family_replacement:"Palm Pre",manufacturer:"Palm"},{regex:"(Links) \\((\\d+)\\.(\\d+)",other:!0},{regex:"(QtWeb) Internet Browser/(\\d+)\\.(\\d+)",other:!0},{regex:"(Silk)/(\\d+)\\.(\\d+)(?:\\.([0-9\\-]+))?",other:!0,tablet:!0},{regex:"(AppleWebKit)/(\\d+)\\.?(\\d+)?\\+ .* Version/\\d+\\.\\d+.\\d+ Safari/",family_replacement:"WebKit Nightly"},{regex:"(Version)/(\\d+)\\.(\\d+)(?:\\.(\\d+))?.*Safari/",family_replacement:"Safari"},{regex:"(Safari)/\\d+"},{regex:"(OLPC)/Update(\\d+)\\.(\\d+)",other:!0},{regex:"(OLPC)/Update()\\.(\\d+)",v1_replacement:"0",other:!0},{regex:"(SEMC\\-Browser)/(\\d+)\\.(\\d+)",other:!0},{regex:"(Teleca)",family_replacement:"Teleca Browser",other:!0},{regex:"Trident(.*)rv.(\\d+)\\.(\\d+)",family_replacement:"IE"},{regex:"(MSIE) (\\d+)\\.(\\d+)",family_replacement:"IE"}],os_parsers:[{regex:"(Android) (\\d+)\\.(\\d+)(?:[.\\-]([a-z0-9]+))?"},{regex:"(Android)\\-(\\d+)\\.(\\d+)(?:[.\\-]([a-z0-9]+))?"},{regex:"(Android) Donut",os_v2_replacement:"2",os_v1_replacement:"1"},{regex:"(Android) Eclair",os_v2_replacement:"1",os_v1_replacement:"2"},{regex:"(Android) Froyo",os_v2_replacement:"2",os_v1_replacement:"2"},{regex:"(Android) Gingerbread",os_v2_replacement:"3",os_v1_replacement:"2"},{regex:"(Android) Honeycomb",os_v1_replacement:"3"},{regex:"(Silk-Accelerated=[a-z]{4,5})",os_replacement:"Android"},{regex:"(Windows Phone 6\\.5)"},{regex:"(Windows (?:NT 5\\.2|NT 5\\.1))",os_replacement:"Windows XP"},{regex:"(XBLWP7)",os_replacement:"Windows Phone OS"},{regex:"(Windows NT 6\\.1)",os_replacement:"Windows 7"},{regex:"(Windows NT 6\\.0)",os_replacement:"Windows Vista"},{regex:"(Windows 98|Windows XP|Windows ME|Windows 95|Windows CE|Windows 7|Windows NT 4\\.0|Windows Vista|Windows 2000)"},{regex:"(Windows NT 6\\.4|Windows NT 10\\.0)",os_replacement:"Windows 10"},{regex:"(Windows NT 6\\.2)",os_replacement:"Windows 8"},{regex:"(Windows Phone 8)",os_replacement:"Windows Phone 8"},{regex:"(Windows NT 5\\.0)",os_replacement:"Windows 2000"},{regex:"(Windows Phone OS) (\\d+)\\.(\\d+)"},{regex:"(Windows ?Mobile)",os_replacement:"Windows Mobile"},{regex:"(WinNT4.0)",os_replacement:"Windows NT 4.0"},{regex:"(Win98)",os_replacement:"Windows 98"},{regex:"(Tizen)/(\\d+)\\.(\\d+)",other:!0},{regex:"(Mac OS X) (\\d+)[_.](\\d+)(?:[_.](\\d+))?",manufacturer:"Apple"},{regex:"(?:PPC|Intel) (Mac OS X)",manufacturer:"Apple"},{regex:"(CPU OS|iPhone OS) (\\d+)_(\\d+)(?:_(\\d+))?",os_replacement:"iOS",manufacturer:"Apple"},{regex:"(iPhone|iPad|iPod); Opera",os_replacement:"iOS",manufacturer:"Apple"},{regex:"(iPad); Opera",tablet:!0,manufacturer:"Apple"},{regex:"(iPhone|iPad|iPod).*Mac OS X.*Version/(\\d+)\\.(\\d+)",os_replacement:"iOS",manufacturer:"Apple"},{regex:"(CrOS) [a-z0-9_]+ (\\d+)\\.(\\d+)(?:\\.(\\d+))?",os_replacement:"Chrome OS"},{regex:"(Debian)-(\\d+)\\.(\\d+)\\.(\\d+)(?:\\.(\\d+))?",other:!0},{regex:"(Linux Mint)(?:/(\\d+))?",other:!0},{regex:"(Mandriva)(?: Linux)?/(\\d+)\\.(\\d+)\\.(\\d+)(?:\\.(\\d+))?",other:!0},{regex:"(Symbian[Oo][Ss])/(\\d+)\\.(\\d+)",os_replacement:"Symbian OS"},{regex:"(Symbian/3).+NokiaBrowser/7\\.3",os_replacement:"Symbian^3 Anna"},{regex:"(Symbian/3).+NokiaBrowser/7\\.4",os_replacement:"Symbian^3 Belle"},{regex:"(Symbian/3)",os_replacement:"Symbian^3"},{regex:"(Series 60|SymbOS|S60)",os_replacement:"Symbian OS"},{regex:"(MeeGo)",other:!0},{regex:"Symbian [Oo][Ss]",os_replacement:"Symbian OS"},{regex:"(Black[Bb]erry)[0-9a-z]+/(\\d+)\\.(\\d+)\\.(\\d+)(?:\\.(\\d+))?",os_replacement:"BlackBerry OS",manufacturer:"RIM"},{regex:"(Black[Bb]erry).+Version/(\\d+)\\.(\\d+)\\.(\\d+)(?:\\.(\\d+))?",os_replacement:"BlackBerry OS",manufacturer:"RIM"},{regex:"(RIM Tablet OS) (\\d+)\\.(\\d+)\\.(\\d+)",os_replacement:"BlackBerry Tablet OS",tablet:!0,manufacturer:"RIM"},{regex:"(Play[Bb]ook)",os_replacement:"BlackBerry Tablet OS",tablet:!0,manufacturer:"RIM"},{regex:"(Black[Bb]erry)",os_replacement:"Blackberry OS",manufacturer:"RIM"},{regex:"(webOS|hpwOS)/(\\d+)\\.(\\d+)(?:\\.(\\d+))?",os_replacement:"webOS"},{regex:"(SUSE|Fedora|Red Hat|PCLinuxOS)/(\\d+)\\.(\\d+)\\.(\\d+)\\.(\\d+)",other:!0},{regex:"(SUSE|Fedora|Red Hat|Puppy|PCLinuxOS|CentOS)/(\\d+)\\.(\\d+)\\.(\\d+)",other:!0},{regex:"(Ubuntu|Kindle|Bada|Lubuntu|BackTrack|Red Hat|Slackware)/(\\d+)\\.(\\d+)"},{regex:"(Windows|OpenBSD|FreeBSD|NetBSD|Ubuntu|Kubuntu|Android|Arch Linux|CentOS|WeTab|Slackware)"},{regex:"(Linux|BSD)",other:!0}],mobile_os_families:["Windows Phone 6.5","Windows CE","Symbian OS"],device_parsers:[{regex:"HTC ([A-Z][a-z0-9]+) Build",device_replacement:"HTC $1",manufacturer:"HTC"},{regex:"HTC ([A-Z][a-z0-9 ]+) \\d+\\.\\d+\\.\\d+\\.\\d+",device_replacement:"HTC $1",manufacturer:"HTC"},{regex:"HTC_Touch_([A-Za-z0-9]+)",device_replacement:"HTC Touch ($1)",manufacturer:"HTC"},{regex:"USCCHTC(\\d+)",device_replacement:"HTC $1 (US Cellular)",manufacturer:"HTC"},{regex:"Sprint APA(9292)",device_replacement:"HTC $1 (Sprint)",manufacturer:"HTC"},{regex:"HTC ([A-Za-z0-9]+ [A-Z])",device_replacement:"HTC $1",manufacturer:"HTC"},{regex:"HTC-([A-Za-z0-9]+)",device_replacement:"HTC $1",manufacturer:"HTC"},{regex:"HTC_([A-Za-z0-9]+)",device_replacement:"HTC $1",manufacturer:"HTC"},{regex:"HTC ([A-Za-z0-9]+)",device_replacement:"HTC $1",manufacturer:"HTC"},{regex:"(ADR[A-Za-z0-9]+)",device_replacement:"HTC $1",manufacturer:"HTC"},{regex:"(HTC)",manufacturer:"HTC"},{regex:"SonyEricsson([A-Za-z0-9]+)/",device_replacement:"Ericsson $1",other:!0,manufacturer:"Sony"},{regex:"Android[\\- ][\\d]+\\.[\\d]+\\; [A-Za-z]{2}\\-[A-Za-z]{2}\\; WOWMobile (.+) Build"},{regex:"Android[\\- ][\\d]+\\.[\\d]+\\.[\\d]+; [A-Za-z]{2}\\-[A-Za-z]{2}\\; (.+) Build"},{regex:"Android[\\- ][\\d]+\\.[\\d]+\\-update1\\; [A-Za-z]{2}\\-[A-Za-z]{2}\\; (.+) Build"},{regex:"Android[\\- ][\\d]+\\.[\\d]+\\; [A-Za-z]{2}\\-[A-Za-z]{2}\\; (.+) Build"},{regex:"Android[\\- ][\\d]+\\.[\\d]+\\.[\\d]+; (.+) Build"},{regex:"NokiaN([0-9]+)",device_replacement:"Nokia N$1",manufacturer:"Nokia"},{regex:"Nokia([A-Za-z0-9\\v-]+)",device_replacement:"Nokia $1",manufacturer:"Nokia"},{regex:"NOKIA ([A-Za-z0-9\\-]+)",device_replacement:"Nokia $1",manufacturer:"Nokia"},{regex:"Nokia ([A-Za-z0-9\\-]+)",device_replacement:"Nokia $1",manufacturer:"Nokia"},{regex:"Lumia ([A-Za-z0-9\\-]+)",device_replacement:"Lumia $1",manufacturer:"Nokia"},{regex:"Symbian",device_replacement:"Nokia",manufacturer:"Nokia"},{regex:"(PlayBook).+RIM Tablet OS",device_replacement:"Blackberry Playbook",tablet:!0,manufacturer:"RIM"},{regex:"(Black[Bb]erry [0-9]+);",manufacturer:"RIM"},{regex:"Black[Bb]erry([0-9]+)",device_replacement:"BlackBerry $1",manufacturer:"RIM"},{regex:"(Pre)/(\\d+)\\.(\\d+)",device_replacement:"Palm Pre",manufacturer:"Palm"},{regex:"(Pixi)/(\\d+)\\.(\\d+)",device_replacement:"Palm Pixi",manufacturer:"Palm"},{regex:"(Touchpad)/(\\d+)\\.(\\d+)",device_replacement:"HP Touchpad",manufacturer:"HP"},{regex:"HPiPAQ([A-Za-z0-9]+)/(\\d+).(\\d+)",device_replacement:"HP iPAQ $1",manufacturer:"HP"},{regex:"Palm([A-Za-z0-9]+)",device_replacement:"Palm $1",manufacturer:"Palm"},{regex:"Treo([A-Za-z0-9]+)",device_replacement:"Palm Treo $1",manufacturer:"Palm"},{regex:"webOS.*(P160UNA)/(\\d+).(\\d+)",device_replacement:"HP Veer",manufacturer:"HP"},{regex:"(Kindle Fire)",manufacturer:"Amazon"},{regex:"(Kindle)",manufacturer:"Amazon"},{regex:"(Silk)/(\\d+)\\.(\\d+)(?:\\.([0-9\\-]+))?",device_replacement:"Kindle Fire",tablet:!0,manufacturer:"Amazon"},{regex:"(iPad) Simulator;",manufacturer:"Apple"},{regex:"(iPad);",manufacturer:"Apple"},{regex:"(iPod);",manufacturer:"Apple"},{regex:"(iPhone) Simulator;",manufacturer:"Apple"},{regex:"(iPhone);",manufacturer:"Apple"},{regex:"Nexus\\ ([A-Za-z0-9\\-]+)",device_replacement:"Nexus $1"},{regex:"acer_([A-Za-z0-9]+)_",device_replacement:"Acer $1",manufacturer:"Acer"},{regex:"acer_([A-Za-z0-9]+)_",device_replacement:"Acer $1",manufacturer:"Acer"},{regex:"Amoi\\-([A-Za-z0-9]+)",device_replacement:"Amoi $1",other:!0,manufacturer:"Amoi"},{regex:"AMOI\\-([A-Za-z0-9]+)",device_replacement:"Amoi $1",other:!0,manufacturer:"Amoi"},{regex:"Asus\\-([A-Za-z0-9]+)",device_replacement:"Asus $1",manufacturer:"Asus"},{regex:"ASUS\\-([A-Za-z0-9]+)",device_replacement:"Asus $1",manufacturer:"Asus"},{regex:"BIRD\\-([A-Za-z0-9]+)",device_replacement:"Bird $1",other:!0},{regex:"BIRD\\.([A-Za-z0-9]+)",device_replacement:"Bird $1",other:!0},{regex:"BIRD ([A-Za-z0-9]+)",device_replacement:"Bird $1",other:!0},{regex:"Dell ([A-Za-z0-9]+)",device_replacement:"Dell $1",manufacturer:"Dell"},{regex:"DoCoMo/2\\.0 ([A-Za-z0-9]+)",device_replacement:"DoCoMo $1",other:!0},{regex:"([A-Za-z0-9]+)\\_W\\;FOMA",device_replacement:"DoCoMo $1",other:!0},{regex:"([A-Za-z0-9]+)\\;FOMA",device_replacement:"DoCoMo $1",other:!0},{regex:"vodafone([A-Za-z0-9]+)",device_replacement:"Huawei Vodafone $1",other:!0},{regex:"i\\-mate ([A-Za-z0-9]+)",device_replacement:"i-mate $1",other:!0},{regex:"Kyocera\\-([A-Za-z0-9]+)",device_replacement:"Kyocera $1",other:!0},{regex:"KWC\\-([A-Za-z0-9]+)",device_replacement:"Kyocera $1",other:!0},{regex:"Lenovo\\-([A-Za-z0-9]+)",device_replacement:"Lenovo $1",manufacturer:"Lenovo"},{regex:"Lenovo\\_([A-Za-z0-9]+)",device_replacement:"Lenovo $1",manufacturer:"Levovo"},{regex:"LG/([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"LG-LG([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"LGE-LG([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"LGE VX([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"LG ([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"LGE LG\\-AX([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"LG\\-([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"LGE\\-([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"LG([A-Za-z0-9]+)",device_replacement:"LG $1",manufacturer:"LG"},{regex:"(KIN)\\.One (\\d+)\\.(\\d+)",device_replacement:"Microsoft $1"},{regex:"(KIN)\\.Two (\\d+)\\.(\\d+)",device_replacement:"Microsoft $1"},{regex:"(Motorola)\\-([A-Za-z0-9]+)",manufacturer:"Motorola"},{regex:"MOTO\\-([A-Za-z0-9]+)",device_replacement:"Motorola $1",manufacturer:"Motorola"},{regex:"MOT\\-([A-Za-z0-9]+)",device_replacement:"Motorola $1",manufacturer:"Motorola"},{regex:"Philips([A-Za-z0-9]+)",device_replacement:"Philips $1",manufacturer:"Philips"},{regex:"Philips ([A-Za-z0-9]+)",device_replacement:"Philips $1",manufacturer:"Philips"},{regex:"SAMSUNG-([A-Za-z0-9\\-]+)",device_replacement:"Samsung $1",manufacturer:"Samsung"},{regex:"SAMSUNG\\; ([A-Za-z0-9\\-]+)",device_replacement:"Samsung $1",manufacturer:"Samsung"},{regex:"Softbank/1\\.0/([A-Za-z0-9]+)",device_replacement:"Softbank $1",other:!0},{regex:"Softbank/2\\.0/([A-Za-z0-9]+)",device_replacement:"Softbank $1",other:!0},{regex:"(hiptop|avantgo|plucker|xiino|blazer|elaine|up.browser|up.link|mmp|smartphone|midp|wap|vodafone|o2|pocket|mobile|pda)",device_replacement:"Generic Smartphone"},{regex:"^(1207|3gso|4thp|501i|502i|503i|504i|505i|506i|6310|6590|770s|802s|a wa|acer|acs\\-|airn|alav|asus|attw|au\\-m|aur |aus |abac|acoo|aiko|alco|alca|amoi|anex|anny|anyw|aptu|arch|argo|bell|bird|bw\\-n|bw\\-u|beck|benq|bilb|blac|c55/|cdm\\-|chtm|capi|comp|cond|craw|dall|dbte|dc\\-s|dica|ds\\-d|ds12|dait|devi|dmob|doco|dopo|el49|erk0|esl8|ez40|ez60|ez70|ezos|ezze|elai|emul|eric|ezwa|fake|fly\\-|fly\\_|g\\-mo|g1 u|g560|gf\\-5|grun|gene|go.w|good|grad|hcit|hd\\-m|hd\\-p|hd\\-t|hei\\-|hp i|hpip|hs\\-c|htc |htc\\-|htca|htcg)",device_replacement:"Generic Feature Phone"},{regex:"^(htcp|htcs|htct|htc\\_|haie|hita|huaw|hutc|i\\-20|i\\-go|i\\-ma|i230|iac|iac\\-|iac/|ig01|im1k|inno|iris|jata|java|kddi|kgt|kgt/|kpt |kwc\\-|klon|lexi|lg g|lg\\-a|lg\\-b|lg\\-c|lg\\-d|lg\\-f|lg\\-g|lg\\-k|lg\\-l|lg\\-m|lg\\-o|lg\\-p|lg\\-s|lg\\-t|lg\\-u|lg\\-w|lg/k|lg/l|lg/u|lg50|lg54|lge\\-|lge/|lynx|leno|m1\\-w|m3ga|m50/|maui|mc01|mc21|mcca|medi|meri|mio8|mioa|mo01|mo02|mode|modo|mot |mot\\-|mt50|mtp1|mtv |mate|maxo|merc|mits|mobi|motv|mozz|n100|n101|n102|n202|n203|n300|n302|n500|n502|n505|n700|n701|n710|nec\\-|nem\\-|newg|neon)",device_replacement:"Generic Feature Phone"},{regex:"^(netf|noki|nzph|o2 x|o2\\-x|opwv|owg1|opti|oran|ot\\-s|p800|pand|pg\\-1|pg\\-2|pg\\-3|pg\\-6|pg\\-8|pg\\-c|pg13|phil|pn\\-2|pt\\-g|palm|pana|pire|pock|pose|psio|qa\\-a|qc\\-2|qc\\-3|qc\\-5|qc\\-7|qc07|qc12|qc21|qc32|qc60|qci\\-|qwap|qtek|r380|r600|raks|rim9|rove|s55/|sage|sams|sc01|sch\\-|scp\\-|sdk/|se47|sec\\-|sec0|sec1|semc|sgh\\-|shar|sie\\-|sk\\-0|sl45|slid|smb3|smt5|sp01|sph\\-|spv |spv\\-|sy01|samm|sany|sava|scoo|send|siem|smar|smit|soft|sony|t\\-mo|t218|t250|t600|t610|t618|tcl\\-|tdg\\-|telm|tim\\-|ts70|tsm\\-|tsm3|tsm5|tx\\-9|tagt)",device_replacement:"Generic Feature Phone"},{regex:"^(talk|teli|topl|tosh|up.b|upg1|utst|v400|v750|veri|vk\\-v|vk40|vk50|vk52|vk53|vm40|vx98|virg|vite|voda|vulc|w3c |w3c\\-|wapj|wapp|wapu|wapm|wig |wapi|wapr|wapv|wapy|wapa|waps|wapt|winc|winw|wonu|x700|xda2|xdag|yas\\-|your|zte\\-|zeto|aste|audi|avan|blaz|brew|brvw|bumb|ccwa|cell|cldc|cmd\\-|dang|eml2|fetc|hipt|http|ibro|idea|ikom|ipaq|jbro|jemu|jigs|keji|kyoc|kyok|libw|m\\-cr|midp|mmef|moto|mwbp|mywa|newt|nok6|o2im|pant|pdxg|play|pluc|port|prox|rozo|sama|seri|smal|symb|treo|upsi|vx52|vx53|vx60|vx61|vx70|vx80|vx81|vx83|vx85|wap\\-|webc|whit|wmlb|xda\\-|xda\\_)",device_replacement:"Generic Feature Phone"},{regex:"(bot|borg|google(^tv)|yahoo|slurp|msnbot|msrbot|openbot|archiver|netresearch|lycos|scooter|altavista|teoma|gigabot|baiduspider|blitzbot|oegp|charlotte|furlbot|http%20client|polybot|htdig|ichiro|mogimogi|larbin|pompos|scrubby|searchsight|seekbot|semanticdiscovery|silk|snappy|speedy|spider|voila|vortex|voyager|zao|zeal|fast\\-webcrawler|converacrawler|dataparksearch|findlinks)",device_replacement:"Spider"}],mobile_browser_families:["Firefox Mobile","Opera Mobile","Opera Mini","Mobile Safari","webOS","IE Mobile","Playstation Portable","Nokia","Blackberry","Palm","Silk","Android","Maemo","Obigo","Netfront","AvantGo","Teleca","SEMC-Browser","Bolt","Iris","UP.Browser","Symphony","Minimo","Bunjaloo","Jasmine","Dolfin","Polaris","BREW","Chrome Mobile","Chrome Mobile iOS","UC Browser","Tizen Browser"]}||function(){var results={};return _this.parsers.map(function(parser){results[parser]=[]}),results}(),_this.families=function(){var results={};return _this.types.map(function(type){results[type]=[]}),results}();var ArrayProto=Array.prototype,ObjProto=Object.prototype,FuncProto=Function.prototype,nativeForEach=ArrayProto.forEach,nativeIndexOf=ArrayProto.indexOf,find=function(ua,obj){for(var ret={},i=0;i<obj.length&&(ret=obj[i](ua),!ret);i++);return ret},remove=function(arr,props){each(arr,function(obj){each(props,function(prop){delete obj[prop]})})},each=forEach=function(obj,iterator,context){if(null!=obj)if(nativeForEach&&obj.forEach===nativeForEach)obj.forEach(iterator,context);else if(obj.length===+obj.length)for(var i=0,l=obj.length;i<l;i++)iterator.call(context,obj[i],i,obj);else for(var key in obj)_.has(obj,key)&&iterator.call(context,obj[key],key,obj)},check=function(str){return!!(str&&"undefined"!=typeof str&&null!=str)},toVersionString=function(obj){var output="";return obj=obj||{},check(obj)&&check(obj.major)&&(output+=obj.major,check(obj.minor)&&(output+="."+obj.minor,check(obj.patch)&&(output+="."+obj.patch))),output},toString=function(obj){obj=obj||{};var suffix=toVersionString(obj);return suffix&&(suffix=" "+suffix),obj&&check(obj.family)?obj.family+suffix:""};return _this.parse=function(ua){var parsers=function(type){return _this.regexes[type+"_parsers"].map(function(obj){var regexp=new RegExp(obj.regex),rep=obj[("browser"===type?"family":type)+"_replacement"],major_rep=obj.major_version_replacement;return function(ua){var m=ua.match(regexp);if(!m)return null;var ret={family:(rep?rep.replace("$1",m[1]):m[1])||"other",major:parseInt(major_rep?major_rep:m[2])||null,minor:m[3]?parseInt(m[3]):null,patch:m[4]?parseInt(m[4]):null,tablet:obj.tablet,man:obj.manufacturer||null};return ret}})},browser_parsers=parsers("browser"),os_parsers=parsers("os"),device_parsers=parsers("device"),a=new function(){};a.source=ua,a.browser=find(ua,browser_parsers),check(a.browser)?(a.browser.name=toString(a.browser),a.browser.version=toVersionString(a.browser)):a.browser={},a.os=find(ua,os_parsers),check(a.os)?(a.os.name=toString(a.os),a.os.version=toVersionString(a.os)):a.os={},a.device=find(ua,device_parsers),check(a.device)?(a.device.name=toString(a.device),a.device.version=toVersionString(a.device)):a.device={tablet:!1,family:"Other"};var mobile_agents={},mobile_browser_families=_this.regexes.mobile_browser_families.map(function(str){mobile_agents[str]=!0}),mobile_os_families=_this.regexes.mobile_os_families.map(function(str){mobile_agents[str]=!0});return a.device.type="Spider"===a.browser.family?"Spider":a.browser.tablet||a.os.tablet||a.device.tablet?"Tablet":mobile_agents.hasOwnProperty(a.browser.family)?"Mobile":"Desktop",a.device.manufacturer=a.browser.man||a.os.man||a.device.man||null,remove([a.browser,a.os,a.device],["tablet","man"]),a},_this}();"undefined"==typeof exports?root.detect=detect:("undefined"!=typeof module&&module.exports&&(exports=module.exports=detect),exports.detect=detect),"function"==typeof define&&define.amd&&define(function(){return detect})})(window)},{}],84:[function(require,module){'use strict';function ProcessEmitWarning(warning){console&&console.warn&&console.warn(warning)}function EventEmitter(){EventEmitter.init.call(this)}function checkListener(listener){if("function"!=typeof listener)throw new TypeError("The \"listener\" argument must be of type Function. Received type "+typeof listener)}function _getMaxListeners(that){return void 0===that._maxListeners?EventEmitter.defaultMaxListeners:that._maxListeners}function _addListener(target,type,listener,prepend){var m,events,existing;if(checkListener(listener),events=target._events,void 0===events?(events=target._events=Object.create(null),target._eventsCount=0):(void 0!==events.newListener&&(target.emit("newListener",type,listener.listener?listener.listener:listener),events=target._events),existing=events[type]),void 0===existing)existing=events[type]=listener,++target._eventsCount;else if("function"==typeof existing?existing=events[type]=prepend?[listener,existing]:[existing,listener]:prepend?existing.unshift(listener):existing.push(listener),m=_getMaxListeners(target),0<m&&existing.length>m&&!existing.warned){existing.warned=!0;var w=new Error("Possible EventEmitter memory leak detected. "+existing.length+" "+(type+" listeners added. Use emitter.setMaxListeners() to increase limit"));w.name="MaxListenersExceededWarning",w.emitter=target,w.type=type,w.count=existing.length,ProcessEmitWarning(w)}return target}function onceWrapper(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _onceWrap(target,type,listener){var state={fired:!1,wrapFn:void 0,target:target,type:type,listener:listener},wrapped=onceWrapper.bind(state);return wrapped.listener=listener,state.wrapFn=wrapped,wrapped}function _listeners(target,type,unwrap){var events=target._events;if(events===void 0)return[];var evlistener=events[type];return void 0===evlistener?[]:"function"==typeof evlistener?unwrap?[evlistener.listener||evlistener]:[evlistener]:unwrap?unwrapListeners(evlistener):arrayClone(evlistener,evlistener.length)}function listenerCount(type){var events=this._events;if(events!==void 0){var evlistener=events[type];if("function"==typeof evlistener)return 1;if(void 0!==evlistener)return evlistener.length}return 0}function arrayClone(arr,n){for(var copy=Array(n),i=0;i<n;++i)copy[i]=arr[i];return copy}function spliceOne(list,index){for(;index+1<list.length;index++)list[index]=list[index+1];list.pop()}function unwrapListeners(arr){for(var ret=Array(arr.length),i=0;i<ret.length;++i)ret[i]=arr[i].listener||arr[i];return ret}function addErrorHandlerIfEventEmitter(emitter,handler,flags){"function"==typeof emitter.on&&eventTargetAgnosticAddListener(emitter,"error",handler,flags)}function eventTargetAgnosticAddListener(emitter,name,listener,flags){if("function"==typeof emitter.on)flags.once?emitter.once(name,listener):emitter.on(name,listener);else if("function"==typeof emitter.addEventListener)emitter.addEventListener(name,function wrapListener(arg){flags.once&&emitter.removeEventListener(name,wrapListener),listener(arg)});else throw new TypeError("The \"emitter\" argument must be of type EventEmitter. Received type "+typeof emitter)}var R="object"==typeof Reflect?Reflect:null,ReflectApply=R&&"function"==typeof R.apply?R.apply:function(target,receiver,args){return Function.prototype.apply.call(target,receiver,args)},ReflectOwnKeys;ReflectOwnKeys=R&&"function"==typeof R.ownKeys?R.ownKeys:Object.getOwnPropertySymbols?function(target){return Object.getOwnPropertyNames(target).concat(Object.getOwnPropertySymbols(target))}:function(target){return Object.getOwnPropertyNames(target)};var NumberIsNaN=Number.isNaN||function(value){return value!==value};module.exports=EventEmitter,module.exports.once=function(emitter,name){return new Promise(function(resolve,reject){function errorListener(err){emitter.removeListener(name,resolver),reject(err)}function resolver(){"function"==typeof emitter.removeListener&&emitter.removeListener("error",errorListener),resolve([].slice.call(arguments))}eventTargetAgnosticAddListener(emitter,name,resolver,{once:!0}),"error"!==name&&addErrorHandlerIfEventEmitter(emitter,errorListener,{once:!0})})},EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._eventsCount=0,EventEmitter.prototype._maxListeners=void 0;var defaultMaxListeners=10;Object.defineProperty(EventEmitter,"defaultMaxListeners",{enumerable:!0,get:function(){return defaultMaxListeners},set:function(arg){if("number"!=typeof arg||0>arg||NumberIsNaN(arg))throw new RangeError("The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received "+arg+".");defaultMaxListeners=arg}}),EventEmitter.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},EventEmitter.prototype.setMaxListeners=function(n){if("number"!=typeof n||0>n||NumberIsNaN(n))throw new RangeError("The value of \"n\" is out of range. It must be a non-negative number. Received "+n+".");return this._maxListeners=n,this},EventEmitter.prototype.getMaxListeners=function(){return _getMaxListeners(this)},EventEmitter.prototype.emit=function(type){for(var args=[],i=1;i<arguments.length;i++)args.push(arguments[i]);var doError="error"===type,events=this._events;if(events!==void 0)doError=doError&&events.error===void 0;else if(!doError)return!1;if(doError){var er;if(0<args.length&&(er=args[0]),er instanceof Error)throw er;var err=new Error("Unhandled error."+(er?" ("+er.message+")":""));throw err.context=er,err}var handler=events[type];if(handler===void 0)return!1;if("function"==typeof handler)ReflectApply(handler,this,args);else for(var len=handler.length,listeners=arrayClone(handler,len),i=0;i<len;++i)ReflectApply(listeners[i],this,args);return!0},EventEmitter.prototype.addListener=function(type,listener){return _addListener(this,type,listener,!1)},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.prependListener=function(type,listener){return _addListener(this,type,listener,!0)},EventEmitter.prototype.once=function(type,listener){return checkListener(listener),this.on(type,_onceWrap(this,type,listener)),this},EventEmitter.prototype.prependOnceListener=function(type,listener){return checkListener(listener),this.prependListener(type,_onceWrap(this,type,listener)),this},EventEmitter.prototype.removeListener=function(type,listener){var list,events,position,i,originalListener;if(checkListener(listener),events=this._events,void 0===events)return this;if(list=events[type],void 0===list)return this;if(list===listener||list.listener===listener)0==--this._eventsCount?this._events=Object.create(null):(delete events[type],events.removeListener&&this.emit("removeListener",type,list.listener||listener));else if("function"!=typeof list){for(position=-1,i=list.length-1;0<=i;i--)if(list[i]===listener||list[i].listener===listener){originalListener=list[i].listener,position=i;break}if(0>position)return this;0===position?list.shift():spliceOne(list,position),1===list.length&&(events[type]=list[0]),void 0!==events.removeListener&&this.emit("removeListener",type,originalListener||listener)}return this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.removeAllListeners=function(type){var listeners,events,i;if(events=this._events,void 0===events)return this;if(void 0===events.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==events[type]&&(0==--this._eventsCount?this._events=Object.create(null):delete events[type]),this;if(0===arguments.length){var keys=Object.keys(events),key;for(i=0;i<keys.length;++i)key=keys[i],"removeListener"!==key&&this.removeAllListeners(key);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(listeners=events[type],"function"==typeof listeners)this.removeListener(type,listeners);else if(void 0!==listeners)for(i=listeners.length-1;0<=i;i--)this.removeListener(type,listeners[i]);return this},EventEmitter.prototype.listeners=function(type){return _listeners(this,type,!0)},EventEmitter.prototype.rawListeners=function(type){return _listeners(this,type,!1)},EventEmitter.listenerCount=function(emitter,type){return"function"==typeof emitter.listenerCount?emitter.listenerCount(type):listenerCount.call(emitter,type)},EventEmitter.prototype.listenerCount=listenerCount,EventEmitter.prototype.eventNames=function(){return 0<this._eventsCount?ReflectOwnKeys(this._events):[]}},{}],85:[function(require,module){module.exports="object"==typeof self?self.FormData:window.FormData},{}],86:[function(require,module){function validateParams(params){if("string"==typeof params&&(params=url.parse(params)),params.protocol||(params.protocol="https:"),"https:"!==params.protocol)throw new Error("Protocol \""+params.protocol+"\" not supported. Expected \"https:\"");return params}var http=require("http"),url=require("url"),https=module.exports;for(var key in http)http.hasOwnProperty(key)&&(https[key]=http[key]);https.request=function(params,cb){return params=validateParams(params),http.request.call(this,params,cb)},https.get=function(params,cb){return params=validateParams(params),http.get.call(this,params,cb)}},{http:259,url:279}],87:[function(require,module,exports){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */exports.read=function(buffer,offset,isLE,mLen,nBytes){var eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,nBits=-7,i=isLE?nBytes-1:0,d=isLE?-1:1,s=buffer[offset+i],e,m;for(i+=d,e=s&(1<<-nBits)-1,s>>=-nBits,nBits+=eLen;0<nBits;e=256*e+buffer[offset+i],i+=d,nBits-=8);for(m=e&(1<<-nBits)-1,e>>=-nBits,nBits+=mLen;0<nBits;m=256*m+buffer[offset+i],i+=d,nBits-=8);if(0===e)e=1-eBias;else{if(e===eMax)return m?NaN:(s?-1:1)*(1/0);m+=Math.pow(2,mLen),e-=eBias}return(s?-1:1)*m*Math.pow(2,e-mLen)},exports.write=function(buffer,value,offset,isLE,mLen,nBytes){var eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,rt=23===mLen?Math.pow(2,-24)-Math.pow(2,-77):0,i=isLE?0:nBytes-1,d=isLE?1:-1,s=0>value||0===value&&0>1/value?1:0,e,m,c;for(value=Math.abs(value),isNaN(value)||value===1/0?(m=isNaN(value)?1:0,e=eMax):(e=Math.floor(Math.log(value)/Math.LN2),1>value*(c=Math.pow(2,-e))&&(e--,c*=2),value+=1<=e+eBias?rt/c:rt*Math.pow(2,1-eBias),2<=value*c&&(e++,c/=2),e+eBias>=eMax?(m=0,e=eMax):1<=e+eBias?(m=(value*c-1)*Math.pow(2,mLen),e+=eBias):(m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen),e=0));8<=mLen;buffer[offset+i]=255&m,i+=d,m/=256,mLen-=8);for(e=e<<mLen|m,eLen+=mLen;0<eLen;buffer[offset+i]=255&e,i+=d,e/=256,eLen-=8);buffer[offset+i-d]|=128*s}},{}],88:[function(require,module){module.exports="function"==typeof Object.create?function(ctor,superCtor){superCtor&&(ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}}))}:function(ctor,superCtor){if(superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype,ctor.prototype=new TempCtor,ctor.prototype.constructor=ctor}}},{}],89:[function(require,module){var getNative=require("./_getNative"),root=require("./_root"),DataView=getNative(root,"DataView");module.exports=DataView},{"./_getNative":160,"./_root":198}],90:[function(require,module){function Hash(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}var hashClear=require("./_hashClear"),hashDelete=require("./_hashDelete"),hashGet=require("./_hashGet"),hashHas=require("./_hashHas"),hashSet=require("./_hashSet");Hash.prototype.clear=hashClear,Hash.prototype["delete"]=hashDelete,Hash.prototype.get=hashGet,Hash.prototype.has=hashHas,Hash.prototype.set=hashSet,module.exports=Hash},{"./_hashClear":168,"./_hashDelete":169,"./_hashGet":170,"./_hashHas":171,"./_hashSet":172}],91:[function(require,module){function ListCache(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}var listCacheClear=require("./_listCacheClear"),listCacheDelete=require("./_listCacheDelete"),listCacheGet=require("./_listCacheGet"),listCacheHas=require("./_listCacheHas"),listCacheSet=require("./_listCacheSet");ListCache.prototype.clear=listCacheClear,ListCache.prototype["delete"]=listCacheDelete,ListCache.prototype.get=listCacheGet,ListCache.prototype.has=listCacheHas,ListCache.prototype.set=listCacheSet,module.exports=ListCache},{"./_listCacheClear":180,"./_listCacheDelete":181,"./_listCacheGet":182,"./_listCacheHas":183,"./_listCacheSet":184}],92:[function(require,module){var getNative=require("./_getNative"),root=require("./_root"),Map=getNative(root,"Map");module.exports=Map},{"./_getNative":160,"./_root":198}],93:[function(require,module){function MapCache(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}var mapCacheClear=require("./_mapCacheClear"),mapCacheDelete=require("./_mapCacheDelete"),mapCacheGet=require("./_mapCacheGet"),mapCacheHas=require("./_mapCacheHas"),mapCacheSet=require("./_mapCacheSet");MapCache.prototype.clear=mapCacheClear,MapCache.prototype["delete"]=mapCacheDelete,MapCache.prototype.get=mapCacheGet,MapCache.prototype.has=mapCacheHas,MapCache.prototype.set=mapCacheSet,module.exports=MapCache},{"./_mapCacheClear":185,"./_mapCacheDelete":186,"./_mapCacheGet":187,"./_mapCacheHas":188,"./_mapCacheSet":189}],94:[function(require,module){var getNative=require("./_getNative"),root=require("./_root"),Promise=getNative(root,"Promise");module.exports=Promise},{"./_getNative":160,"./_root":198}],95:[function(require,module){var getNative=require("./_getNative"),root=require("./_root"),Set=getNative(root,"Set");module.exports=Set},{"./_getNative":160,"./_root":198}],96:[function(require,module){function SetCache(values){var index=-1,length=null==values?0:values.length;for(this.__data__=new MapCache;++index<length;)this.add(values[index])}var MapCache=require("./_MapCache"),setCacheAdd=require("./_setCacheAdd"),setCacheHas=require("./_setCacheHas");SetCache.prototype.add=SetCache.prototype.push=setCacheAdd,SetCache.prototype.has=setCacheHas,module.exports=SetCache},{"./_MapCache":93,"./_setCacheAdd":199,"./_setCacheHas":200}],97:[function(require,module){function Stack(entries){var data=this.__data__=new ListCache(entries);this.size=data.size}var ListCache=require("./_ListCache"),stackClear=require("./_stackClear"),stackDelete=require("./_stackDelete"),stackGet=require("./_stackGet"),stackHas=require("./_stackHas"),stackSet=require("./_stackSet");Stack.prototype.clear=stackClear,Stack.prototype["delete"]=stackDelete,Stack.prototype.get=stackGet,Stack.prototype.has=stackHas,Stack.prototype.set=stackSet,module.exports=Stack},{"./_ListCache":91,"./_stackClear":203,"./_stackDelete":204,"./_stackGet":205,"./_stackHas":206,"./_stackSet":207}],98:[function(require,module){var root=require("./_root"),Symbol=root.Symbol;module.exports=Symbol},{"./_root":198}],99:[function(require,module){var root=require("./_root"),Uint8Array=root.Uint8Array;module.exports=Uint8Array},{"./_root":198}],100:[function(require,module){var getNative=require("./_getNative"),root=require("./_root"),WeakMap=getNative(root,"WeakMap");module.exports=WeakMap},{"./_getNative":160,"./_root":198}],101:[function(require,module){module.exports=function(array,iteratee){for(var index=-1,length=null==array?0:array.length;++index<length&&!(!1===iteratee(array[index],index,array)););return array}},{}],102:[function(require,module){module.exports=function(array,predicate){for(var index=-1,length=null==array?0:array.length,resIndex=0,result=[];++index<length;){var value=array[index];predicate(value,index,array)&&(result[resIndex++]=value)}return result}},{}],103:[function(require,module){var baseTimes=require("./_baseTimes"),isArguments=require("./isArguments"),isArray=require("./isArray"),isBuffer=require("./isBuffer"),isIndex=require("./_isIndex"),isTypedArray=require("./isTypedArray"),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;module.exports=function(value,inherited){var isArr=isArray(value),isArg=!isArr&&isArguments(value),isBuff=!isArr&&!isArg&&isBuffer(value),isType=!isArr&&!isArg&&!isBuff&&isTypedArray(value),skipIndexes=isArr||isArg||isBuff||isType,result=skipIndexes?baseTimes(value.length,String):[],length=result.length;for(var key in value)(inherited||hasOwnProperty.call(value,key))&&!(skipIndexes&&("length"==key||isBuff&&("offset"==key||"parent"==key)||isType&&("buffer"==key||"byteLength"==key||"byteOffset"==key)||isIndex(key,length)))&&result.push(key);return result}},{"./_baseTimes":137,"./_isIndex":173,"./isArguments":222,"./isArray":223,"./isBuffer":225,"./isTypedArray":234}],104:[function(require,module){module.exports=function(array,iteratee){for(var index=-1,length=null==array?0:array.length,result=Array(length);++index<length;)result[index]=iteratee(array[index],index,array);return result}},{}],105:[function(require,module){module.exports=function(array,values){for(var index=-1,length=values.length,offset=array.length;++index<length;)array[offset+index]=values[index];return array}},{}],106:[function(require,module){module.exports=function(array,iteratee,accumulator,initAccum){var index=-1,length=null==array?0:array.length;for(initAccum&&length&&(accumulator=array[++index]);++index<length;)accumulator=iteratee(accumulator,array[index],index,array);return accumulator}},{}],107:[function(require,module){module.exports=function(array,predicate){for(var index=-1,length=null==array?0:array.length;++index<length;)if(predicate(array[index],index,array))return!0;return!1}},{}],108:[function(require,module){module.exports=function(string){return string.split("")}},{}],109:[function(require,module){var eq=require("./eq");module.exports=function(array,key){for(var length=array.length;length--;)if(eq(array[length][0],key))return length;return-1}},{"./eq":216}],110:[function(require,module){var defineProperty=require("./_defineProperty");module.exports=function(object,key,value){"__proto__"==key&&defineProperty?defineProperty(object,key,{configurable:!0,enumerable:!0,value:value,writable:!0}):object[key]=value}},{"./_defineProperty":152}],111:[function(require,module){var isObject=require("./isObject"),objectCreate=Object.create,baseCreate=function(){function object(){}return function(proto){if(!isObject(proto))return{};if(objectCreate)return objectCreate(proto);object.prototype=proto;var result=new object;return object.prototype=void 0,result}}();module.exports=baseCreate},{"./isObject":229}],112:[function(require,module){var baseForOwn=require("./_baseForOwn"),createBaseEach=require("./_createBaseEach"),baseEach=createBaseEach(baseForOwn);module.exports=baseEach},{"./_baseForOwn":114,"./_createBaseEach":148}],113:[function(require,module){var createBaseFor=require("./_createBaseFor"),baseFor=createBaseFor();module.exports=baseFor},{"./_createBaseFor":149}],114:[function(require,module){var baseFor=require("./_baseFor"),keys=require("./keys");module.exports=function(object,iteratee){return object&&baseFor(object,iteratee,keys)}},{"./_baseFor":113,"./keys":236}],115:[function(require,module){var arrayFilter=require("./_arrayFilter"),isFunction=require("./isFunction");module.exports=function(object,props){return arrayFilter(props,function(key){return isFunction(object[key])})}},{"./_arrayFilter":102,"./isFunction":227}],116:[function(require,module){var castPath=require("./_castPath"),toKey=require("./_toKey");module.exports=function(object,path){path=castPath(path,object);for(var index=0,length=path.length;null!=object&&index<length;)object=object[toKey(path[index++])];return index&&index==length?object:void 0}},{"./_castPath":144,"./_toKey":210}],117:[function(require,module){var arrayPush=require("./_arrayPush"),isArray=require("./isArray");module.exports=function(object,keysFunc,symbolsFunc){var result=keysFunc(object);return isArray(object)?result:arrayPush(result,symbolsFunc(object))}},{"./_arrayPush":105,"./isArray":223}],118:[function(require,module){function baseGetTag(value){return null==value?void 0===value?"[object Undefined]":"[object Null]":symToStringTag&&symToStringTag in Object(value)?getRawTag(value):objectToString(value)}var Symbol=require("./_Symbol"),getRawTag=require("./_getRawTag"),objectToString=require("./_objectToString"),symToStringTag=Symbol?Symbol.toStringTag:void 0;module.exports=baseGetTag},{"./_Symbol":98,"./_getRawTag":162,"./_objectToString":196}],119:[function(require,module){var objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;module.exports=function(object,key){return null!=object&&hasOwnProperty.call(object,key)}},{}],120:[function(require,module){function baseHasIn(object,key){return null!=object&&key in Object(object)}module.exports=baseHasIn},{}],121:[function(require,module){var baseGetTag=require("./_baseGetTag"),isObjectLike=require("./isObjectLike");module.exports=function(value){return isObjectLike(value)&&baseGetTag(value)=="[object Arguments]"}},{"./_baseGetTag":118,"./isObjectLike":230}],122:[function(require,module){function baseIsEqual(value,other,bitmask,customizer,stack){return!(value!==other)||(null!=value&&null!=other&&(isObjectLike(value)||isObjectLike(other))?baseIsEqualDeep(value,other,bitmask,customizer,baseIsEqual,stack):value!==value&&other!==other)}var baseIsEqualDeep=require("./_baseIsEqualDeep"),isObjectLike=require("./isObjectLike");module.exports=baseIsEqual},{"./_baseIsEqualDeep":123,"./isObjectLike":230}],123:[function(require,module){var Stack=require("./_Stack"),equalArrays=require("./_equalArrays"),equalByTag=require("./_equalByTag"),equalObjects=require("./_equalObjects"),getTag=require("./_getTag"),isArray=require("./isArray"),isBuffer=require("./isBuffer"),isTypedArray=require("./isTypedArray"),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;module.exports=function(object,other,bitmask,customizer,equalFunc,stack){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=objIsArr?"[object Array]":getTag(object),othTag=othIsArr?"[object Array]":getTag(other);objTag="[object Arguments]"==objTag?"[object Object]":objTag,othTag="[object Arguments]"==othTag?"[object Object]":othTag;var objIsObj="[object Object]"==objTag,othIsObj="[object Object]"==othTag,isSameTag=objTag==othTag;if(isSameTag&&isBuffer(object)){if(!isBuffer(other))return!1;objIsArr=!0,objIsObj=!1}if(isSameTag&&!objIsObj)return stack||(stack=new Stack),objIsArr||isTypedArray(object)?equalArrays(object,other,bitmask,customizer,equalFunc,stack):equalByTag(object,other,objTag,bitmask,customizer,equalFunc,stack);if(!(1&bitmask)){var objIsWrapped=objIsObj&&hasOwnProperty.call(object,"__wrapped__"),othIsWrapped=othIsObj&&hasOwnProperty.call(other,"__wrapped__");if(objIsWrapped||othIsWrapped){var objUnwrapped=objIsWrapped?object.value():object,othUnwrapped=othIsWrapped?other.value():other;return stack||(stack=new Stack),equalFunc(objUnwrapped,othUnwrapped,bitmask,customizer,stack)}}return!!isSameTag&&(stack||(stack=new Stack),equalObjects(object,other,bitmask,customizer,equalFunc,stack))}},{"./_Stack":97,"./_equalArrays":153,"./_equalByTag":154,"./_equalObjects":155,"./_getTag":164,"./isArray":223,"./isBuffer":225,"./isTypedArray":234}],124:[function(require,module){function baseIsMatch(object,source,matchData,customizer){var index=matchData.length,length=index,noCustomizer=!customizer;if(null==object)return!length;for(object=Object(object);index--;){var data=matchData[index];if(noCustomizer&&data[2]?data[1]!==object[data[0]]:!(data[0]in object))return!1}for(;++index<length;){data=matchData[index];var key=data[0],objValue=object[key],srcValue=data[1];if(!(noCustomizer&&data[2])){var stack=new Stack;if(customizer)var result=customizer(objValue,srcValue,key,object,source,stack);if(void 0===result?!baseIsEqual(srcValue,objValue,3,customizer,stack):!result)return!1}else if(void 0===objValue&&!(key in object))return!1}return!0}var Stack=require("./_Stack"),baseIsEqual=require("./_baseIsEqual");module.exports=baseIsMatch},{"./_Stack":97,"./_baseIsEqual":122}],125:[function(require,module){var isFunction=require("./isFunction"),isMasked=require("./_isMasked"),isObject=require("./isObject"),toSource=require("./_toSource"),reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto=Function.prototype,objectProto=Object.prototype,funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");module.exports=function(value){if(!isObject(value)||isMasked(value))return!1;var pattern=isFunction(value)?reIsNative:reIsHostCtor;return pattern.test(toSource(value))}},{"./_isMasked":177,"./_toSource":211,"./isFunction":227,"./isObject":229}],126:[function(require,module){var baseGetTag=require("./_baseGetTag"),isLength=require("./isLength"),isObjectLike=require("./isObjectLike"),typedArrayTags={};typedArrayTags["[object Float32Array]"]=typedArrayTags["[object Float64Array]"]=typedArrayTags["[object Int8Array]"]=typedArrayTags["[object Int16Array]"]=typedArrayTags["[object Int32Array]"]=typedArrayTags["[object Uint8Array]"]=typedArrayTags["[object Uint8ClampedArray]"]=typedArrayTags["[object Uint16Array]"]=typedArrayTags["[object Uint32Array]"]=!0,typedArrayTags["[object Arguments]"]=typedArrayTags["[object Array]"]=typedArrayTags["[object ArrayBuffer]"]=typedArrayTags["[object Boolean]"]=typedArrayTags["[object DataView]"]=typedArrayTags["[object Date]"]=typedArrayTags["[object Error]"]=typedArrayTags["[object Function]"]=typedArrayTags["[object Map]"]=typedArrayTags["[object Number]"]=typedArrayTags["[object Object]"]=typedArrayTags["[object RegExp]"]=typedArrayTags["[object Set]"]=typedArrayTags["[object String]"]=typedArrayTags["[object WeakMap]"]=!1,module.exports=function(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[baseGetTag(value)]}},{"./_baseGetTag":118,"./isLength":228,"./isObjectLike":230}],127:[function(require,module){var baseMatches=require("./_baseMatches"),baseMatchesProperty=require("./_baseMatchesProperty"),identity=require("./identity"),isArray=require("./isArray"),property=require("./property");module.exports=function(value){return"function"==typeof value?value:null==value?identity:"object"==typeof value?isArray(value)?baseMatchesProperty(value[0],value[1]):baseMatches(value):property(value)}},{"./_baseMatches":130,"./_baseMatchesProperty":131,"./identity":221,"./isArray":223,"./property":242}],128:[function(require,module){var isPrototype=require("./_isPrototype"),nativeKeys=require("./_nativeKeys"),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;module.exports=function(object){if(!isPrototype(object))return nativeKeys(object);var result=[];for(var key in Object(object))hasOwnProperty.call(object,key)&&"constructor"!=key&&result.push(key);return result}},{"./_isPrototype":178,"./_nativeKeys":194}],129:[function(require,module){var baseEach=require("./_baseEach"),isArrayLike=require("./isArrayLike");module.exports=function(collection,iteratee){var index=-1,result=isArrayLike(collection)?Array(collection.length):[];return baseEach(collection,function(value,key,collection){result[++index]=iteratee(value,key,collection)}),result}},{"./_baseEach":112,"./isArrayLike":224}],130:[function(require,module){var baseIsMatch=require("./_baseIsMatch"),getMatchData=require("./_getMatchData"),matchesStrictComparable=require("./_matchesStrictComparable");module.exports=function(source){var matchData=getMatchData(source);return 1==matchData.length&&matchData[0][2]?matchesStrictComparable(matchData[0][0],matchData[0][1]):function(object){return object===source||baseIsMatch(object,source,matchData)}}},{"./_baseIsMatch":124,"./_getMatchData":159,"./_matchesStrictComparable":191}],131:[function(require,module){var baseIsEqual=require("./_baseIsEqual"),get=require("./get"),hasIn=require("./hasIn"),isKey=require("./_isKey"),isStrictComparable=require("./_isStrictComparable"),matchesStrictComparable=require("./_matchesStrictComparable"),toKey=require("./_toKey");module.exports=function(path,srcValue){return isKey(path)&&isStrictComparable(srcValue)?matchesStrictComparable(toKey(path),srcValue):function(object){var objValue=get(object,path);return objValue===void 0&&objValue===srcValue?hasIn(object,path):baseIsEqual(srcValue,objValue,3)}}},{"./_baseIsEqual":122,"./_isKey":175,"./_isStrictComparable":179,"./_matchesStrictComparable":191,"./_toKey":210,"./get":218,"./hasIn":220}],132:[function(require,module){module.exports=function(key){return function(object){return null==object?void 0:object[key]}}},{}],133:[function(require,module){var baseGet=require("./_baseGet");module.exports=function(path){return function(object){return baseGet(object,path)}}},{"./_baseGet":116}],134:[function(require,module){module.exports=function(collection,iteratee,accumulator,initAccum,eachFunc){return eachFunc(collection,function(value,index,collection){accumulator=initAccum?(initAccum=!1,value):iteratee(accumulator,value,index,collection)}),accumulator}},{}],135:[function(require,module){var nativeFloor=Math.floor;module.exports=function(string,n){var result="";if(!string||1>n||n>9007199254740991)return result;do n%2&&(result+=string),n=nativeFloor(n/2),n&&(string+=string);while(n);return result}},{}],136:[function(require,module){module.exports=function(array,start,end){var index=-1,length=array.length;0>start&&(start=-start>length?0:length+start),end=end>length?length:end,0>end&&(end+=length),length=start>end?0:end-start>>>0,start>>>=0;for(var result=Array(length);++index<length;)result[index]=array[index+start];return result}},{}],137:[function(require,module){module.exports=function(n,iteratee){for(var index=-1,result=Array(n);++index<n;)result[index]=iteratee(index);return result}},{}],138:[function(require,module){var arrayMap=require("./_arrayMap");module.exports=function(object,props){return arrayMap(props,function(key){return[key,object[key]]})}},{"./_arrayMap":104}],139:[function(require,module){function baseToString(value){if("string"==typeof value)return value;if(isArray(value))return arrayMap(value,baseToString)+"";if(isSymbol(value))return symbolToString?symbolToString.call(value):"";var result=value+"";return"0"==result&&1/value==-INFINITY?"-0":result}var Symbol=require("./_Symbol"),arrayMap=require("./_arrayMap"),isArray=require("./isArray"),isSymbol=require("./isSymbol"),INFINITY=1/0,symbolProto=Symbol?Symbol.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;module.exports=baseToString},{"./_Symbol":98,"./_arrayMap":104,"./isArray":223,"./isSymbol":233}],140:[function(require,module){var trimmedEndIndex=require("./_trimmedEndIndex"),reTrimStart=/^\s+/;module.exports=function(string){return string?string.slice(0,trimmedEndIndex(string)+1).replace(reTrimStart,""):string}},{"./_trimmedEndIndex":212}],141:[function(require,module){module.exports=function(func){return function(value){return func(value)}}},{}],142:[function(require,module){module.exports=function(cache,key){return cache.has(key)}},{}],143:[function(require,module){var identity=require("./identity");module.exports=function(value){return"function"==typeof value?value:identity}},{"./identity":221}],144:[function(require,module){var isArray=require("./isArray"),isKey=require("./_isKey"),stringToPath=require("./_stringToPath"),toString=require("./toString");module.exports=function(value,object){return isArray(value)?value:isKey(value,object)?[value]:stringToPath(toString(value))}},{"./_isKey":175,"./_stringToPath":209,"./isArray":223,"./toString":251}],145:[function(require,module){var baseSlice=require("./_baseSlice");module.exports=function(array,start,end){var length=array.length;return end=void 0===end?length:end,!start&&end>=length?array:baseSlice(array,start,end)}},{"./_baseSlice":136}],146:[function(require,module){module.exports=function(source,array){var index=-1,length=source.length;for(array||(array=Array(length));++index<length;)array[index]=source[index];return array}},{}],147:[function(require,module){var root=require("./_root"),coreJsData=root["__core-js_shared__"];module.exports=coreJsData},{"./_root":198}],148:[function(require,module){var isArrayLike=require("./isArrayLike");module.exports=function(eachFunc,fromRight){return function(collection,iteratee){if(null==collection)return collection;if(!isArrayLike(collection))return eachFunc(collection,iteratee);for(var length=collection.length,index=fromRight?length:-1,iterable=Object(collection);(fromRight?index--:++index<length)&&!(!1===iteratee(iterable[index],index,iterable)););return collection}}},{"./isArrayLike":224}],149:[function(require,module){module.exports=function(fromRight){return function(object,iteratee,keysFunc){for(var index=-1,iterable=Object(object),props=keysFunc(object),length=props.length;length--;){var key=props[fromRight?length:++index];if(!1===iteratee(iterable[key],key,iterable))break}return object}}},{}],150:[function(require,module){var castSlice=require("./_castSlice"),hasUnicode=require("./_hasUnicode"),stringToArray=require("./_stringToArray"),toString=require("./toString");module.exports=function(methodName){return function(string){string=toString(string);var strSymbols=hasUnicode(string)?stringToArray(string):void 0,chr=strSymbols?strSymbols[0]:string.charAt(0),trailing=strSymbols?castSlice(strSymbols,1).join(""):string.slice(1);return chr[methodName]()+trailing}}},{"./_castSlice":145,"./_hasUnicode":167,"./_stringToArray":208,"./toString":251}],151:[function(require,module){var baseToPairs=require("./_baseToPairs"),getTag=require("./_getTag"),mapToArray=require("./_mapToArray"),setToPairs=require("./_setToPairs");module.exports=function(keysFunc){return function(object){var tag=getTag(object);return"[object Map]"==tag?mapToArray(object):"[object Set]"==tag?setToPairs(object):baseToPairs(object,keysFunc(object))}}},{"./_baseToPairs":138,"./_getTag":164,"./_mapToArray":190,"./_setToPairs":202}],152:[function(require,module){var getNative=require("./_getNative"),defineProperty=function(){try{var func=getNative(Object,"defineProperty");return func({},"",{}),func}catch(e){}}();module.exports=defineProperty},{"./_getNative":160}],153:[function(require,module){var SetCache=require("./_SetCache"),arraySome=require("./_arraySome"),cacheHas=require("./_cacheHas");module.exports=function(array,other,bitmask,customizer,equalFunc,stack){var isPartial=1&bitmask,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isPartial&&othLength>arrLength))return!1;var arrStacked=stack.get(array),othStacked=stack.get(other);if(arrStacked&&othStacked)return arrStacked==other&&othStacked==array;var index=-1,result=!0,seen=2&bitmask?new SetCache:void 0;for(stack.set(array,other),stack.set(other,array);++index<arrLength;){var arrValue=array[index],othValue=other[index];if(customizer)var compared=isPartial?customizer(othValue,arrValue,index,other,array,stack):customizer(arrValue,othValue,index,array,other,stack);if(void 0!==compared){if(compared)continue;result=!1;break}if(seen){if(!arraySome(other,function(othValue,othIndex){if(!cacheHas(seen,othIndex)&&(arrValue===othValue||equalFunc(arrValue,othValue,bitmask,customizer,stack)))return seen.push(othIndex)})){result=!1;break}}else if(!(arrValue===othValue||equalFunc(arrValue,othValue,bitmask,customizer,stack))){result=!1;break}}return stack["delete"](array),stack["delete"](other),result}},{"./_SetCache":96,"./_arraySome":107,"./_cacheHas":142}],154:[function(require,module){var Symbol=require("./_Symbol"),Uint8Array=require("./_Uint8Array"),eq=require("./eq"),equalArrays=require("./_equalArrays"),mapToArray=require("./_mapToArray"),setToArray=require("./_setToArray"),symbolProto=Symbol?Symbol.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;module.exports=function(object,other,tag,bitmask,customizer,equalFunc,stack){switch(tag){case"[object DataView]":if(object.byteLength!=other.byteLength||object.byteOffset!=other.byteOffset)return!1;object=object.buffer,other=other.buffer;case"[object ArrayBuffer]":return!!(object.byteLength==other.byteLength&&equalFunc(new Uint8Array(object),new Uint8Array(other)));case"[object Boolean]":case"[object Date]":case"[object Number]":return eq(+object,+other);case"[object Error]":return object.name==other.name&&object.message==other.message;case"[object RegExp]":case"[object String]":return object==other+"";case"[object Map]":var convert=mapToArray;case"[object Set]":var isPartial=1&bitmask;if(convert||(convert=setToArray),object.size!=other.size&&!isPartial)return!1;var stacked=stack.get(object);if(stacked)return stacked==other;bitmask|=2,stack.set(object,other);var result=equalArrays(convert(object),convert(other),bitmask,customizer,equalFunc,stack);return stack["delete"](object),result;case"[object Symbol]":if(symbolValueOf)return symbolValueOf.call(object)==symbolValueOf.call(other);}return!1}},{"./_Symbol":98,"./_Uint8Array":99,"./_equalArrays":153,"./_mapToArray":190,"./_setToArray":201,"./eq":216}],155:[function(require,module){function equalObjects(object,other,bitmask,customizer,equalFunc,stack){var isPartial=1&bitmask,objProps=getAllKeys(object),objLength=objProps.length,othProps=getAllKeys(other),othLength=othProps.length;if(objLength!=othLength&&!isPartial)return!1;for(var index=objLength,key;index--;)if(key=objProps[index],isPartial?!(key in other):!hasOwnProperty.call(other,key))return!1;var objStacked=stack.get(object),othStacked=stack.get(other);if(objStacked&&othStacked)return objStacked==other&&othStacked==object;var result=!0;stack.set(object,other),stack.set(other,object);for(var skipCtor=isPartial;++index<objLength;){key=objProps[index];var objValue=object[key],othValue=other[key];if(customizer)var compared=isPartial?customizer(othValue,objValue,key,other,object,stack):customizer(objValue,othValue,key,object,other,stack);if(void 0===compared?!(objValue===othValue||equalFunc(objValue,othValue,bitmask,customizer,stack)):!compared){result=!1;break}skipCtor||(skipCtor="constructor"==key)}if(result&&!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;objCtor!=othCtor&&"constructor"in object&&"constructor"in other&&!("function"==typeof objCtor&&objCtor instanceof objCtor&&"function"==typeof othCtor&&othCtor instanceof othCtor)&&(result=!1)}return stack["delete"](object),stack["delete"](other),result}var getAllKeys=require("./_getAllKeys"),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;module.exports=equalObjects},{"./_getAllKeys":157}],156:[function(require,module){(function(global){(function(){var freeGlobal="object"==typeof global&&global&&global.Object===Object&&global;module.exports=freeGlobal}).call(this)}).call(this,"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global)},{}],157:[function(require,module){var baseGetAllKeys=require("./_baseGetAllKeys"),getSymbols=require("./_getSymbols"),keys=require("./keys");module.exports=function(object){return baseGetAllKeys(object,keys,getSymbols)}},{"./_baseGetAllKeys":117,"./_getSymbols":163,"./keys":236}],158:[function(require,module){var isKeyable=require("./_isKeyable");module.exports=function(map,key){var data=map.__data__;return isKeyable(key)?data["string"==typeof key?"string":"hash"]:data.map}},{"./_isKeyable":176}],159:[function(require,module){var isStrictComparable=require("./_isStrictComparable"),keys=require("./keys");module.exports=function(object){for(var result=keys(object),length=result.length;length--;){var key=result[length],value=object[key];result[length]=[key,value,isStrictComparable(value)]}return result}},{"./_isStrictComparable":179,"./keys":236}],160:[function(require,module){var baseIsNative=require("./_baseIsNative"),getValue=require("./_getValue");module.exports=function(object,key){var value=getValue(object,key);return baseIsNative(value)?value:void 0}},{"./_baseIsNative":125,"./_getValue":165}],161:[function(require,module){var overArg=require("./_overArg"),getPrototype=overArg(Object.getPrototypeOf,Object);module.exports=getPrototype},{"./_overArg":197}],162:[function(require,module){var Symbol=require("./_Symbol"),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,nativeObjectToString=objectProto.toString,symToStringTag=Symbol?Symbol.toStringTag:void 0;module.exports=function(value){var isOwn=hasOwnProperty.call(value,symToStringTag),tag=value[symToStringTag];try{value[symToStringTag]=void 0;var unmasked=!0}catch(e){}var result=nativeObjectToString.call(value);return unmasked&&(isOwn?value[symToStringTag]=tag:delete value[symToStringTag]),result}},{"./_Symbol":98}],163:[function(require,module){var arrayFilter=require("./_arrayFilter"),stubArray=require("./stubArray"),objectProto=Object.prototype,propertyIsEnumerable=objectProto.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols=nativeGetSymbols?function(object){return null==object?[]:(object=Object(object),arrayFilter(nativeGetSymbols(object),function(symbol){return propertyIsEnumerable.call(object,symbol)}))}:stubArray;module.exports=getSymbols},{"./_arrayFilter":102,"./stubArray":245}],164:[function(require,module){var DataView=require("./_DataView"),Map=require("./_Map"),Promise=require("./_Promise"),Set=require("./_Set"),WeakMap=require("./_WeakMap"),baseGetTag=require("./_baseGetTag"),toSource=require("./_toSource"),mapTag="[object Map]",promiseTag="[object Promise]",setTag="[object Set]",weakMapTag="[object WeakMap]",dataViewTag="[object DataView]",dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap),getTag=baseGetTag;(DataView&&getTag(new DataView(new ArrayBuffer(1)))!=dataViewTag||Map&&getTag(new Map)!=mapTag||Promise&&getTag(Promise.resolve())!=promiseTag||Set&&getTag(new Set)!=setTag||WeakMap&&getTag(new WeakMap)!=weakMapTag)&&(getTag=function(value){var result=baseGetTag(value),Ctor=result=="[object Object]"?value.constructor:void 0,ctorString=Ctor?toSource(Ctor):"";if(ctorString)switch(ctorString){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag;}return result}),module.exports=getTag},{"./_DataView":89,"./_Map":92,"./_Promise":94,"./_Set":95,"./_WeakMap":100,"./_baseGetTag":118,"./_toSource":211}],165:[function(require,module){module.exports=function(object,key){return null==object?void 0:object[key]}},{}],166:[function(require,module){var castPath=require("./_castPath"),isArguments=require("./isArguments"),isArray=require("./isArray"),isIndex=require("./_isIndex"),isLength=require("./isLength"),toKey=require("./_toKey");module.exports=function(object,path,hasFunc){path=castPath(path,object);for(var index=-1,length=path.length,result=!1,key;++index<length&&(key=toKey(path[index]),!!(result=null!=object&&hasFunc(object,key)));)object=object[key];return result||++index!=length?result:(length=null==object?0:object.length,!!length&&isLength(length)&&isIndex(key,length)&&(isArray(object)||isArguments(object)))}},{"./_castPath":144,"./_isIndex":173,"./_toKey":210,"./isArguments":222,"./isArray":223,"./isLength":228}],167:[function(require,module){var reHasUnicode=RegExp("["+"\\u200d"+"\\ud800-\\udfff"+"\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff"+"\\ufe0e\\ufe0f"+"]");module.exports=function(string){return reHasUnicode.test(string)}},{}],168:[function(require,module){function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{},this.size=0}var nativeCreate=require("./_nativeCreate");module.exports=hashClear},{"./_nativeCreate":193}],169:[function(require,module){function hashDelete(key){var result=this.has(key)&&delete this.__data__[key];return this.size-=result?1:0,result}module.exports=hashDelete},{}],170:[function(require,module){var nativeCreate=require("./_nativeCreate"),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;module.exports=function(key){var data=this.__data__;if(nativeCreate){var result=data[key];return result==="__lodash_hash_undefined__"?void 0:result}return hasOwnProperty.call(data,key)?data[key]:void 0}},{"./_nativeCreate":193}],171:[function(require,module){var nativeCreate=require("./_nativeCreate"),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;module.exports=function(key){var data=this.__data__;return nativeCreate?data[key]!==void 0:hasOwnProperty.call(data,key)}},{"./_nativeCreate":193}],172:[function(require,module){function hashSet(key,value){var data=this.__data__;return this.size+=this.has(key)?0:1,data[key]=nativeCreate&&void 0===value?"__lodash_hash_undefined__":value,this}var nativeCreate=require("./_nativeCreate");module.exports=hashSet},{"./_nativeCreate":193}],173:[function(require,module){var reIsUint=/^(?:0|[1-9]\d*)$/;module.exports=function(value,length){var type=typeof value;return length=null==length?9007199254740991:length,!!length&&("number"==type||"symbol"!=type&&reIsUint.test(value))&&-1<value&&0==value%1&&value<length}},{}],174:[function(require,module){function isIterateeCall(value,index,object){if(!isObject(object))return!1;var type=typeof index;return!("number"==type?!(isArrayLike(object)&&isIndex(index,object.length)):!("string"==type&&index in object))&&eq(object[index],value)}var eq=require("./eq"),isArrayLike=require("./isArrayLike"),isIndex=require("./_isIndex"),isObject=require("./isObject");module.exports=isIterateeCall},{"./_isIndex":173,"./eq":216,"./isArrayLike":224,"./isObject":229}],175:[function(require,module){function isKey(value,object){if(isArray(value))return!1;var type=typeof value;return!!("number"==type||"symbol"==type||"boolean"==type||null==value||isSymbol(value))||reIsPlainProp.test(value)||!reIsDeepProp.test(value)||null!=object&&value in Object(object)}var isArray=require("./isArray"),isSymbol=require("./isSymbol"),reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;module.exports=isKey},{"./isArray":223,"./isSymbol":233}],176:[function(require,module){module.exports=function(value){var type=typeof value;return"string"==type||"number"==type||"symbol"==type||"boolean"==type?"__proto__"!==value:null===value}},{}],177:[function(require,module){function isMasked(func){return!!maskSrcKey&&maskSrcKey in func}var coreJsData=require("./_coreJsData"),maskSrcKey=function(){var uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return uid?"Symbol(src)_1."+uid:""}();module.exports=isMasked},{"./_coreJsData":147}],178:[function(require,module){var objectProto=Object.prototype;module.exports=function(value){var Ctor=value&&value.constructor,proto="function"==typeof Ctor&&Ctor.prototype||objectProto;return value===proto}},{}],179:[function(require,module){var isObject=require("./isObject");module.exports=function(value){return value===value&&!isObject(value)}},{"./isObject":229}],180:[function(require,module){function listCacheClear(){this.__data__=[],this.size=0}module.exports=listCacheClear},{}],181:[function(require,module){function listCacheDelete(key){var data=this.__data__,index=assocIndexOf(data,key);if(0>index)return!1;var lastIndex=data.length-1;return index==lastIndex?data.pop():splice.call(data,index,1),--this.size,!0}var assocIndexOf=require("./_assocIndexOf"),arrayProto=Array.prototype,splice=arrayProto.splice;module.exports=listCacheDelete},{"./_assocIndexOf":109}],182:[function(require,module){var assocIndexOf=require("./_assocIndexOf");module.exports=function(key){var data=this.__data__,index=assocIndexOf(data,key);return 0>index?void 0:data[index][1]}},{"./_assocIndexOf":109}],183:[function(require,module){function listCacheHas(key){return-1<assocIndexOf(this.__data__,key)}var assocIndexOf=require("./_assocIndexOf");module.exports=listCacheHas},{"./_assocIndexOf":109}],184:[function(require,module){function listCacheSet(key,value){var data=this.__data__,index=assocIndexOf(data,key);return 0>index?(++this.size,data.push([key,value])):data[index][1]=value,this}var assocIndexOf=require("./_assocIndexOf");module.exports=listCacheSet},{"./_assocIndexOf":109}],185:[function(require,module){var Hash=require("./_Hash"),ListCache=require("./_ListCache"),Map=require("./_Map");module.exports=function(){this.size=0,this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}}},{"./_Hash":90,"./_ListCache":91,"./_Map":92}],186:[function(require,module){function mapCacheDelete(key){var result=getMapData(this,key)["delete"](key);return this.size-=result?1:0,result}var getMapData=require("./_getMapData");module.exports=mapCacheDelete},{"./_getMapData":158}],187:[function(require,module){function mapCacheGet(key){return getMapData(this,key).get(key)}var getMapData=require("./_getMapData");module.exports=mapCacheGet},{"./_getMapData":158}],188:[function(require,module){function mapCacheHas(key){return getMapData(this,key).has(key)}var getMapData=require("./_getMapData");module.exports=mapCacheHas},{"./_getMapData":158}],189:[function(require,module){function mapCacheSet(key,value){var data=getMapData(this,key),size=data.size;return data.set(key,value),this.size+=data.size==size?0:1,this}var getMapData=require("./_getMapData");module.exports=mapCacheSet},{"./_getMapData":158}],190:[function(require,module){module.exports=function(map){var index=-1,result=Array(map.size);return map.forEach(function(value,key){result[++index]=[key,value]}),result}},{}],191:[function(require,module){module.exports=function(key,srcValue){return function(object){return null!=object&&object[key]===srcValue&&(srcValue!==void 0||key in Object(object))}}},{}],192:[function(require,module){var memoize=require("./memoize");module.exports=function(func){var result=memoize(func,function(key){return 500===cache.size&&cache.clear(),key}),cache=result.cache;return result}},{"./memoize":240}],193:[function(require,module){var getNative=require("./_getNative"),nativeCreate=getNative(Object,"create");module.exports=nativeCreate},{"./_getNative":160}],194:[function(require,module){var overArg=require("./_overArg"),nativeKeys=overArg(Object.keys,Object);module.exports=nativeKeys},{"./_overArg":197}],195:[function(require,module,exports){var freeGlobal=require("./_freeGlobal"),freeExports="object"==typeof exports&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==typeof module&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,freeProcess=moduleExports&&freeGlobal.process,nodeUtil=function(){try{var types=freeModule&&freeModule.require&&freeModule.require("util").types;return types?types:freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch(e){}}();module.exports=nodeUtil},{"./_freeGlobal":156}],196:[function(require,module){var objectProto=Object.prototype,nativeObjectToString=objectProto.toString;module.exports=function(value){return nativeObjectToString.call(value)}},{}],197:[function(require,module){module.exports=function(func,transform){return function(arg){return func(transform(arg))}}},{}],198:[function(require,module){var freeGlobal=require("./_freeGlobal"),freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")();module.exports=root},{"./_freeGlobal":156}],199:[function(require,module){function setCacheAdd(value){return this.__data__.set(value,"__lodash_hash_undefined__"),this}module.exports=setCacheAdd},{}],200:[function(require,module){function setCacheHas(value){return this.__data__.has(value)}module.exports=setCacheHas},{}],201:[function(require,module){module.exports=function(set){var index=-1,result=Array(set.size);return set.forEach(function(value){result[++index]=value}),result}},{}],202:[function(require,module){module.exports=function(set){var index=-1,result=Array(set.size);return set.forEach(function(value){result[++index]=[value,value]}),result}},{}],203:[function(require,module){function stackClear(){this.__data__=new ListCache,this.size=0}var ListCache=require("./_ListCache");module.exports=stackClear},{"./_ListCache":91}],204:[function(require,module){function stackDelete(key){var data=this.__data__,result=data["delete"](key);return this.size=data.size,result}module.exports=stackDelete},{}],205:[function(require,module){function stackGet(key){return this.__data__.get(key)}module.exports=stackGet},{}],206:[function(require,module){function stackHas(key){return this.__data__.has(key)}module.exports=stackHas},{}],207:[function(require,module){function stackSet(key,value){var data=this.__data__;if(data instanceof ListCache){var pairs=data.__data__;if(!Map||199>pairs.length)return pairs.push([key,value]),this.size=++data.size,this;data=this.__data__=new MapCache(pairs)}return data.set(key,value),this.size=data.size,this}var ListCache=require("./_ListCache"),Map=require("./_Map"),MapCache=require("./_MapCache");module.exports=stackSet},{"./_ListCache":91,"./_Map":92,"./_MapCache":93}],208:[function(require,module){var asciiToArray=require("./_asciiToArray"),hasUnicode=require("./_hasUnicode"),unicodeToArray=require("./_unicodeToArray");module.exports=function(string){return hasUnicode(string)?unicodeToArray(string):asciiToArray(string)}},{"./_asciiToArray":108,"./_hasUnicode":167,"./_unicodeToArray":213}],209:[function(require,module){var memoizeCapped=require("./_memoizeCapped"),rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=memoizeCapped(function(string){var result=[];return 46===string.charCodeAt(0)&&result.push(""),string.replace(rePropName,function(match,number,quote,subString){result.push(quote?subString.replace(reEscapeChar,"$1"):number||match)}),result});module.exports=stringToPath},{"./_memoizeCapped":192}],210:[function(require,module){var isSymbol=require("./isSymbol");module.exports=function(value){if("string"==typeof value||isSymbol(value))return value;var result=value+"";return"0"==result&&1/value==-(1/0)?"-0":result}},{"./isSymbol":233}],211:[function(require,module){var funcProto=Function.prototype,funcToString=funcProto.toString;module.exports=function(func){if(null!=func){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}},{}],212:[function(require,module){var reWhitespace=/\s/;module.exports=function(string){for(var index=string.length;index--&&reWhitespace.test(string.charAt(index)););return index}},{}],213:[function(require,module){var rsCombo="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsNonAstral="[^\\ud800-\\udfff]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",reOptMod="(?:"+rsCombo+"|"+rsFitz+")"+"?",rsOptVar="[\\ufe0e\\ufe0f]?",rsOptJoin="(?:"+"\\u200d"+"(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")"+rsOptVar+reOptMod+")*",rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,"[\\ud800-\\udfff]"].join("|")+")",reUnicode=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+(rsOptVar+reOptMod+rsOptJoin),"g");module.exports=function(string){return string.match(reUnicode)||[]}},{}],214:[function(require,module){var toString=require("./toString"),upperFirst=require("./upperFirst");module.exports=function(string){return upperFirst(toString(string).toLowerCase())}},{"./toString":251,"./upperFirst":253}],215:[function(require,module){module.exports=require("./forEach")},{"./forEach":217}],216:[function(require,module){module.exports=function(value,other){return value===other||value!==value&&other!==other}},{}],217:[function(require,module){var arrayEach=require("./_arrayEach"),baseEach=require("./_baseEach"),castFunction=require("./_castFunction"),isArray=require("./isArray");module.exports=function(collection,iteratee){var func=isArray(collection)?arrayEach:baseEach;return func(collection,castFunction(iteratee))}},{"./_arrayEach":101,"./_baseEach":112,"./_castFunction":143,"./isArray":223}],218:[function(require,module){var baseGet=require("./_baseGet");module.exports=function(object,path,defaultValue){var result=null==object?void 0:baseGet(object,path);return result===void 0?defaultValue:result}},{"./_baseGet":116}],219:[function(require,module){var baseHas=require("./_baseHas"),hasPath=require("./_hasPath");module.exports=function(object,path){return null!=object&&hasPath(object,path,baseHas)}},{"./_baseHas":119,"./_hasPath":166}],220:[function(require,module){var baseHasIn=require("./_baseHasIn"),hasPath=require("./_hasPath");module.exports=function(object,path){return null!=object&&hasPath(object,path,baseHasIn)}},{"./_baseHasIn":120,"./_hasPath":166}],221:[function(require,module){module.exports=function(value){return value}},{}],222:[function(require,module){var baseIsArguments=require("./_baseIsArguments"),isObjectLike=require("./isObjectLike"),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,propertyIsEnumerable=objectProto.propertyIsEnumerable,isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(value){return isObjectLike(value)&&hasOwnProperty.call(value,"callee")&&!propertyIsEnumerable.call(value,"callee")};module.exports=isArguments},{"./_baseIsArguments":121,"./isObjectLike":230}],223:[function(require,module){var isArray=Array.isArray;module.exports=isArray},{}],224:[function(require,module){var isFunction=require("./isFunction"),isLength=require("./isLength");module.exports=function(value){return null!=value&&isLength(value.length)&&!isFunction(value)}},{"./isFunction":227,"./isLength":228}],225:[function(require,module,exports){var root=require("./_root"),stubFalse=require("./stubFalse"),freeExports="object"==typeof exports&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==typeof module&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,Buffer=moduleExports?root.Buffer:void 0,nativeIsBuffer=Buffer?Buffer.isBuffer:void 0;module.exports=nativeIsBuffer||stubFalse},{"./_root":198,"./stubFalse":246}],226:[function(require,module){var baseIsEqual=require("./_baseIsEqual");module.exports=function(value,other){return baseIsEqual(value,other)}},{"./_baseIsEqual":122}],227:[function(require,module){var baseGetTag=require("./_baseGetTag"),isObject=require("./isObject");module.exports=function(value){if(!isObject(value))return!1;var tag=baseGetTag(value);return tag=="[object Function]"||tag=="[object GeneratorFunction]"||tag=="[object AsyncFunction]"||tag=="[object Proxy]"}},{"./_baseGetTag":118,"./isObject":229}],228:[function(require,module){module.exports=function(value){return"number"==typeof value&&-1<value&&0==value%1&&value<=9007199254740991}},{}],229:[function(require,module){module.exports=function(value){var type=typeof value;return null!=value&&("object"==type||"function"==type)}},{}],230:[function(require,module){module.exports=function(value){return null!=value&&"object"==typeof value}},{}],231:[function(require,module){var baseGetTag=require("./_baseGetTag"),getPrototype=require("./_getPrototype"),isObjectLike=require("./isObjectLike"),funcProto=Function.prototype,objectProto=Object.prototype,funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectCtorString=funcToString.call(Object);module.exports=function(value){if(!isObjectLike(value)||baseGetTag(value)!="[object Object]")return!1;var proto=getPrototype(value);if(null===proto)return!0;var Ctor=hasOwnProperty.call(proto,"constructor")&&proto.constructor;return"function"==typeof Ctor&&Ctor instanceof Ctor&&funcToString.call(Ctor)==objectCtorString}},{"./_baseGetTag":118,"./_getPrototype":161,"./isObjectLike":230}],232:[function(require,module){var baseGetTag=require("./_baseGetTag"),isArray=require("./isArray"),isObjectLike=require("./isObjectLike");module.exports=function(value){return"string"==typeof value||!isArray(value)&&isObjectLike(value)&&baseGetTag(value)=="[object String]"}},{"./_baseGetTag":118,"./isArray":223,"./isObjectLike":230}],233:[function(require,module){var baseGetTag=require("./_baseGetTag"),isObjectLike=require("./isObjectLike");module.exports=function(value){return"symbol"==typeof value||isObjectLike(value)&&baseGetTag(value)=="[object Symbol]"}},{"./_baseGetTag":118,"./isObjectLike":230}],234:[function(require,module){var baseIsTypedArray=require("./_baseIsTypedArray"),baseUnary=require("./_baseUnary"),nodeUtil=require("./_nodeUtil"),nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray;module.exports=isTypedArray},{"./_baseIsTypedArray":126,"./_baseUnary":141,"./_nodeUtil":195}],235:[function(require,module){var arrayProto=Array.prototype,nativeJoin=arrayProto.join;module.exports=function(array,separator){return null==array?"":nativeJoin.call(array,separator)}},{}],236:[function(require,module){var arrayLikeKeys=require("./_arrayLikeKeys"),baseKeys=require("./_baseKeys"),isArrayLike=require("./isArrayLike");module.exports=function(object){return isArrayLike(object)?arrayLikeKeys(object):baseKeys(object)}},{"./_arrayLikeKeys":103,"./_baseKeys":128,"./isArrayLike":224}],237:[function(require,module){var arrayMap=require("./_arrayMap"),baseIteratee=require("./_baseIteratee"),baseMap=require("./_baseMap"),isArray=require("./isArray");module.exports=function(collection,iteratee){var func=isArray(collection)?arrayMap:baseMap;return func(collection,baseIteratee(iteratee,3))}},{"./_arrayMap":104,"./_baseIteratee":127,"./_baseMap":129,"./isArray":223}],238:[function(require,module){var baseAssignValue=require("./_baseAssignValue"),baseForOwn=require("./_baseForOwn"),baseIteratee=require("./_baseIteratee");module.exports=function(object,iteratee){var result={};return iteratee=baseIteratee(iteratee,3),baseForOwn(object,function(value,key,object){baseAssignValue(result,iteratee(value,key,object),value)}),result}},{"./_baseAssignValue":110,"./_baseForOwn":114,"./_baseIteratee":127}],239:[function(require,module){var baseAssignValue=require("./_baseAssignValue"),baseForOwn=require("./_baseForOwn"),baseIteratee=require("./_baseIteratee");module.exports=function(object,iteratee){var result={};return iteratee=baseIteratee(iteratee,3),baseForOwn(object,function(value,key,object){baseAssignValue(result,key,iteratee(value,key,object))}),result}},{"./_baseAssignValue":110,"./_baseForOwn":114,"./_baseIteratee":127}],240:[function(require,module){function memoize(func,resolver){if("function"!=typeof func||null!=resolver&&"function"!=typeof resolver)throw new TypeError("Expected a function");var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key))return cache.get(key);var result=func.apply(this,args);return memoized.cache=cache.set(key,result)||cache,result};return memoized.cache=new(memoize.Cache||MapCache),memoized}var MapCache=require("./_MapCache");memoize.Cache=MapCache,module.exports=memoize},{"./_MapCache":93}],241:[function(require,module){function mixin(object,source,options){var props=keys(source),methodNames=baseFunctions(source,props),chain=!(isObject(options)&&"chain"in options)||!!options.chain,isFunc=isFunction(object);return arrayEach(methodNames,function(methodName){var func=source[methodName];object[methodName]=func,isFunc&&(object.prototype[methodName]=function(){var chainAll=this.__chain__;if(chain||chainAll){var result=object(this.__wrapped__),actions=result.__actions__=copyArray(this.__actions__);return actions.push({func:func,args:arguments,thisArg:object}),result.__chain__=chainAll,result}return func.apply(object,arrayPush([this.value()],arguments))})}),object}var arrayEach=require("./_arrayEach"),arrayPush=require("./_arrayPush"),baseFunctions=require("./_baseFunctions"),copyArray=require("./_copyArray"),isFunction=require("./isFunction"),isObject=require("./isObject"),keys=require("./keys");module.exports=mixin},{"./_arrayEach":101,"./_arrayPush":105,"./_baseFunctions":115,"./_copyArray":146,"./isFunction":227,"./isObject":229,"./keys":236}],242:[function(require,module){var baseProperty=require("./_baseProperty"),basePropertyDeep=require("./_basePropertyDeep"),isKey=require("./_isKey"),toKey=require("./_toKey");module.exports=function(path){return isKey(path)?baseProperty(toKey(path)):basePropertyDeep(path)}},{"./_baseProperty":132,"./_basePropertyDeep":133,"./_isKey":175,"./_toKey":210}],243:[function(require,module){var arrayReduce=require("./_arrayReduce"),baseEach=require("./_baseEach"),baseIteratee=require("./_baseIteratee"),baseReduce=require("./_baseReduce"),isArray=require("./isArray");module.exports=function(collection,iteratee,accumulator){var func=isArray(collection)?arrayReduce:baseReduce,initAccum=3>arguments.length;return func(collection,baseIteratee(iteratee,4),accumulator,initAccum,baseEach)}},{"./_arrayReduce":106,"./_baseEach":112,"./_baseIteratee":127,"./_baseReduce":134,"./isArray":223}],244:[function(require,module){var baseRepeat=require("./_baseRepeat"),isIterateeCall=require("./_isIterateeCall"),toInteger=require("./toInteger"),toString=require("./toString");module.exports=function(string,n,guard){return n=(guard?isIterateeCall(string,n,guard):void 0===n)?1:toInteger(n),baseRepeat(toString(string),n)}},{"./_baseRepeat":135,"./_isIterateeCall":174,"./toInteger":248,"./toString":251}],245:[function(require,module){module.exports=function(){return[]}},{}],246:[function(require,module){module.exports=function(){return!1}},{}],247:[function(require,module){var toNumber=require("./toNumber"),INFINITY=1/0;module.exports=function(value){if(!value)return 0===value?value:0;if(value=toNumber(value),value===INFINITY||value===-INFINITY){var sign=0>value?-1:1;return 1.7976931348623157e+308*sign}return value===value?value:0}},{"./toNumber":249}],248:[function(require,module){var toFinite=require("./toFinite");module.exports=function(value){var result=toFinite(value),remainder=result%1;return result===result?remainder?result-remainder:result:0}},{"./toFinite":247}],249:[function(require,module){var baseTrim=require("./_baseTrim"),isObject=require("./isObject"),isSymbol=require("./isSymbol"),NAN=0/0,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;module.exports=function(value){if("number"==typeof value)return value;if(isSymbol(value))return NAN;if(isObject(value)){var other="function"==typeof value.valueOf?value.valueOf():value;value=isObject(other)?other+"":other}if("string"!=typeof value)return 0===value?value:+value;value=baseTrim(value);var isBinary=reIsBinary.test(value);return isBinary||reIsOctal.test(value)?freeParseInt(value.slice(2),isBinary?2:8):reIsBadHex.test(value)?NAN:+value}},{"./_baseTrim":140,"./isObject":229,"./isSymbol":233}],250:[function(require,module){var createToPairs=require("./_createToPairs"),keys=require("./keys"),toPairs=createToPairs(keys);module.exports=toPairs},{"./_createToPairs":151,"./keys":236}],251:[function(require,module){var baseToString=require("./_baseToString");module.exports=function(value){return null==value?"":baseToString(value)}},{"./_baseToString":139}],252:[function(require,module){var arrayEach=require("./_arrayEach"),baseCreate=require("./_baseCreate"),baseForOwn=require("./_baseForOwn"),baseIteratee=require("./_baseIteratee"),getPrototype=require("./_getPrototype"),isArray=require("./isArray"),isBuffer=require("./isBuffer"),isFunction=require("./isFunction"),isObject=require("./isObject"),isTypedArray=require("./isTypedArray");module.exports=function(object,iteratee,accumulator){var isArr=isArray(object),isArrLike=isArr||isBuffer(object)||isTypedArray(object);if(iteratee=baseIteratee(iteratee,4),null==accumulator){var Ctor=object&&object.constructor;accumulator=isArrLike?isArr?new Ctor:[]:isObject(object)?isFunction(Ctor)?baseCreate(getPrototype(object)):{}:{}}return(isArrLike?arrayEach:baseForOwn)(object,function(value,index,object){return iteratee(accumulator,value,index,object)}),accumulator}},{"./_arrayEach":101,"./_baseCreate":111,"./_baseForOwn":114,"./_baseIteratee":127,"./_getPrototype":161,"./isArray":223,"./isBuffer":225,"./isFunction":227,"./isObject":229,"./isTypedArray":234}],253:[function(require,module){var createCaseFirst=require("./_createCaseFirst"),upperFirst=createCaseFirst("toUpperCase");module.exports=upperFirst},{"./_createCaseFirst":150}],254:[function(require,module){function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(fun){if(cachedSetTimeout===setTimeout)return setTimeout(fun,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(fun,0);try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}function runClearTimeout(marker){if(cachedClearTimeout===clearTimeout)return clearTimeout(marker);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(marker);try{return cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var timeout=runTimeout(cleanUpNextTick);draining=!0;for(var len=queue.length;len;){for(currentQueue=queue,queue=[];++queueIndex<len;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,len=queue.length}currentQueue=null,draining=!1,runClearTimeout(timeout)}}function Item(fun,array){this.fun=fun,this.array=array}function noop(){}var process=module.exports={},cachedSetTimeout,cachedClearTimeout;(function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}})();var queue=[],draining=!1,queueIndex=-1,currentQueue;process.nextTick=function(fun){var args=Array(arguments.length-1);if(1<arguments.length)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(fun,args)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.prependListener=noop,process.prependOnceListener=noop,process.listeners=function(name){return[]},process.binding=function(name){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(dir){throw new Error("process.chdir is not supported")},process.umask=function(){return 0}},{}],255:[function(require,module){'use strict';function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}module.exports=function(qs,sep,eq,options){sep=sep||"&",eq=eq||"=";var obj={};if("string"!=typeof qs||0===qs.length)return obj;var regexp=/\+/g;qs=qs.split(sep);var maxKeys=1e3;options&&"number"==typeof options.maxKeys&&(maxKeys=options.maxKeys);var len=qs.length;0<maxKeys&&len>maxKeys&&(len=maxKeys);for(var i=0;i<len;++i){var x=qs[i].replace(regexp,"%20"),idx=x.indexOf(eq),kstr,vstr,k,v;0<=idx?(kstr=x.substr(0,idx),vstr=x.substr(idx+1)):(kstr=x,vstr=""),k=decodeURIComponent(kstr),v=decodeURIComponent(vstr),hasOwnProperty(obj,k)?isArray(obj[k])?obj[k].push(v):obj[k]=[obj[k],v]:obj[k]=v}return obj};var isArray=Array.isArray||function(xs){return"[object Array]"===Object.prototype.toString.call(xs)}},{}],256:[function(require,module){'use strict';function map(xs,f){if(xs.map)return xs.map(f);for(var res=[],i=0;i<xs.length;i++)res.push(f(xs[i],i));return res}var stringifyPrimitive=function(v){switch(typeof v){case"string":return v;case"boolean":return v?"true":"false";case"number":return isFinite(v)?v:"";default:return"";}};module.exports=function(obj,sep,eq,name){return sep=sep||"&",eq=eq||"=",null===obj&&(obj=void 0),"object"==typeof obj?map(objectKeys(obj),function(k){var ks=encodeURIComponent(stringifyPrimitive(k))+eq;return isArray(obj[k])?map(obj[k],function(v){return ks+encodeURIComponent(stringifyPrimitive(v))}).join(sep):ks+encodeURIComponent(stringifyPrimitive(obj[k]))}).join(sep):name?encodeURIComponent(stringifyPrimitive(name))+eq+encodeURIComponent(stringifyPrimitive(obj)):""};var isArray=Array.isArray||function(xs){return"[object Array]"===Object.prototype.toString.call(xs)},objectKeys=Object.keys||function(obj){var res=[];for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&res.push(key);return res}},{}],257:[function(require,module,exports){'use strict';exports.decode=exports.parse=require("./decode"),exports.encode=exports.stringify=require("./encode")},{"./decode":255,"./encode":256}],258:[function(require,module,exports){function copyProps(src,dst){for(var key in src)dst[key]=src[key]}function SafeBuffer(arg,encodingOrOffset,length){return Buffer(arg,encodingOrOffset,length)}/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var buffer=require("buffer"),Buffer=buffer.Buffer;Buffer.from&&Buffer.alloc&&Buffer.allocUnsafe&&Buffer.allocUnsafeSlow?module.exports=buffer:(copyProps(buffer,exports),exports.Buffer=SafeBuffer),SafeBuffer.prototype=Object.create(Buffer.prototype),copyProps(Buffer,SafeBuffer),SafeBuffer.from=function(arg,encodingOrOffset,length){if("number"==typeof arg)throw new TypeError("Argument must not be a number");return Buffer(arg,encodingOrOffset,length)},SafeBuffer.alloc=function(size,fill,encoding){if("number"!=typeof size)throw new TypeError("Argument must be a number");var buf=Buffer(size);return void 0===fill?buf.fill(0):"string"==typeof encoding?buf.fill(fill,encoding):buf.fill(fill),buf},SafeBuffer.allocUnsafe=function(size){if("number"!=typeof size)throw new TypeError("Argument must be a number");return Buffer(size)},SafeBuffer.allocUnsafeSlow=function(size){if("number"!=typeof size)throw new TypeError("Argument must be a number");return buffer.SlowBuffer(size)}},{buffer:70}],259:[function(require,module,exports){(function(global){(function(){var ClientRequest=require("./lib/request"),response=require("./lib/response"),extend=require("xtend"),statusCodes=require("builtin-status-codes"),url=require("url"),http=exports;http.request=function(opts,cb){opts="string"==typeof opts?url.parse(opts):extend(opts);var defaultProtocol=-1===global.location.protocol.search(/^https?:$/)?"http:":"",protocol=opts.protocol||defaultProtocol,host=opts.hostname||opts.host,port=opts.port,path=opts.path||"/";host&&-1!==host.indexOf(":")&&(host="["+host+"]"),opts.url=(host?protocol+"//"+host:"")+(port?":"+port:"")+path,opts.method=(opts.method||"GET").toUpperCase(),opts.headers=opts.headers||{};var req=new ClientRequest(opts);return cb&&req.on("response",cb),req},http.get=function(opts,cb){var req=http.request(opts,cb);return req.end(),req},http.ClientRequest=ClientRequest,http.IncomingMessage=response.IncomingMessage,http.Agent=function(){},http.Agent.defaultMaxSockets=4,http.globalAgent=new http.Agent,http.STATUS_CODES=statusCodes,http.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this)}).call(this,"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global)},{"./lib/request":261,"./lib/response":262,"builtin-status-codes":71,url:279,xtend:282}],260:[function(require,module,exports){(function(global){(function(){function getXHR(){if(xhr!==void 0)return xhr;if(global.XMLHttpRequest){xhr=new global.XMLHttpRequest;try{xhr.open("GET",global.XDomainRequest?"/":"https://example.com")}catch(e){xhr=null}}else xhr=null;return xhr}function checkTypeSupport(type){var xhr=getXHR();if(!xhr)return!1;try{return xhr.responseType=type,xhr.responseType===type}catch(e){}return!1}function isFunction(value){return"function"==typeof value}exports.fetch=isFunction(global.fetch)&&isFunction(global.ReadableStream),exports.writableStream=isFunction(global.WritableStream),exports.abortController=isFunction(global.AbortController);var xhr;exports.arraybuffer=exports.fetch||checkTypeSupport("arraybuffer"),exports.msstream=!exports.fetch&&checkTypeSupport("ms-stream"),exports.mozchunkedarraybuffer=!exports.fetch&&checkTypeSupport("moz-chunked-arraybuffer"),exports.overrideMimeType=exports.fetch||!!getXHR()&&isFunction(getXHR().overrideMimeType),xhr=null}).call(this)}).call(this,"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global)},{}],261:[function(require,module){(function(process,global,Buffer){(function(){function decideMode(preferBinary,useFetch){return capability.fetch&&useFetch?"fetch":capability.mozchunkedarraybuffer?"moz-chunked-arraybuffer":capability.msstream?"ms-stream":capability.arraybuffer&&preferBinary?"arraybuffer":"text"}function statusValid(xhr){try{var status=xhr.status;return null!==status&&0!==status}catch(e){return!1}}var capability=require("./capability"),inherits=require("inherits"),response=require("./response"),stream=require("readable-stream"),IncomingMessage=response.IncomingMessage,rStates=response.readyStates,ClientRequest=module.exports=function(opts){var self=this;stream.Writable.call(self),self._opts=opts,self._body=[],self._headers={},opts.auth&&self.setHeader("Authorization","Basic "+Buffer.from(opts.auth).toString("base64")),Object.keys(opts.headers).forEach(function(name){self.setHeader(name,opts.headers[name])});var useFetch=!0,preferBinary;if("disable-fetch"===opts.mode||"requestTimeout"in opts&&!capability.abortController)useFetch=!1,preferBinary=!0;else if("prefer-streaming"===opts.mode)preferBinary=!1;else if("allow-wrong-content-type"===opts.mode)preferBinary=!capability.overrideMimeType;else if(!opts.mode||"default"===opts.mode||"prefer-fast"===opts.mode)preferBinary=!0;else throw new Error("Invalid value for opts.mode");self._mode=decideMode(preferBinary,useFetch),self._fetchTimer=null,self._socketTimeout=null,self._socketTimer=null,self.on("finish",function(){self._onFinish()})};inherits(ClientRequest,stream.Writable),ClientRequest.prototype.setHeader=function(name,value){var self=this,lowerName=name.toLowerCase();-1!==unsafeHeaders.indexOf(lowerName)||(self._headers[lowerName]={name:name,value:value})},ClientRequest.prototype.getHeader=function(name){var header=this._headers[name.toLowerCase()];return header?header.value:null},ClientRequest.prototype.removeHeader=function(name){var self=this;delete self._headers[name.toLowerCase()]},ClientRequest.prototype._onFinish=function(){var self=this;if(!self._destroyed){var opts=self._opts;"timeout"in opts&&0!==opts.timeout&&self.setTimeout(opts.timeout);var headersObj=self._headers,body=null;"GET"!==opts.method&&"HEAD"!==opts.method&&(body=new Blob(self._body,{type:(headersObj["content-type"]||{}).value||""}));var headersList=[];if(Object.keys(headersObj).forEach(function(keyName){var name=headersObj[keyName].name,value=headersObj[keyName].value;Array.isArray(value)?value.forEach(function(v){headersList.push([name,v])}):headersList.push([name,value])}),"fetch"===self._mode){var signal=null;if(capability.abortController){var controller=new AbortController;signal=controller.signal,self._fetchAbortController=controller,"requestTimeout"in opts&&0!==opts.requestTimeout&&(self._fetchTimer=global.setTimeout(function(){self.emit("requestTimeout"),self._fetchAbortController&&self._fetchAbortController.abort()},opts.requestTimeout))}global.fetch(self._opts.url,{method:self._opts.method,headers:headersList,body:body||void 0,mode:"cors",credentials:opts.withCredentials?"include":"same-origin",signal:signal}).then(function(response){self._fetchResponse=response,self._resetTimers(!1),self._connect()},function(reason){self._resetTimers(!0),self._destroyed||self.emit("error",reason)})}else{var xhr=self._xhr=new global.XMLHttpRequest;try{xhr.open(self._opts.method,self._opts.url,!0)}catch(err){return void process.nextTick(function(){self.emit("error",err)})}"responseType"in xhr&&(xhr.responseType=self._mode),"withCredentials"in xhr&&(xhr.withCredentials=!!opts.withCredentials),"text"===self._mode&&"overrideMimeType"in xhr&&xhr.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in opts&&(xhr.timeout=opts.requestTimeout,xhr.ontimeout=function(){self.emit("requestTimeout")}),headersList.forEach(function(header){xhr.setRequestHeader(header[0],header[1])}),self._response=null,xhr.onreadystatechange=function(){switch(xhr.readyState){case rStates.LOADING:case rStates.DONE:self._onXHRProgress();}},"moz-chunked-arraybuffer"===self._mode&&(xhr.onprogress=function(){self._onXHRProgress()}),xhr.onerror=function(){self._destroyed||(self._resetTimers(!0),self.emit("error",new Error("XHR error")))};try{xhr.send(body)}catch(err){return void process.nextTick(function(){self.emit("error",err)})}}}},ClientRequest.prototype._onXHRProgress=function(){var self=this;self._resetTimers(!1);!statusValid(self._xhr)||self._destroyed||(!self._response&&self._connect(),self._response._onXHRProgress(self._resetTimers.bind(self)))},ClientRequest.prototype._connect=function(){var self=this;self._destroyed||(self._response=new IncomingMessage(self._xhr,self._fetchResponse,self._mode,self._resetTimers.bind(self)),self._response.on("error",function(err){self.emit("error",err)}),self.emit("response",self._response))},ClientRequest.prototype._write=function(chunk,encoding,cb){var self=this;self._body.push(chunk),cb()},ClientRequest.prototype._resetTimers=function(done){var self=this;global.clearTimeout(self._socketTimer),self._socketTimer=null,done?(global.clearTimeout(self._fetchTimer),self._fetchTimer=null):self._socketTimeout&&(self._socketTimer=global.setTimeout(function(){self.emit("timeout")},self._socketTimeout))},ClientRequest.prototype.abort=ClientRequest.prototype.destroy=function(err){var self=this;self._destroyed=!0,self._resetTimers(!0),self._response&&(self._response._destroyed=!0),self._xhr?self._xhr.abort():self._fetchAbortController&&self._fetchAbortController.abort(),err&&self.emit("error",err)},ClientRequest.prototype.end=function(data,encoding,cb){var self=this;"function"==typeof data&&(cb=data,data=void 0),stream.Writable.prototype.end.call(self,data,encoding,cb)},ClientRequest.prototype.setTimeout=function(timeout,cb){var self=this;cb&&self.once("timeout",cb),self._socketTimeout=timeout,self._resetTimers(!1)},ClientRequest.prototype.flushHeaders=function(){},ClientRequest.prototype.setNoDelay=function(){},ClientRequest.prototype.setSocketKeepAlive=function(){};var unsafeHeaders=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this)}).call(this,require("_process"),"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global,require("buffer").Buffer)},{"./capability":260,"./response":262,_process:254,buffer:70,inherits:88,"readable-stream":277}],262:[function(require,module,exports){(function(process,global,Buffer){(function(){var capability=require("./capability"),inherits=require("inherits"),stream=require("readable-stream"),rStates=exports.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},IncomingMessage=exports.IncomingMessage=function(xhr,response,mode,resetTimers){var self=this;if(stream.Readable.call(self),self._mode=mode,self.headers={},self.rawHeaders=[],self.trailers={},self.rawTrailers=[],self.on("end",function(){process.nextTick(function(){self.emit("close")})}),"fetch"===mode){function read(){reader.read().then(function(result){if(!self._destroyed)return resetTimers(result.done),result.done?void self.push(null):void(self.push(Buffer.from(result.value)),read())}).catch(function(err){resetTimers(!0),self._destroyed||self.emit("error",err)})}if(self._fetchResponse=response,self.url=response.url,self.statusCode=response.status,self.statusMessage=response.statusText,response.headers.forEach(function(header,key){self.headers[key.toLowerCase()]=header,self.rawHeaders.push(key,header)}),capability.writableStream){var writable=new WritableStream({write:function(chunk){return resetTimers(!1),new Promise(function(resolve,reject){self._destroyed?reject():self.push(Buffer.from(chunk))?resolve():self._resumeFetch=resolve})},close:function(){resetTimers(!0),self._destroyed||self.push(null)},abort:function(err){resetTimers(!0),self._destroyed||self.emit("error",err)}});try{return void response.body.pipeTo(writable).catch(function(err){resetTimers(!0),self._destroyed||self.emit("error",err)})}catch(e){}}var reader=response.body.getReader();read()}else{self._xhr=xhr,self._pos=0,self.url=xhr.responseURL,self.statusCode=xhr.status,self.statusMessage=xhr.statusText;var headers=xhr.getAllResponseHeaders().split(/\r?\n/);if(headers.forEach(function(header){var matches=header.match(/^([^:]+):\s*(.*)/);if(matches){var key=matches[1].toLowerCase();"set-cookie"===key?(void 0===self.headers[key]&&(self.headers[key]=[]),self.headers[key].push(matches[2])):void 0===self.headers[key]?self.headers[key]=matches[2]:self.headers[key]+=", "+matches[2],self.rawHeaders.push(matches[1],matches[2])}}),self._charset="x-user-defined",!capability.overrideMimeType){var mimeType=self.rawHeaders["mime-type"];if(mimeType){var charsetMatch=mimeType.match(/;\s*charset=([^;])(;|$)/);charsetMatch&&(self._charset=charsetMatch[1].toLowerCase())}self._charset||(self._charset="utf-8")}}};inherits(IncomingMessage,stream.Readable),IncomingMessage.prototype._read=function(){var self=this,resolve=self._resumeFetch;resolve&&(self._resumeFetch=null,resolve())},IncomingMessage.prototype._onXHRProgress=function(resetTimers){var self=this,xhr=self._xhr,response=null;switch(self._mode){case"text":if(response=xhr.responseText,response.length>self._pos){var newData=response.substr(self._pos);if("x-user-defined"===self._charset){for(var buffer=Buffer.alloc(newData.length),i=0;i<newData.length;i++)buffer[i]=255&newData.charCodeAt(i);self.push(buffer)}else self.push(newData,self._charset);self._pos=response.length}break;case"arraybuffer":if(xhr.readyState!==rStates.DONE||!xhr.response)break;response=xhr.response,self.push(Buffer.from(new Uint8Array(response)));break;case"moz-chunked-arraybuffer":if(response=xhr.response,xhr.readyState!==rStates.LOADING||!response)break;self.push(Buffer.from(new Uint8Array(response)));break;case"ms-stream":if(response=xhr.response,xhr.readyState!==rStates.LOADING)break;var reader=new global.MSStreamReader;reader.onprogress=function(){reader.result.byteLength>self._pos&&(self.push(Buffer.from(new Uint8Array(reader.result.slice(self._pos)))),self._pos=reader.result.byteLength)},reader.onload=function(){resetTimers(!0),self.push(null)},reader.readAsArrayBuffer(response);}self._xhr.readyState===rStates.DONE&&"ms-stream"!==self._mode&&(resetTimers(!0),self.push(null))}}).call(this)}).call(this,require("_process"),"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global,require("buffer").Buffer)},{"./capability":260,_process:254,buffer:70,inherits:88,"readable-stream":277}],263:[function(require,module){'use strict';function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}function createErrorType(code,message,Base){function getMessage(arg1,arg2,arg3){return"string"==typeof message?message:message(arg1,arg2,arg3)}Base||(Base=Error);var NodeError=function(_Base){function NodeError(arg1,arg2,arg3){return _Base.call(this,getMessage(arg1,arg2,arg3))||this}return _inheritsLoose(NodeError,_Base),NodeError}(Base);NodeError.prototype.name=Base.name,NodeError.prototype.code=code,codes[code]=NodeError}function oneOf(expected,thing){if(Array.isArray(expected)){var len=expected.length;return expected=expected.map(function(i){return i+""}),2<len?"one of ".concat(thing," ").concat(expected.slice(0,len-1).join(", "),", or ")+expected[len-1]:2===len?"one of ".concat(thing," ").concat(expected[0]," or ").concat(expected[1]):"of ".concat(thing," ").concat(expected[0])}return"of ".concat(thing," ").concat(expected+"")}function startsWith(str,search,pos){return str.substr(!pos||0>pos?0:+pos,search.length)===search}function endsWith(str,search,this_len){return(void 0===this_len||this_len>str.length)&&(this_len=str.length),str.substring(this_len-search.length,this_len)===search}function includes(str,search,start){return"number"!=typeof start&&(start=0),!(start+search.length>str.length)&&-1!==str.indexOf(search,start)}var codes={};createErrorType("ERR_INVALID_OPT_VALUE",function(name,value){return"The value \""+value+"\" is invalid for option \""+name+"\""},TypeError),createErrorType("ERR_INVALID_ARG_TYPE",function(name,expected,actual){var determiner;"string"==typeof expected&&startsWith(expected,"not ")?(determiner="must not be",expected=expected.replace(/^not /,"")):determiner="must be";var msg;if(endsWith(name," argument"))msg="The ".concat(name," ").concat(determiner," ").concat(oneOf(expected,"type"));else{var type=includes(name,".")?"property":"argument";msg="The \"".concat(name,"\" ").concat(type," ").concat(determiner," ").concat(oneOf(expected,"type"))}return msg+=". Received type ".concat(typeof actual),msg},TypeError),createErrorType("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),createErrorType("ERR_METHOD_NOT_IMPLEMENTED",function(name){return"The "+name+" method is not implemented"}),createErrorType("ERR_STREAM_PREMATURE_CLOSE","Premature close"),createErrorType("ERR_STREAM_DESTROYED",function(name){return"Cannot call "+name+" after a stream was destroyed"}),createErrorType("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),createErrorType("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),createErrorType("ERR_STREAM_WRITE_AFTER_END","write after end"),createErrorType("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),createErrorType("ERR_UNKNOWN_ENCODING",function(arg){return"Unknown encoding: "+arg},TypeError),createErrorType("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),module.exports.codes=codes},{}],264:[function(require,module){(function(process){(function(){'use strict';function Duplex(options){return this instanceof Duplex?void(Readable.call(this,options),Writable.call(this,options),this.allowHalfOpen=!0,options&&(!1===options.readable&&(this.readable=!1),!1===options.writable&&(this.writable=!1),!1===options.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",onend)))):new Duplex(options)}function onend(){this._writableState.ended||process.nextTick(onEndNT,this)}function onEndNT(self){self.end()}var objectKeys=Object.keys||function(obj){var keys=[];for(var key in obj)keys.push(key);return keys};module.exports=Duplex;var Readable=require("./_stream_readable"),Writable=require("./_stream_writable");require("inherits")(Duplex,Readable);for(var keys=objectKeys(Writable.prototype),v=0,method;v<keys.length;v++)method=keys[v],Duplex.prototype[method]||(Duplex.prototype[method]=Writable.prototype[method]);Object.defineProperty(Duplex.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(Duplex.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(Duplex.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(Duplex.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(value){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=value,this._writableState.destroyed=value)}})}).call(this)}).call(this,require("_process"))},{"./_stream_readable":266,"./_stream_writable":268,_process:254,inherits:88}],265:[function(require,module){'use strict';function PassThrough(options){return this instanceof PassThrough?void Transform.call(this,options):new PassThrough(options)}module.exports=PassThrough;var Transform=require("./_stream_transform");require("inherits")(PassThrough,Transform),PassThrough.prototype._transform=function(chunk,encoding,cb){cb(null,chunk)}},{"./_stream_transform":267,inherits:88}],266:[function(require,module){(function(process,global){(function(){'use strict';function _uint8ArrayToBuffer(chunk){return Buffer.from(chunk)}function _isUint8Array(obj){return Buffer.isBuffer(obj)||obj instanceof OurUint8Array}function prependListener(emitter,event,fn){return"function"==typeof emitter.prependListener?emitter.prependListener(event,fn):void(emitter._events&&emitter._events[event]?Array.isArray(emitter._events[event])?emitter._events[event].unshift(fn):emitter._events[event]=[fn,emitter._events[event]]:emitter.on(event,fn))}function ReadableState(options,stream,isDuplex){Duplex=Duplex||require("./_stream_duplex"),options=options||{},"boolean"!=typeof isDuplex&&(isDuplex=stream instanceof Duplex),this.objectMode=!!options.objectMode,isDuplex&&(this.objectMode=this.objectMode||!!options.readableObjectMode),this.highWaterMark=getHighWaterMark(this,options,"readableHighWaterMark",isDuplex),this.buffer=new BufferList,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==options.emitClose,this.autoDestroy=!!options.autoDestroy,this.destroyed=!1,this.defaultEncoding=options.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,options.encoding&&(!StringDecoder&&(StringDecoder=require("string_decoder/").StringDecoder),this.decoder=new StringDecoder(options.encoding),this.encoding=options.encoding)}function Readable(options){if(Duplex=Duplex||require("./_stream_duplex"),!(this instanceof Readable))return new Readable(options);var isDuplex=this instanceof Duplex;this._readableState=new ReadableState(options,this,isDuplex),this.readable=!0,options&&("function"==typeof options.read&&(this._read=options.read),"function"==typeof options.destroy&&(this._destroy=options.destroy)),Stream.call(this)}function readableAddChunk(stream,chunk,encoding,addToFront,skipChunkCheck){debug("readableAddChunk",chunk);var state=stream._readableState;if(null===chunk)state.reading=!1,onEofChunk(stream,state);else{var er;if(skipChunkCheck||(er=chunkInvalid(state,chunk)),er)errorOrDestroy(stream,er);else if(!(state.objectMode||chunk&&0<chunk.length))addToFront||(state.reading=!1,maybeReadMore(stream,state));else if("string"==typeof chunk||state.objectMode||Object.getPrototypeOf(chunk)===Buffer.prototype||(chunk=_uint8ArrayToBuffer(chunk)),addToFront)state.endEmitted?errorOrDestroy(stream,new ERR_STREAM_UNSHIFT_AFTER_END_EVENT):addChunk(stream,state,chunk,!0);else if(state.ended)errorOrDestroy(stream,new ERR_STREAM_PUSH_AFTER_EOF);else{if(state.destroyed)return!1;state.reading=!1,state.decoder&&!encoding?(chunk=state.decoder.write(chunk),state.objectMode||0!==chunk.length?addChunk(stream,state,chunk,!1):maybeReadMore(stream,state)):addChunk(stream,state,chunk,!1)}}return!state.ended&&(state.length<state.highWaterMark||0===state.length)}function addChunk(stream,state,chunk,addToFront){state.flowing&&0===state.length&&!state.sync?(state.awaitDrain=0,stream.emit("data",chunk)):(state.length+=state.objectMode?1:chunk.length,addToFront?state.buffer.unshift(chunk):state.buffer.push(chunk),state.needReadable&&emitReadable(stream)),maybeReadMore(stream,state)}function chunkInvalid(state,chunk){var er;return _isUint8Array(chunk)||"string"==typeof chunk||void 0===chunk||state.objectMode||(er=new ERR_INVALID_ARG_TYPE("chunk",["string","Buffer","Uint8Array"],chunk)),er}function computeNewHighWaterMark(n){return 1073741824<=n?n=1073741824:(n--,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n++),n}function howMuchToRead(n,state){return 0>=n||0===state.length&&state.ended?0:state.objectMode?1:n===n?(n>state.highWaterMark&&(state.highWaterMark=computeNewHighWaterMark(n)),n<=state.length?n:state.ended?state.length:(state.needReadable=!0,0)):state.flowing&&state.length?state.buffer.head.data.length:state.length}function onEofChunk(stream,state){if(debug("onEofChunk"),!state.ended){if(state.decoder){var chunk=state.decoder.end();chunk&&chunk.length&&(state.buffer.push(chunk),state.length+=state.objectMode?1:chunk.length)}state.ended=!0,state.sync?emitReadable(stream):(state.needReadable=!1,!state.emittedReadable&&(state.emittedReadable=!0,emitReadable_(stream)))}}function emitReadable(stream){var state=stream._readableState;debug("emitReadable",state.needReadable,state.emittedReadable),state.needReadable=!1,state.emittedReadable||(debug("emitReadable",state.flowing),state.emittedReadable=!0,process.nextTick(emitReadable_,stream))}function emitReadable_(stream){var state=stream._readableState;debug("emitReadable_",state.destroyed,state.length,state.ended),!state.destroyed&&(state.length||state.ended)&&(stream.emit("readable"),state.emittedReadable=!1),state.needReadable=!state.flowing&&!state.ended&&state.length<=state.highWaterMark,flow(stream)}function maybeReadMore(stream,state){state.readingMore||(state.readingMore=!0,process.nextTick(maybeReadMore_,stream,state))}function maybeReadMore_(stream,state){for(;!state.reading&&!state.ended&&(state.length<state.highWaterMark||state.flowing&&0===state.length);){var len=state.length;if(debug("maybeReadMore read 0"),stream.read(0),len===state.length)break}state.readingMore=!1}function pipeOnDrain(src){return function pipeOnDrainFunctionResult(){var state=src._readableState;debug("pipeOnDrain",state.awaitDrain),state.awaitDrain&&state.awaitDrain--,0===state.awaitDrain&&EElistenerCount(src,"data")&&(state.flowing=!0,flow(src))}}function updateReadableListening(self){var state=self._readableState;state.readableListening=0<self.listenerCount("readable"),state.resumeScheduled&&!state.paused?state.flowing=!0:0<self.listenerCount("data")&&self.resume()}function nReadingNextTick(self){debug("readable nexttick read 0"),self.read(0)}function resume(stream,state){state.resumeScheduled||(state.resumeScheduled=!0,process.nextTick(resume_,stream,state))}function resume_(stream,state){debug("resume",state.reading),state.reading||stream.read(0),state.resumeScheduled=!1,stream.emit("resume"),flow(stream),state.flowing&&!state.reading&&stream.read(0)}function flow(stream){var state=stream._readableState;for(debug("flow",state.flowing);state.flowing&&null!==stream.read(););}function fromList(n,state){if(0===state.length)return null;var ret;return state.objectMode?ret=state.buffer.shift():!n||n>=state.length?(ret=state.decoder?state.buffer.join(""):1===state.buffer.length?state.buffer.first():state.buffer.concat(state.length),state.buffer.clear()):ret=state.buffer.consume(n,state.decoder),ret}function endReadable(stream){var state=stream._readableState;debug("endReadable",state.endEmitted),state.endEmitted||(state.ended=!0,process.nextTick(endReadableNT,state,stream))}function endReadableNT(state,stream){if(debug("endReadableNT",state.endEmitted,state.length),!state.endEmitted&&0===state.length&&(state.endEmitted=!0,stream.readable=!1,stream.emit("end"),state.autoDestroy)){var wState=stream._writableState;(!wState||wState.autoDestroy&&wState.finished)&&stream.destroy()}}function indexOf(xs,x){for(var i=0,l=xs.length;i<l;i++)if(xs[i]===x)return i;return-1}module.exports=Readable;var Duplex;Readable.ReadableState=ReadableState;var EE=require("events").EventEmitter,EElistenerCount=function EElistenerCount(emitter,type){return emitter.listeners(type).length},Stream=require("./internal/streams/stream"),Buffer=require("buffer").Buffer,OurUint8Array=global.Uint8Array||function(){},debugUtil=require("util"),debug;debug=debugUtil&&debugUtil.debuglog?debugUtil.debuglog("stream"):function debug(){};var BufferList=require("./internal/streams/buffer_list"),destroyImpl=require("./internal/streams/destroy"),_require=require("./internal/streams/state"),getHighWaterMark=_require.getHighWaterMark,_require$codes=require("../errors").codes,ERR_INVALID_ARG_TYPE=_require$codes.ERR_INVALID_ARG_TYPE,ERR_STREAM_PUSH_AFTER_EOF=_require$codes.ERR_STREAM_PUSH_AFTER_EOF,ERR_METHOD_NOT_IMPLEMENTED=_require$codes.ERR_METHOD_NOT_IMPLEMENTED,ERR_STREAM_UNSHIFT_AFTER_END_EVENT=_require$codes.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,StringDecoder,createReadableStreamAsyncIterator,from;require("inherits")(Readable,Stream);var errorOrDestroy=destroyImpl.errorOrDestroy,kProxyEvents=["error","close","destroy","pause","resume"];Object.defineProperty(Readable.prototype,"destroyed",{enumerable:!1,get:function get(){return void 0!==this._readableState&&this._readableState.destroyed},set:function set(value){this._readableState&&(this._readableState.destroyed=value)}}),Readable.prototype.destroy=destroyImpl.destroy,Readable.prototype._undestroy=destroyImpl.undestroy,Readable.prototype._destroy=function(err,cb){cb(err)},Readable.prototype.push=function(chunk,encoding){var state=this._readableState,skipChunkCheck;return state.objectMode?skipChunkCheck=!0:"string"==typeof chunk&&(encoding=encoding||state.defaultEncoding,encoding!==state.encoding&&(chunk=Buffer.from(chunk,encoding),encoding=""),skipChunkCheck=!0),readableAddChunk(this,chunk,encoding,!1,skipChunkCheck)},Readable.prototype.unshift=function(chunk){return readableAddChunk(this,chunk,null,!0,!1)},Readable.prototype.isPaused=function(){return!1===this._readableState.flowing},Readable.prototype.setEncoding=function(enc){StringDecoder||(StringDecoder=require("string_decoder/").StringDecoder);var decoder=new StringDecoder(enc);this._readableState.decoder=decoder,this._readableState.encoding=this._readableState.decoder.encoding;for(var p=this._readableState.buffer.head,content="";null!==p;)content+=decoder.write(p.data),p=p.next;return this._readableState.buffer.clear(),""!==content&&this._readableState.buffer.push(content),this._readableState.length=content.length,this};Readable.prototype.read=function(n){debug("read",n),n=parseInt(n,10);var state=this._readableState,nOrig=n;if(0!==n&&(state.emittedReadable=!1),0===n&&state.needReadable&&((0===state.highWaterMark?0<state.length:state.length>=state.highWaterMark)||state.ended))return debug("read: emitReadable",state.length,state.ended),0===state.length&&state.ended?endReadable(this):emitReadable(this),null;if(n=howMuchToRead(n,state),0===n&&state.ended)return 0===state.length&&endReadable(this),null;var doRead=state.needReadable;debug("need readable",doRead),(0===state.length||state.length-n<state.highWaterMark)&&(doRead=!0,debug("length less than watermark",doRead)),state.ended||state.reading?(doRead=!1,debug("reading or ended",doRead)):doRead&&(debug("do read"),state.reading=!0,state.sync=!0,0===state.length&&(state.needReadable=!0),this._read(state.highWaterMark),state.sync=!1,!state.reading&&(n=howMuchToRead(nOrig,state)));var ret;return ret=0<n?fromList(n,state):null,null===ret?(state.needReadable=state.length<=state.highWaterMark,n=0):(state.length-=n,state.awaitDrain=0),0===state.length&&(!state.ended&&(state.needReadable=!0),nOrig!==n&&state.ended&&endReadable(this)),null!==ret&&this.emit("data",ret),ret},Readable.prototype._read=function(n){errorOrDestroy(this,new ERR_METHOD_NOT_IMPLEMENTED("_read()"))},Readable.prototype.pipe=function(dest,pipeOpts){function onunpipe(readable,unpipeInfo){debug("onunpipe"),readable===src&&unpipeInfo&&!1===unpipeInfo.hasUnpiped&&(unpipeInfo.hasUnpiped=!0,cleanup())}function onend(){debug("onend"),dest.end()}function cleanup(){debug("cleanup"),dest.removeListener("close",onclose),dest.removeListener("finish",onfinish),dest.removeListener("drain",ondrain),dest.removeListener("error",onerror),dest.removeListener("unpipe",onunpipe),src.removeListener("end",onend),src.removeListener("end",unpipe),src.removeListener("data",ondata),cleanedUp=!0,state.awaitDrain&&(!dest._writableState||dest._writableState.needDrain)&&ondrain()}function ondata(chunk){debug("ondata");var ret=dest.write(chunk);debug("dest.write",ret),!1===ret&&((1===state.pipesCount&&state.pipes===dest||1<state.pipesCount&&-1!==indexOf(state.pipes,dest))&&!cleanedUp&&(debug("false write response, pause",state.awaitDrain),state.awaitDrain++),src.pause())}function onerror(er){debug("onerror",er),unpipe(),dest.removeListener("error",onerror),0===EElistenerCount(dest,"error")&&errorOrDestroy(dest,er)}function onclose(){dest.removeListener("finish",onfinish),unpipe()}function onfinish(){debug("onfinish"),dest.removeListener("close",onclose),unpipe()}function unpipe(){debug("unpipe"),src.unpipe(dest)}var src=this,state=this._readableState;switch(state.pipesCount){case 0:state.pipes=dest;break;case 1:state.pipes=[state.pipes,dest];break;default:state.pipes.push(dest);}state.pipesCount+=1,debug("pipe count=%d opts=%j",state.pipesCount,pipeOpts);var doEnd=(!pipeOpts||!1!==pipeOpts.end)&&dest!==process.stdout&&dest!==process.stderr,endFn=doEnd?onend:unpipe;state.endEmitted?process.nextTick(endFn):src.once("end",endFn),dest.on("unpipe",onunpipe);var ondrain=pipeOnDrain(src);dest.on("drain",ondrain);var cleanedUp=!1;return src.on("data",ondata),prependListener(dest,"error",onerror),dest.once("close",onclose),dest.once("finish",onfinish),dest.emit("pipe",src),state.flowing||(debug("pipe resume"),src.resume()),dest},Readable.prototype.unpipe=function(dest){var state=this._readableState,unpipeInfo={hasUnpiped:!1};if(0===state.pipesCount)return this;if(1===state.pipesCount)return dest&&dest!==state.pipes?this:(dest||(dest=state.pipes),state.pipes=null,state.pipesCount=0,state.flowing=!1,dest&&dest.emit("unpipe",this,unpipeInfo),this);if(!dest){var dests=state.pipes,len=state.pipesCount;state.pipes=null,state.pipesCount=0,state.flowing=!1;for(var i=0;i<len;i++)dests[i].emit("unpipe",this,{hasUnpiped:!1});return this}var index=indexOf(state.pipes,dest);return-1===index?this:(state.pipes.splice(index,1),state.pipesCount-=1,1===state.pipesCount&&(state.pipes=state.pipes[0]),dest.emit("unpipe",this,unpipeInfo),this)},Readable.prototype.on=function(ev,fn){var res=Stream.prototype.on.call(this,ev,fn),state=this._readableState;return"data"===ev?(state.readableListening=0<this.listenerCount("readable"),!1!==state.flowing&&this.resume()):"readable"==ev&&!state.endEmitted&&!state.readableListening&&(state.readableListening=state.needReadable=!0,state.flowing=!1,state.emittedReadable=!1,debug("on readable",state.length,state.reading),state.length?emitReadable(this):!state.reading&&process.nextTick(nReadingNextTick,this)),res},Readable.prototype.addListener=Readable.prototype.on,Readable.prototype.removeListener=function(ev,fn){var res=Stream.prototype.removeListener.call(this,ev,fn);return"readable"===ev&&process.nextTick(updateReadableListening,this),res},Readable.prototype.removeAllListeners=function(ev){var res=Stream.prototype.removeAllListeners.apply(this,arguments);return("readable"===ev||void 0===ev)&&process.nextTick(updateReadableListening,this),res},Readable.prototype.resume=function(){var state=this._readableState;return state.flowing||(debug("resume"),state.flowing=!state.readableListening,resume(this,state)),state.paused=!1,this},Readable.prototype.pause=function(){return debug("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(debug("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},Readable.prototype.wrap=function(stream){var _this=this,state=this._readableState,paused=!1;for(var i in stream.on("end",function(){if(debug("wrapped end"),state.decoder&&!state.ended){var chunk=state.decoder.end();chunk&&chunk.length&&_this.push(chunk)}_this.push(null)}),stream.on("data",function(chunk){if((debug("wrapped data"),state.decoder&&(chunk=state.decoder.write(chunk)),!(state.objectMode&&(null===chunk||void 0===chunk)))&&(state.objectMode||chunk&&chunk.length)){var ret=_this.push(chunk);ret||(paused=!0,stream.pause())}}),stream)void 0===this[i]&&"function"==typeof stream[i]&&(this[i]=function methodWrap(method){return function methodWrapReturnFunction(){return stream[method].apply(stream,arguments)}}(i));for(var n=0;n<kProxyEvents.length;n++)stream.on(kProxyEvents[n],this.emit.bind(this,kProxyEvents[n]));return this._read=function(n){debug("wrapped _read",n),paused&&(paused=!1,stream.resume())},this},"function"==typeof Symbol&&(Readable.prototype[Symbol.asyncIterator]=function(){return void 0===createReadableStreamAsyncIterator&&(createReadableStreamAsyncIterator=require("./internal/streams/async_iterator")),createReadableStreamAsyncIterator(this)}),Object.defineProperty(Readable.prototype,"readableHighWaterMark",{enumerable:!1,get:function get(){return this._readableState.highWaterMark}}),Object.defineProperty(Readable.prototype,"readableBuffer",{enumerable:!1,get:function get(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(Readable.prototype,"readableFlowing",{enumerable:!1,get:function get(){return this._readableState.flowing},set:function set(state){this._readableState&&(this._readableState.flowing=state)}}),Readable._fromList=fromList,Object.defineProperty(Readable.prototype,"readableLength",{enumerable:!1,get:function get(){return this._readableState.length}}),"function"==typeof Symbol&&(Readable.from=function(iterable,opts){return void 0===from&&(from=require("./internal/streams/from")),from(Readable,iterable,opts)})}).call(this)}).call(this,require("_process"),"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global)},{"../errors":263,"./_stream_duplex":264,"./internal/streams/async_iterator":269,"./internal/streams/buffer_list":270,"./internal/streams/destroy":271,"./internal/streams/from":273,"./internal/streams/state":275,"./internal/streams/stream":276,_process:254,buffer:70,events:84,inherits:88,"string_decoder/":278,util:68}],267:[function(require,module){'use strict';function afterTransform(er,data){var ts=this._transformState;ts.transforming=!1;var cb=ts.writecb;if(null===cb)return this.emit("error",new ERR_MULTIPLE_CALLBACK);ts.writechunk=null,ts.writecb=null,null!=data&&this.push(data),cb(er);var rs=this._readableState;rs.reading=!1,(rs.needReadable||rs.length<rs.highWaterMark)&&this._read(rs.highWaterMark)}function Transform(options){return this instanceof Transform?void(Duplex.call(this,options),this._transformState={afterTransform:afterTransform.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,options&&("function"==typeof options.transform&&(this._transform=options.transform),"function"==typeof options.flush&&(this._flush=options.flush)),this.on("prefinish",prefinish)):new Transform(options)}function prefinish(){var _this=this;"function"!=typeof this._flush||this._readableState.destroyed?done(this,null,null):this._flush(function(er,data){done(_this,er,data)})}function done(stream,er,data){if(er)return stream.emit("error",er);if(null!=data&&stream.push(data),stream._writableState.length)throw new ERR_TRANSFORM_WITH_LENGTH_0;if(stream._transformState.transforming)throw new ERR_TRANSFORM_ALREADY_TRANSFORMING;return stream.push(null)}module.exports=Transform;var _require$codes=require("../errors").codes,ERR_METHOD_NOT_IMPLEMENTED=_require$codes.ERR_METHOD_NOT_IMPLEMENTED,ERR_MULTIPLE_CALLBACK=_require$codes.ERR_MULTIPLE_CALLBACK,ERR_TRANSFORM_ALREADY_TRANSFORMING=_require$codes.ERR_TRANSFORM_ALREADY_TRANSFORMING,ERR_TRANSFORM_WITH_LENGTH_0=_require$codes.ERR_TRANSFORM_WITH_LENGTH_0,Duplex=require("./_stream_duplex");require("inherits")(Transform,Duplex),Transform.prototype.push=function(chunk,encoding){return this._transformState.needTransform=!1,Duplex.prototype.push.call(this,chunk,encoding)},Transform.prototype._transform=function(chunk,encoding,cb){cb(new ERR_METHOD_NOT_IMPLEMENTED("_transform()"))},Transform.prototype._write=function(chunk,encoding,cb){var ts=this._transformState;if(ts.writecb=cb,ts.writechunk=chunk,ts.writeencoding=encoding,!ts.transforming){var rs=this._readableState;(ts.needTransform||rs.needReadable||rs.length<rs.highWaterMark)&&this._read(rs.highWaterMark)}},Transform.prototype._read=function(){var ts=this._transformState;null===ts.writechunk||ts.transforming?ts.needTransform=!0:(ts.transforming=!0,this._transform(ts.writechunk,ts.writeencoding,ts.afterTransform))},Transform.prototype._destroy=function(err,cb){Duplex.prototype._destroy.call(this,err,function(err2){cb(err2)})}},{"../errors":263,"./_stream_duplex":264,inherits:88}],268:[function(require,module){(function(process,global){(function(){'use strict';function CorkedRequest(state){var _this=this;this.next=null,this.entry=null,this.finish=function(){onCorkedFinish(_this,state)}}function _uint8ArrayToBuffer(chunk){return Buffer.from(chunk)}function _isUint8Array(obj){return Buffer.isBuffer(obj)||obj instanceof OurUint8Array}function nop(){}function WritableState(options,stream,isDuplex){Duplex=Duplex||require("./_stream_duplex"),options=options||{},"boolean"!=typeof isDuplex&&(isDuplex=stream instanceof Duplex),this.objectMode=!!options.objectMode,isDuplex&&(this.objectMode=this.objectMode||!!options.writableObjectMode),this.highWaterMark=getHighWaterMark(this,options,"writableHighWaterMark",isDuplex),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var noDecode=!1===options.decodeStrings;this.decodeStrings=!noDecode,this.defaultEncoding=options.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(er){onwrite(stream,er)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==options.emitClose,this.autoDestroy=!!options.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new CorkedRequest(this)}function Writable(options){Duplex=Duplex||require("./_stream_duplex");var isDuplex=this instanceof Duplex;return isDuplex||realHasInstance.call(Writable,this)?void(this._writableState=new WritableState(options,this,isDuplex),this.writable=!0,options&&("function"==typeof options.write&&(this._write=options.write),"function"==typeof options.writev&&(this._writev=options.writev),"function"==typeof options.destroy&&(this._destroy=options.destroy),"function"==typeof options.final&&(this._final=options.final)),Stream.call(this)):new Writable(options)}function writeAfterEnd(stream,cb){var er=new ERR_STREAM_WRITE_AFTER_END;errorOrDestroy(stream,er),process.nextTick(cb,er)}function validChunk(stream,state,chunk,cb){var er;return null===chunk?er=new ERR_STREAM_NULL_VALUES:"string"!=typeof chunk&&!state.objectMode&&(er=new ERR_INVALID_ARG_TYPE("chunk",["string","Buffer"],chunk)),!er||(errorOrDestroy(stream,er),process.nextTick(cb,er),!1)}function decodeChunk(state,chunk,encoding){return state.objectMode||!1===state.decodeStrings||"string"!=typeof chunk||(chunk=Buffer.from(chunk,encoding)),chunk}function writeOrBuffer(stream,state,isBuf,chunk,encoding,cb){if(!isBuf){var newChunk=decodeChunk(state,chunk,encoding);chunk!==newChunk&&(isBuf=!0,encoding="buffer",chunk=newChunk)}var len=state.objectMode?1:chunk.length;state.length+=len;var ret=state.length<state.highWaterMark;if(ret||(state.needDrain=!0),state.writing||state.corked){var last=state.lastBufferedRequest;state.lastBufferedRequest={chunk:chunk,encoding:encoding,isBuf:isBuf,callback:cb,next:null},last?last.next=state.lastBufferedRequest:state.bufferedRequest=state.lastBufferedRequest,state.bufferedRequestCount+=1}else doWrite(stream,state,!1,len,chunk,encoding,cb);return ret}function doWrite(stream,state,writev,len,chunk,encoding,cb){state.writelen=len,state.writecb=cb,state.writing=!0,state.sync=!0,state.destroyed?state.onwrite(new ERR_STREAM_DESTROYED("write")):writev?stream._writev(chunk,state.onwrite):stream._write(chunk,encoding,state.onwrite),state.sync=!1}function onwriteError(stream,state,sync,er,cb){--state.pendingcb,sync?(process.nextTick(cb,er),process.nextTick(finishMaybe,stream,state),stream._writableState.errorEmitted=!0,errorOrDestroy(stream,er)):(cb(er),stream._writableState.errorEmitted=!0,errorOrDestroy(stream,er),finishMaybe(stream,state))}function onwriteStateUpdate(state){state.writing=!1,state.writecb=null,state.length-=state.writelen,state.writelen=0}function onwrite(stream,er){var state=stream._writableState,sync=state.sync,cb=state.writecb;if("function"!=typeof cb)throw new ERR_MULTIPLE_CALLBACK;if(onwriteStateUpdate(state),er)onwriteError(stream,state,sync,er,cb);else{var finished=needFinish(state)||stream.destroyed;finished||state.corked||state.bufferProcessing||!state.bufferedRequest||clearBuffer(stream,state),sync?process.nextTick(afterWrite,stream,state,finished,cb):afterWrite(stream,state,finished,cb)}}function afterWrite(stream,state,finished,cb){finished||onwriteDrain(stream,state),state.pendingcb--,cb(),finishMaybe(stream,state)}function onwriteDrain(stream,state){0===state.length&&state.needDrain&&(state.needDrain=!1,stream.emit("drain"))}function clearBuffer(stream,state){state.bufferProcessing=!0;var entry=state.bufferedRequest;if(stream._writev&&entry&&entry.next){var l=state.bufferedRequestCount,buffer=Array(l),holder=state.corkedRequestsFree;holder.entry=entry;for(var count=0,allBuffers=!0;entry;)buffer[count]=entry,entry.isBuf||(allBuffers=!1),entry=entry.next,count+=1;buffer.allBuffers=allBuffers,doWrite(stream,state,!0,state.length,buffer,"",holder.finish),state.pendingcb++,state.lastBufferedRequest=null,holder.next?(state.corkedRequestsFree=holder.next,holder.next=null):state.corkedRequestsFree=new CorkedRequest(state),state.bufferedRequestCount=0}else{for(;entry;){var chunk=entry.chunk,encoding=entry.encoding,cb=entry.callback,len=state.objectMode?1:chunk.length;if(doWrite(stream,state,!1,len,chunk,encoding,cb),entry=entry.next,state.bufferedRequestCount--,state.writing)break}null===entry&&(state.lastBufferedRequest=null)}state.bufferedRequest=entry,state.bufferProcessing=!1}function needFinish(state){return state.ending&&0===state.length&&null===state.bufferedRequest&&!state.finished&&!state.writing}function callFinal(stream,state){stream._final(function(err){state.pendingcb--,err&&errorOrDestroy(stream,err),state.prefinished=!0,stream.emit("prefinish"),finishMaybe(stream,state)})}function prefinish(stream,state){state.prefinished||state.finalCalled||("function"!=typeof stream._final||state.destroyed?(state.prefinished=!0,stream.emit("prefinish")):(state.pendingcb++,state.finalCalled=!0,process.nextTick(callFinal,stream,state)))}function finishMaybe(stream,state){var need=needFinish(state);if(need&&(prefinish(stream,state),0===state.pendingcb&&(state.finished=!0,stream.emit("finish"),state.autoDestroy))){var rState=stream._readableState;(!rState||rState.autoDestroy&&rState.endEmitted)&&stream.destroy()}return need}function endWritable(stream,state,cb){state.ending=!0,finishMaybe(stream,state),cb&&(state.finished?process.nextTick(cb):stream.once("finish",cb)),state.ended=!0,stream.writable=!1}function onCorkedFinish(corkReq,state,err){var entry=corkReq.entry;for(corkReq.entry=null;entry;){var cb=entry.callback;state.pendingcb--,cb(err),entry=entry.next}state.corkedRequestsFree.next=corkReq}module.exports=Writable;var Duplex;Writable.WritableState=WritableState;var internalUtil={deprecate:require("util-deprecate")},Stream=require("./internal/streams/stream"),Buffer=require("buffer").Buffer,OurUint8Array=global.Uint8Array||function(){},destroyImpl=require("./internal/streams/destroy"),_require=require("./internal/streams/state"),getHighWaterMark=_require.getHighWaterMark,_require$codes=require("../errors").codes,ERR_INVALID_ARG_TYPE=_require$codes.ERR_INVALID_ARG_TYPE,ERR_METHOD_NOT_IMPLEMENTED=_require$codes.ERR_METHOD_NOT_IMPLEMENTED,ERR_MULTIPLE_CALLBACK=_require$codes.ERR_MULTIPLE_CALLBACK,ERR_STREAM_CANNOT_PIPE=_require$codes.ERR_STREAM_CANNOT_PIPE,ERR_STREAM_DESTROYED=_require$codes.ERR_STREAM_DESTROYED,ERR_STREAM_NULL_VALUES=_require$codes.ERR_STREAM_NULL_VALUES,ERR_STREAM_WRITE_AFTER_END=_require$codes.ERR_STREAM_WRITE_AFTER_END,ERR_UNKNOWN_ENCODING=_require$codes.ERR_UNKNOWN_ENCODING,errorOrDestroy=destroyImpl.errorOrDestroy;require("inherits")(Writable,Stream),WritableState.prototype.getBuffer=function(){for(var current=this.bufferedRequest,out=[];current;)out.push(current),current=current.next;return out},function(){try{Object.defineProperty(WritableState.prototype,"buffer",{get:internalUtil.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(_){}}();var realHasInstance;"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(realHasInstance=Function.prototype[Symbol.hasInstance],Object.defineProperty(Writable,Symbol.hasInstance,{value:function(object){return!!realHasInstance.call(this,object)||!(this!==Writable)&&object&&object._writableState instanceof WritableState}})):realHasInstance=function(object){return object instanceof this},Writable.prototype.pipe=function(){errorOrDestroy(this,new ERR_STREAM_CANNOT_PIPE)},Writable.prototype.write=function(chunk,encoding,cb){var state=this._writableState,ret=!1,isBuf=!state.objectMode&&_isUint8Array(chunk);return isBuf&&!Buffer.isBuffer(chunk)&&(chunk=_uint8ArrayToBuffer(chunk)),"function"==typeof encoding&&(cb=encoding,encoding=null),isBuf?encoding="buffer":!encoding&&(encoding=state.defaultEncoding),"function"!=typeof cb&&(cb=nop),state.ending?writeAfterEnd(this,cb):(isBuf||validChunk(this,state,chunk,cb))&&(state.pendingcb++,ret=writeOrBuffer(this,state,isBuf,chunk,encoding,cb)),ret},Writable.prototype.cork=function(){this._writableState.corked++},Writable.prototype.uncork=function(){var state=this._writableState;state.corked&&(state.corked--,!state.writing&&!state.corked&&!state.bufferProcessing&&state.bufferedRequest&&clearBuffer(this,state))},Writable.prototype.setDefaultEncoding=function(encoding){if("string"==typeof encoding&&(encoding=encoding.toLowerCase()),!(-1<["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((encoding+"").toLowerCase())))throw new ERR_UNKNOWN_ENCODING(encoding);return this._writableState.defaultEncoding=encoding,this},Object.defineProperty(Writable.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(Writable.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Writable.prototype._write=function(chunk,encoding,cb){cb(new ERR_METHOD_NOT_IMPLEMENTED("_write()"))},Writable.prototype._writev=null,Writable.prototype.end=function(chunk,encoding,cb){var state=this._writableState;return"function"==typeof chunk?(cb=chunk,chunk=null,encoding=null):"function"==typeof encoding&&(cb=encoding,encoding=null),null!==chunk&&void 0!==chunk&&this.write(chunk,encoding),state.corked&&(state.corked=1,this.uncork()),state.ending||endWritable(this,state,cb),this},Object.defineProperty(Writable.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(Writable.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(value){this._writableState&&(this._writableState.destroyed=value)}}),Writable.prototype.destroy=destroyImpl.destroy,Writable.prototype._undestroy=destroyImpl.undestroy,Writable.prototype._destroy=function(err,cb){cb(err)}}).call(this)}).call(this,require("_process"),"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global)},{"../errors":263,"./_stream_duplex":264,"./internal/streams/destroy":271,"./internal/streams/state":275,"./internal/streams/stream":276,_process:254,buffer:70,inherits:88,"util-deprecate":281}],269:[function(require,module){(function(process){(function(){'use strict';function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function createIterResult(value,done){return{value:value,done:done}}function readAndResolve(iter){var resolve=iter[kLastResolve];if(null!==resolve){var data=iter[kStream].read();null!==data&&(iter[kLastPromise]=null,iter[kLastResolve]=null,iter[kLastReject]=null,resolve(createIterResult(data,!1)))}}function onReadable(iter){process.nextTick(readAndResolve,iter)}function wrapForNext(lastPromise,iter){return function(resolve,reject){lastPromise.then(function(){return iter[kEnded]?void resolve(createIterResult(void 0,!0)):void iter[kHandlePromise](resolve,reject)},reject)}}var finished=require("./end-of-stream"),kLastResolve=Symbol("lastResolve"),kLastReject=Symbol("lastReject"),kError=Symbol("error"),kEnded=Symbol("ended"),kLastPromise=Symbol("lastPromise"),kHandlePromise=Symbol("handlePromise"),kStream=Symbol("stream"),AsyncIteratorPrototype=Object.getPrototypeOf(function(){}),ReadableStreamAsyncIteratorPrototype=Object.setPrototypeOf((_Object$setPrototypeO={get stream(){return this[kStream]},next:function(){var _this=this,error=this[kError];if(null!==error)return Promise.reject(error);if(this[kEnded])return Promise.resolve(createIterResult(void 0,!0));if(this[kStream].destroyed)return new Promise(function(resolve,reject){process.nextTick(function(){_this[kError]?reject(_this[kError]):resolve(createIterResult(void 0,!0))})});var lastPromise=this[kLastPromise],promise;if(lastPromise)promise=new Promise(wrapForNext(lastPromise,this));else{var data=this[kStream].read();if(null!==data)return Promise.resolve(createIterResult(data,!1));promise=new Promise(this[kHandlePromise])}return this[kLastPromise]=promise,promise}},_defineProperty(_Object$setPrototypeO,Symbol.asyncIterator,function(){return this}),_defineProperty(_Object$setPrototypeO,"return",function(){var _this2=this;return new Promise(function(resolve,reject){_this2[kStream].destroy(null,function(err){return err?void reject(err):void resolve(createIterResult(void 0,!0))})})}),_Object$setPrototypeO),AsyncIteratorPrototype),_Object$setPrototypeO;module.exports=function(stream){var iterator=Object.create(ReadableStreamAsyncIteratorPrototype,(_Object$create={},_defineProperty(_Object$create,kStream,{value:stream,writable:!0}),_defineProperty(_Object$create,kLastResolve,{value:null,writable:!0}),_defineProperty(_Object$create,kLastReject,{value:null,writable:!0}),_defineProperty(_Object$create,kError,{value:null,writable:!0}),_defineProperty(_Object$create,kEnded,{value:stream._readableState.endEmitted,writable:!0}),_defineProperty(_Object$create,kHandlePromise,{value:function(resolve,reject){var data=iterator[kStream].read();data?(iterator[kLastPromise]=null,iterator[kLastResolve]=null,iterator[kLastReject]=null,resolve(createIterResult(data,!1))):(iterator[kLastResolve]=resolve,iterator[kLastReject]=reject)},writable:!0}),_Object$create)),_Object$create;return iterator[kLastPromise]=null,finished(stream,function(err){if(err&&"ERR_STREAM_PREMATURE_CLOSE"!==err.code){var reject=iterator[kLastReject];return null!==reject&&(iterator[kLastPromise]=null,iterator[kLastResolve]=null,iterator[kLastReject]=null,reject(err)),void(iterator[kError]=err)}var resolve=iterator[kLastResolve];null!==resolve&&(iterator[kLastPromise]=null,iterator[kLastResolve]=null,iterator[kLastReject]=null,resolve(createIterResult(void 0,!0))),iterator[kEnded]=!0}),stream.on("readable",onReadable.bind(null,iterator)),iterator}}).call(this)}).call(this,require("_process"))},{"./end-of-stream":272,_process:254}],270:[function(require,module){'use strict';function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1,source;i<arguments.length;i++)source=null==arguments[i]?{}:arguments[i],i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))});return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0,descriptor;i<props.length;i++)descriptor=props[i],descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function copyBuffer(src,target,offset){Buffer.prototype.copy.call(src,target,offset)}var _require=require("buffer"),Buffer=_require.Buffer,_require2=require("util"),inspect=_require2.inspect,custom=inspect&&inspect.custom||"inspect";module.exports=function(){function BufferList(){_classCallCheck(this,BufferList),this.head=null,this.tail=null,this.length=0}return _createClass(BufferList,[{key:"push",value:function(v){var entry={data:v,next:null};0<this.length?this.tail.next=entry:this.head=entry,this.tail=entry,++this.length}},{key:"unshift",value:function(v){var entry={data:v,next:this.head};0===this.length&&(this.tail=entry),this.head=entry,++this.length}},{key:"shift",value:function(){if(0!==this.length){var ret=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,ret}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(s){if(0===this.length)return"";for(var p=this.head,ret=""+p.data;p=p.next;)ret+=s+p.data;return ret}},{key:"concat",value:function(n){if(0===this.length)return Buffer.alloc(0);for(var ret=Buffer.allocUnsafe(n>>>0),p=this.head,i=0;p;)copyBuffer(p.data,ret,i),i+=p.data.length,p=p.next;return ret}},{key:"consume",value:function(n,hasStrings){var ret;return n<this.head.data.length?(ret=this.head.data.slice(0,n),this.head.data=this.head.data.slice(n)):n===this.head.data.length?ret=this.shift():ret=hasStrings?this._getString(n):this._getBuffer(n),ret}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(n){var p=this.head,c=1,ret=p.data;for(n-=ret.length;p=p.next;){var str=p.data,nb=n>str.length?str.length:n;if(ret+=nb===str.length?str:str.slice(0,n),n-=nb,0===n){nb===str.length?(++c,this.head=p.next?p.next:this.tail=null):(this.head=p,p.data=str.slice(nb));break}++c}return this.length-=c,ret}},{key:"_getBuffer",value:function(n){var ret=Buffer.allocUnsafe(n),p=this.head,c=1;for(p.data.copy(ret),n-=p.data.length;p=p.next;){var buf=p.data,nb=n>buf.length?buf.length:n;if(buf.copy(ret,ret.length-n,0,nb),n-=nb,0===n){nb===buf.length?(++c,this.head=p.next?p.next:this.tail=null):(this.head=p,p.data=buf.slice(nb));break}++c}return this.length-=c,ret}},{key:custom,value:function(_,options){return inspect(this,_objectSpread({},options,{depth:0,customInspect:!1}))}}]),BufferList}()},{buffer:70,util:68}],271:[function(require,module){(function(process){(function(){'use strict';function destroy(err,cb){var _this=this,readableDestroyed=this._readableState&&this._readableState.destroyed,writableDestroyed=this._writableState&&this._writableState.destroyed;return readableDestroyed||writableDestroyed?(cb?cb(err):err&&(this._writableState?!this._writableState.errorEmitted&&(this._writableState.errorEmitted=!0,process.nextTick(emitErrorNT,this,err)):process.nextTick(emitErrorNT,this,err)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(err||null,function(err){!cb&&err?_this._writableState?_this._writableState.errorEmitted?process.nextTick(emitCloseNT,_this):(_this._writableState.errorEmitted=!0,process.nextTick(emitErrorAndCloseNT,_this,err)):process.nextTick(emitErrorAndCloseNT,_this,err):cb?(process.nextTick(emitCloseNT,_this),cb(err)):process.nextTick(emitCloseNT,_this)}),this)}function emitErrorAndCloseNT(self,err){emitErrorNT(self,err),emitCloseNT(self)}function emitCloseNT(self){self._writableState&&!self._writableState.emitClose||self._readableState&&!self._readableState.emitClose||self.emit("close")}function undestroy(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function emitErrorNT(self,err){self.emit("error",err)}module.exports={destroy:destroy,undestroy:undestroy,errorOrDestroy:function(stream,err){var rState=stream._readableState,wState=stream._writableState;rState&&rState.autoDestroy||wState&&wState.autoDestroy?stream.destroy(err):stream.emit("error",err)}}}).call(this)}).call(this,require("_process"))},{_process:254}],272:[function(require,module){'use strict';function once(callback){var called=!1;return function(){if(!called){called=!0;for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];callback.apply(this,args)}}}function noop(){}function isRequest(stream){return stream.setHeader&&"function"==typeof stream.abort}function eos(stream,opts,callback){if("function"==typeof opts)return eos(stream,null,opts);opts||(opts={}),callback=once(callback||noop);var readable=opts.readable||!1!==opts.readable&&stream.readable,writable=opts.writable||!1!==opts.writable&&stream.writable,onlegacyfinish=function(){stream.writable||onfinish()},writableEnded=stream._writableState&&stream._writableState.finished,onfinish=function(){writable=!1,writableEnded=!0,readable||callback.call(stream)},readableEnded=stream._readableState&&stream._readableState.endEmitted,onend=function(){readable=!1,readableEnded=!0,writable||callback.call(stream)},onerror=function(err){callback.call(stream,err)},onclose=function(){var err;return readable&&!readableEnded?(stream._readableState&&stream._readableState.ended||(err=new ERR_STREAM_PREMATURE_CLOSE),callback.call(stream,err)):writable&&!writableEnded?(stream._writableState&&stream._writableState.ended||(err=new ERR_STREAM_PREMATURE_CLOSE),callback.call(stream,err)):void 0},onrequest=function(){stream.req.on("finish",onfinish)};return isRequest(stream)?(stream.on("complete",onfinish),stream.on("abort",onclose),stream.req?onrequest():stream.on("request",onrequest)):writable&&!stream._writableState&&(stream.on("end",onlegacyfinish),stream.on("close",onlegacyfinish)),stream.on("end",onend),stream.on("finish",onfinish),!1!==opts.error&&stream.on("error",onerror),stream.on("close",onclose),function(){stream.removeListener("complete",onfinish),stream.removeListener("abort",onclose),stream.removeListener("request",onrequest),stream.req&&stream.req.removeListener("finish",onfinish),stream.removeListener("end",onlegacyfinish),stream.removeListener("close",onlegacyfinish),stream.removeListener("finish",onfinish),stream.removeListener("end",onend),stream.removeListener("error",onerror),stream.removeListener("close",onclose)}}var ERR_STREAM_PREMATURE_CLOSE=require("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;module.exports=eos},{"../../../errors":263}],273:[function(require,module){module.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],274:[function(require,module){'use strict';function once(callback){var called=!1;return function(){called||(called=!0,callback.apply(void 0,arguments))}}function noop(err){if(err)throw err}function isRequest(stream){return stream.setHeader&&"function"==typeof stream.abort}function destroyer(stream,reading,writing,callback){callback=once(callback);var closed=!1;stream.on("close",function(){closed=!0}),eos===void 0&&(eos=require("./end-of-stream")),eos(stream,{readable:reading,writable:writing},function(err){return err?callback(err):void(closed=!0,callback())});var destroyed=!1;return function(err){if(!closed)return destroyed?void 0:(destroyed=!0,isRequest(stream)?stream.abort():"function"==typeof stream.destroy?stream.destroy():void callback(err||new ERR_STREAM_DESTROYED("pipe")))}}function call(fn){fn()}function pipe(from,to){return from.pipe(to)}function popCallback(streams){return streams.length?"function"==typeof streams[streams.length-1]?streams.pop():noop:noop}var _require$codes=require("../../../errors").codes,ERR_MISSING_ARGS=_require$codes.ERR_MISSING_ARGS,ERR_STREAM_DESTROYED=_require$codes.ERR_STREAM_DESTROYED,eos;module.exports=function pipeline(){for(var _len=arguments.length,streams=Array(_len),_key=0;_key<_len;_key++)streams[_key]=arguments[_key];var callback=popCallback(streams);if(Array.isArray(streams[0])&&(streams=streams[0]),2>streams.length)throw new ERR_MISSING_ARGS("streams");var destroys=streams.map(function(stream,i){var reading=i<streams.length-1,writing=0<i;return destroyer(stream,reading,writing,function(err){error||(error=err),err&&destroys.forEach(call),reading||(destroys.forEach(call),callback(error))})}),error;return streams.reduce(pipe)}},{"../../../errors":263,"./end-of-stream":272}],275:[function(require,module){'use strict';function highWaterMarkFrom(options,isDuplex,duplexKey){return null==options.highWaterMark?isDuplex?options[duplexKey]:null:options.highWaterMark}var ERR_INVALID_OPT_VALUE=require("../../../errors").codes.ERR_INVALID_OPT_VALUE;module.exports={getHighWaterMark:function(state,options,duplexKey,isDuplex){var hwm=highWaterMarkFrom(options,isDuplex,duplexKey);if(null!=hwm){if(!(isFinite(hwm)&&Math.floor(hwm)===hwm)||0>hwm){var name=isDuplex?duplexKey:"highWaterMark";throw new ERR_INVALID_OPT_VALUE(name,hwm)}return Math.floor(hwm)}return state.objectMode?16:16384}}},{"../../../errors":263}],276:[function(require,module){module.exports=require("events").EventEmitter},{events:84}],277:[function(require,module,exports){exports=module.exports=require("./lib/_stream_readable.js"),exports.Stream=exports,exports.Readable=exports,exports.Writable=require("./lib/_stream_writable.js"),exports.Duplex=require("./lib/_stream_duplex.js"),exports.Transform=require("./lib/_stream_transform.js"),exports.PassThrough=require("./lib/_stream_passthrough.js"),exports.finished=require("./lib/internal/streams/end-of-stream.js"),exports.pipeline=require("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":264,"./lib/_stream_passthrough.js":265,"./lib/_stream_readable.js":266,"./lib/_stream_transform.js":267,"./lib/_stream_writable.js":268,"./lib/internal/streams/end-of-stream.js":272,"./lib/internal/streams/pipeline.js":274}],278:[function(require,module,exports){'use strict';function _normalizeEncoding(enc){if(!enc)return"utf8";for(var retried;;)switch(enc){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return enc;default:if(retried)return;enc=(""+enc).toLowerCase(),retried=!0;}}function normalizeEncoding(enc){var nenc=_normalizeEncoding(enc);if("string"!=typeof nenc&&(Buffer.isEncoding===isEncoding||!isEncoding(enc)))throw new Error("Unknown encoding: "+enc);return nenc||enc}function StringDecoder(encoding){this.encoding=normalizeEncoding(encoding);var nb;switch(this.encoding){case"utf16le":this.text=utf16Text,this.end=utf16End,nb=4;break;case"utf8":this.fillLast=utf8FillLast,nb=4;break;case"base64":this.text=base64Text,this.end=base64End,nb=3;break;default:return this.write=simpleWrite,void(this.end=simpleEnd);}this.lastNeed=0,this.lastTotal=0,this.lastChar=Buffer.allocUnsafe(nb)}function utf8CheckByte(byte){if(127>=byte)return 0;return 6==byte>>5?2:14==byte>>4?3:30==byte>>3?4:2==byte>>6?-1:-2}function utf8CheckIncomplete(self,buf,i){var j=buf.length-1;if(j<i)return 0;var nb=utf8CheckByte(buf[j]);return 0<=nb?(0<nb&&(self.lastNeed=nb-1),nb):--j<i||-2===nb?0:(nb=utf8CheckByte(buf[j]),0<=nb)?(0<nb&&(self.lastNeed=nb-2),nb):--j<i||-2===nb?0:(nb=utf8CheckByte(buf[j]),0<=nb?(0<nb&&(2===nb?nb=0:self.lastNeed=nb-3),nb):0)}function utf8CheckExtraBytes(self,buf){if(128!=(192&buf[0]))return self.lastNeed=0,"\uFFFD";if(1<self.lastNeed&&1<buf.length){if(128!=(192&buf[1]))return self.lastNeed=1,"\uFFFD";if(2<self.lastNeed&&2<buf.length&&128!=(192&buf[2]))return self.lastNeed=2,"\uFFFD"}}function utf8FillLast(buf){var p=this.lastTotal-this.lastNeed,r=utf8CheckExtraBytes(this,buf,p);return void 0===r?this.lastNeed<=buf.length?(buf.copy(this.lastChar,p,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):void(buf.copy(this.lastChar,p,0,buf.length),this.lastNeed-=buf.length):r}function utf8Text(buf,i){var total=utf8CheckIncomplete(this,buf,i);if(!this.lastNeed)return buf.toString("utf8",i);this.lastTotal=total;var end=buf.length-(total-this.lastNeed);return buf.copy(this.lastChar,0,end),buf.toString("utf8",i,end)}function utf8End(buf){var r=buf&&buf.length?this.write(buf):"";return this.lastNeed?r+"\uFFFD":r}function utf16Text(buf,i){if(0==(buf.length-i)%2){var r=buf.toString("utf16le",i);if(r){var c=r.charCodeAt(r.length-1);if(55296<=c&&56319>=c)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=buf[buf.length-2],this.lastChar[1]=buf[buf.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=buf[buf.length-1],buf.toString("utf16le",i,buf.length-1)}function utf16End(buf){var r=buf&&buf.length?this.write(buf):"";if(this.lastNeed){var end=this.lastTotal-this.lastNeed;return r+this.lastChar.toString("utf16le",0,end)}return r}function base64Text(buf,i){var n=(buf.length-i)%3;return 0==n?buf.toString("base64",i):(this.lastNeed=3-n,this.lastTotal=3,1==n?this.lastChar[0]=buf[buf.length-1]:(this.lastChar[0]=buf[buf.length-2],this.lastChar[1]=buf[buf.length-1]),buf.toString("base64",i,buf.length-n))}function base64End(buf){var r=buf&&buf.length?this.write(buf):"";return this.lastNeed?r+this.lastChar.toString("base64",0,3-this.lastNeed):r}function simpleWrite(buf){return buf.toString(this.encoding)}function simpleEnd(buf){return buf&&buf.length?this.write(buf):""}var Buffer=require("safe-buffer").Buffer,isEncoding=Buffer.isEncoding||function(encoding){switch(encoding=""+encoding,encoding&&encoding.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1;}};exports.StringDecoder=StringDecoder,StringDecoder.prototype.write=function(buf){if(0===buf.length)return"";var r,i;if(this.lastNeed){if(r=this.fillLast(buf),void 0===r)return"";i=this.lastNeed,this.lastNeed=0}else i=0;return i<buf.length?r?r+this.text(buf,i):this.text(buf,i):r||""},StringDecoder.prototype.end=utf8End,StringDecoder.prototype.text=utf8Text,StringDecoder.prototype.fillLast=function(buf){return this.lastNeed<=buf.length?(buf.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):void(buf.copy(this.lastChar,this.lastTotal-this.lastNeed,0,buf.length),this.lastNeed-=buf.length)}},{"safe-buffer":258}],279:[function(require,module,exports){'use strict';function Url(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function urlParse(url,parseQueryString,slashesDenoteHost){if(url&&util.isObject(url)&&url instanceof Url)return url;var u=new Url;return u.parse(url,parseQueryString,slashesDenoteHost),u}var punycode=require("punycode"),util=require("./util");exports.parse=urlParse,exports.resolve=function(source,relative){return urlParse(source,!1,!0).resolve(relative)},exports.resolveObject=function(source,relative){return source?urlParse(source,!1,!0).resolveObject(relative):relative},exports.format=function(obj){return util.isString(obj)&&(obj=urlParse(obj)),obj instanceof Url?obj.format():Url.prototype.format.call(obj)},exports.Url=Url;var protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,simplePathPattern=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,unwise=["{","}","|","\\","^","`"].concat(["<",">","\"","`"," ","\r","\n","\t"]),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnamePartPattern=/^[+a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,unsafeProtocol={javascript:!0,"javascript:":!0},hostlessProtocol={javascript:!0,"javascript:":!0},slashedProtocol={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},querystring=require("querystring");Url.prototype.parse=function(url,parseQueryString,slashesDenoteHost){if(!util.isString(url))throw new TypeError("Parameter 'url' must be a string, not "+typeof url);var queryIndex=url.indexOf("?"),splitter=-1!==queryIndex&&queryIndex<url.indexOf("#")?"?":"#",uSplit=url.split(splitter);uSplit[0]=uSplit[0].replace(/\\/g,"/"),url=uSplit.join(splitter);var rest=url;if(rest=rest.trim(),!slashesDenoteHost&&1===url.split("#").length){var simplePath=simplePathPattern.exec(rest);if(simplePath)return this.path=rest,this.href=rest,this.pathname=simplePath[1],simplePath[2]?(this.search=simplePath[2],this.query=parseQueryString?querystring.parse(this.search.substr(1)):this.search.substr(1)):parseQueryString&&(this.search="",this.query={}),this}var proto=protocolPattern.exec(rest);if(proto){proto=proto[0];var lowerProto=proto.toLowerCase();this.protocol=lowerProto,rest=rest.substr(proto.length)}if(slashesDenoteHost||proto||rest.match(/^\/\/[^@\/]+@[^@\/]+/)){var slashes="//"===rest.substr(0,2);slashes&&!(proto&&hostlessProtocol[proto])&&(rest=rest.substr(2),this.slashes=!0)}if(!hostlessProtocol[proto]&&(slashes||proto&&!slashedProtocol[proto])){for(var hostEnd=-1,i=0,hec;i<hostEndingChars.length;i++)hec=rest.indexOf(hostEndingChars[i]),-1!==hec&&(-1===hostEnd||hec<hostEnd)&&(hostEnd=hec);var auth,atSign;atSign=-1===hostEnd?rest.lastIndexOf("@"):rest.lastIndexOf("@",hostEnd),-1!==atSign&&(auth=rest.slice(0,atSign),rest=rest.slice(atSign+1),this.auth=decodeURIComponent(auth)),hostEnd=-1;for(var i=0,hec;i<nonHostChars.length;i++)hec=rest.indexOf(nonHostChars[i]),-1!==hec&&(-1===hostEnd||hec<hostEnd)&&(hostEnd=hec);-1===hostEnd&&(hostEnd=rest.length),this.host=rest.slice(0,hostEnd),rest=rest.slice(hostEnd),this.parseHost(),this.hostname=this.hostname||"";var ipv6Hostname="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!ipv6Hostname)for(var hostparts=this.hostname.split(/\./),i=0,l=hostparts.length,part;i<l;i++)if(part=hostparts[i],part&&!part.match(hostnamePartPattern)){for(var newpart="",j=0,k=part.length;j<k;j++)newpart+=127<part.charCodeAt(j)?"x":part[j];if(!newpart.match(hostnamePartPattern)){var validParts=hostparts.slice(0,i),notHost=hostparts.slice(i+1),bit=part.match(hostnamePartStart);bit&&(validParts.push(bit[1]),notHost.unshift(bit[2])),notHost.length&&(rest="/"+notHost.join(".")+rest),this.hostname=validParts.join(".");break}}this.hostname=255<this.hostname.length?"":this.hostname.toLowerCase(),ipv6Hostname||(this.hostname=punycode.toASCII(this.hostname));var p=this.port?":"+this.port:"",h=this.hostname||"";this.host=h+p,this.href+=this.host,ipv6Hostname&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==rest[0]&&(rest="/"+rest))}if(!unsafeProtocol[lowerProto])for(var i=0,l=autoEscape.length,ae;i<l;i++)if(ae=autoEscape[i],-1!==rest.indexOf(ae)){var esc=encodeURIComponent(ae);esc===ae&&(esc=escape(ae)),rest=rest.split(ae).join(esc)}var hash=rest.indexOf("#");-1!==hash&&(this.hash=rest.substr(hash),rest=rest.slice(0,hash));var qm=rest.indexOf("?");if(-1===qm?parseQueryString&&(this.search="",this.query={}):(this.search=rest.substr(qm),this.query=rest.substr(qm+1),parseQueryString&&(this.query=querystring.parse(this.query)),rest=rest.slice(0,qm)),rest&&(this.pathname=rest),slashedProtocol[lowerProto]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var p=this.pathname||"",s=this.search||"";this.path=p+s}return this.href=this.format(),this},Url.prototype.format=function(){var auth=this.auth||"";auth&&(auth=encodeURIComponent(auth),auth=auth.replace(/%3A/i,":"),auth+="@");var protocol=this.protocol||"",pathname=this.pathname||"",hash=this.hash||"",host=!1,query="";this.host?host=auth+this.host:this.hostname&&(host=auth+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(host+=":"+this.port)),this.query&&util.isObject(this.query)&&Object.keys(this.query).length&&(query=querystring.stringify(this.query));var search=this.search||query&&"?"+query||"";return protocol&&":"!==protocol.substr(-1)&&(protocol+=":"),this.slashes||(!protocol||slashedProtocol[protocol])&&!1!==host?(host="//"+(host||""),pathname&&"/"!==pathname.charAt(0)&&(pathname="/"+pathname)):!host&&(host=""),hash&&"#"!==hash.charAt(0)&&(hash="#"+hash),search&&"?"!==search.charAt(0)&&(search="?"+search),pathname=pathname.replace(/[?#]/g,function(match){return encodeURIComponent(match)}),search=search.replace("#","%23"),protocol+host+pathname+search+hash},Url.prototype.resolve=function(relative){return this.resolveObject(urlParse(relative,!1,!0)).format()},Url.prototype.resolveObject=function(relative){if(util.isString(relative)){var rel=new Url;rel.parse(relative,!1,!0),relative=rel}for(var result=new Url,tkeys=Object.keys(this),tk=0,tkey;tk<tkeys.length;tk++)tkey=tkeys[tk],result[tkey]=this[tkey];if(result.hash=relative.hash,""===relative.href)return result.href=result.format(),result;if(relative.slashes&&!relative.protocol){for(var rkeys=Object.keys(relative),rk=0,rkey;rk<rkeys.length;rk++)rkey=rkeys[rk],"protocol"!==rkey&&(result[rkey]=relative[rkey]);return slashedProtocol[result.protocol]&&result.hostname&&!result.pathname&&(result.path=result.pathname="/"),result.href=result.format(),result}if(relative.protocol&&relative.protocol!==result.protocol){if(!slashedProtocol[relative.protocol]){for(var keys=Object.keys(relative),v=0,k;v<keys.length;v++)k=keys[v],result[k]=relative[k];return result.href=result.format(),result}if(result.protocol=relative.protocol,!relative.host&&!hostlessProtocol[relative.protocol]){for(var relPath=(relative.pathname||"").split("/");relPath.length&&!(relative.host=relPath.shift()););relative.host||(relative.host=""),relative.hostname||(relative.hostname=""),""!==relPath[0]&&relPath.unshift(""),2>relPath.length&&relPath.unshift(""),result.pathname=relPath.join("/")}else result.pathname=relative.pathname;if(result.search=relative.search,result.query=relative.query,result.host=relative.host||"",result.auth=relative.auth,result.hostname=relative.hostname||relative.host,result.port=relative.port,result.pathname||result.search){var p=result.pathname||"",s=result.search||"";result.path=p+s}return result.slashes=result.slashes||relative.slashes,result.href=result.format(),result}var isSourceAbs=result.pathname&&"/"===result.pathname.charAt(0),isRelAbs=relative.host||relative.pathname&&"/"===relative.pathname.charAt(0),mustEndAbs=isRelAbs||isSourceAbs||result.host&&relative.pathname,removeAllDots=mustEndAbs,srcPath=result.pathname&&result.pathname.split("/")||[],relPath=relative.pathname&&relative.pathname.split("/")||[],psychotic=result.protocol&&!slashedProtocol[result.protocol];if(psychotic&&(result.hostname="",result.port=null,result.host&&(""===srcPath[0]?srcPath[0]=result.host:srcPath.unshift(result.host)),result.host="",relative.protocol&&(relative.hostname=null,relative.port=null,relative.host&&(""===relPath[0]?relPath[0]=relative.host:relPath.unshift(relative.host)),relative.host=null),mustEndAbs=mustEndAbs&&(""===relPath[0]||""===srcPath[0])),isRelAbs)result.host=relative.host||""===relative.host?relative.host:result.host,result.hostname=relative.hostname||""===relative.hostname?relative.hostname:result.hostname,result.search=relative.search,result.query=relative.query,srcPath=relPath;else if(relPath.length)srcPath||(srcPath=[]),srcPath.pop(),srcPath=srcPath.concat(relPath),result.search=relative.search,result.query=relative.query;else if(!util.isNullOrUndefined(relative.search)){if(psychotic){result.hostname=result.host=srcPath.shift();var authInHost=!!(result.host&&0<result.host.indexOf("@"))&&result.host.split("@");authInHost&&(result.auth=authInHost.shift(),result.host=result.hostname=authInHost.shift())}return result.search=relative.search,result.query=relative.query,util.isNull(result.pathname)&&util.isNull(result.search)||(result.path=(result.pathname?result.pathname:"")+(result.search?result.search:"")),result.href=result.format(),result}if(!srcPath.length)return result.pathname=null,result.path=result.search?"/"+result.search:null,result.href=result.format(),result;for(var last=srcPath.slice(-1)[0],hasTrailingSlash=(result.host||relative.host||1<srcPath.length)&&("."===last||".."===last)||""===last,up=0,i=srcPath.length;0<=i;i--)last=srcPath[i],"."===last?srcPath.splice(i,1):".."===last?(srcPath.splice(i,1),up++):up&&(srcPath.splice(i,1),up--);if(!mustEndAbs&&!removeAllDots)for(;up--;up)srcPath.unshift("..");mustEndAbs&&""!==srcPath[0]&&(!srcPath[0]||"/"!==srcPath[0].charAt(0))&&srcPath.unshift(""),hasTrailingSlash&&"/"!==srcPath.join("/").substr(-1)&&srcPath.push("");var isAbsolute=""===srcPath[0]||srcPath[0]&&"/"===srcPath[0].charAt(0);if(psychotic){result.hostname=result.host=isAbsolute?"":srcPath.length?srcPath.shift():"";var authInHost=!!(result.host&&0<result.host.indexOf("@"))&&result.host.split("@");authInHost&&(result.auth=authInHost.shift(),result.host=result.hostname=authInHost.shift())}return mustEndAbs=mustEndAbs||result.host&&srcPath.length,mustEndAbs&&!isAbsolute&&srcPath.unshift(""),srcPath.length?result.pathname=srcPath.join("/"):(result.pathname=null,result.path=null),util.isNull(result.pathname)&&util.isNull(result.search)||(result.path=(result.pathname?result.pathname:"")+(result.search?result.search:"")),result.auth=relative.auth||result.auth,result.slashes=result.slashes||relative.slashes,result.href=result.format(),result},Url.prototype.parseHost=function(){var host=this.host,port=portPattern.exec(host);port&&(port=port[0],":"!==port&&(this.port=port.substr(1)),host=host.substr(0,host.length-port.length)),host&&(this.hostname=host)}},{"./util":280,punycode:69,querystring:257}],280:[function(require,module){'use strict';module.exports={isString:function(arg){return"string"==typeof arg},isObject:function(arg){return"object"==typeof arg&&null!==arg},isNull:function(arg){return null===arg},isNullOrUndefined:function(arg){return null==arg}}},{}],281:[function(require,module){(function(global){(function(){function config(name){try{if(!global.localStorage)return!1}catch(_){return!1}var val=global.localStorage[name];return null!=val&&"true"===(val+"").toLowerCase()}module.exports=function(fn,msg){function deprecated(){if(!warned){if(config("throwDeprecation"))throw new Error(msg);else config("traceDeprecation")?console.trace(msg):console.warn(msg);warned=!0}return fn.apply(this,arguments)}if(config("noDeprecation"))return fn;var warned=!1;return deprecated}}).call(this)}).call(this,"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global)},{}],282:[function(require,module){module.exports=function(){for(var target={},i=0,source;i<arguments.length;i++)for(var key in source=arguments[i],source)hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target};var hasOwnProperty=Object.prototype.hasOwnProperty},{}]},{},[17])(17)});
//# sourceMappingURL=libx.min.js.map
